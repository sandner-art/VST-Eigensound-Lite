(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();function Fh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ou={exports:{}},Eo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Ny(){if(hm)return Eo;hm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(a,c,d){var m=null;if(d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),"key"in c){d={};for(var h in c)h!=="key"&&(d[h]=c[h])}else d=c;return c=d.ref,{$$typeof:n,type:a,key:m,ref:c!==void 0?c:null,props:d}}return Eo.Fragment=e,Eo.jsx=l,Eo.jsxs=l,Eo}var pm;function Dy(){return pm||(pm=1,ou.exports=Ny()),ou.exports}var S=Dy(),au={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function wy(){if(gm)return Ee;gm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,N={};function D(M,P,j){this.props=M,this.context=P,this.refs=N,this.updater=j||E}D.prototype.isReactComponent={},D.prototype.setState=function(M,P){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,P,"setState")},D.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=D.prototype;function L(M,P,j){this.props=M,this.context=P,this.refs=N,this.updater=j||E}var z=L.prototype=new B;z.constructor=L,R(z,D.prototype),z.isPureReactComponent=!0;var $=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function ee(M,P,j,te,pe,Ne){return j=Ne.ref,{$$typeof:n,type:M,key:P,ref:j!==void 0?j:null,props:Ne}}function de(M,P){return ee(M.type,P,void 0,void 0,void 0,M.props)}function ie(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ue(M){var P={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(j){return P[j]})}var ce=/\/+/g;function J(M,P){return typeof M=="object"&&M!==null&&M.key!=null?ue(""+M.key):P.toString(36)}function _e(){}function xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(_e,_e):(M.status="pending",M.then(function(P){M.status==="pending"&&(M.status="fulfilled",M.value=P)},function(P){M.status==="pending"&&(M.status="rejected",M.reason=P)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function W(M,P,j,te,pe){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var ye=!1;if(M===null)ye=!0;else switch(Ne){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(M.$$typeof){case n:case e:ye=!0;break;case v:return ye=M._init,W(ye(M._payload),P,j,te,pe)}}if(ye)return pe=pe(M),ye=te===""?"."+J(M,0):te,$(pe)?(j="",ye!=null&&(j=ye.replace(ce,"$&/")+"/"),W(pe,P,j,"",function(at){return at})):pe!=null&&(ie(pe)&&(pe=de(pe,j+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(ce,"$&/")+"/")+ye)),P.push(pe)),1;ye=0;var ft=te===""?".":te+":";if($(M))for(var Ce=0;Ce<M.length;Ce++)te=M[Ce],Ne=ft+J(te,Ce),ye+=W(te,P,j,Ne,pe);else if(Ce=x(M),typeof Ce=="function")for(M=Ce.call(M),Ce=0;!(te=M.next()).done;)te=te.value,Ne=ft+J(te,Ce++),ye+=W(te,P,j,Ne,pe);else if(Ne==="object"){if(typeof M.then=="function")return W(xe(M),P,j,te,pe);throw P=String(M),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return ye}function I(M,P,j){if(M==null)return M;var te=[],pe=0;return W(M,te,"","",function(Ne){return P.call(j,Ne,pe++)}),te}function X(M){if(M._status===-1){var P=M._result;P=P(),P.then(function(j){(M._status===0||M._status===-1)&&(M._status=1,M._result=j)},function(j){(M._status===0||M._status===-1)&&(M._status=2,M._result=j)}),M._status===-1&&(M._status=0,M._result=P)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function fe(){}return Ee.Children={map:I,forEach:function(M,P,j){I(M,function(){P.apply(this,arguments)},j)},count:function(M){var P=0;return I(M,function(){P++}),P},toArray:function(M){return I(M,function(P){return P})||[]},only:function(M){if(!ie(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ee.Component=D,Ee.Fragment=l,Ee.Profiler=c,Ee.PureComponent=L,Ee.StrictMode=a,Ee.Suspense=y,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(M){return G.H.useMemoCache(M)}},Ee.cache=function(M){return function(){return M.apply(null,arguments)}},Ee.cloneElement=function(M,P,j){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=R({},M.props),pe=M.key,Ne=void 0;if(P!=null)for(ye in P.ref!==void 0&&(Ne=void 0),P.key!==void 0&&(pe=""+P.key),P)!Q.call(P,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&P.ref===void 0||(te[ye]=P[ye]);var ye=arguments.length-2;if(ye===1)te.children=j;else if(1<ye){for(var ft=Array(ye),Ce=0;Ce<ye;Ce++)ft[Ce]=arguments[Ce+2];te.children=ft}return ee(M.type,pe,void 0,void 0,Ne,te)},Ee.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:d,_context:M},M},Ee.createElement=function(M,P,j){var te,pe={},Ne=null;if(P!=null)for(te in P.key!==void 0&&(Ne=""+P.key),P)Q.call(P,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=P[te]);var ye=arguments.length-2;if(ye===1)pe.children=j;else if(1<ye){for(var ft=Array(ye),Ce=0;Ce<ye;Ce++)ft[Ce]=arguments[Ce+2];pe.children=ft}if(M&&M.defaultProps)for(te in ye=M.defaultProps,ye)pe[te]===void 0&&(pe[te]=ye[te]);return ee(M,Ne,void 0,void 0,null,pe)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:h,render:M}},Ee.isValidElement=ie,Ee.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:X}},Ee.memo=function(M,P){return{$$typeof:g,type:M,compare:P===void 0?null:P}},Ee.startTransition=function(M){var P=G.T,j={};G.T=j;try{var te=M(),pe=G.S;pe!==null&&pe(j,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(fe,oe)}catch(Ne){oe(Ne)}finally{G.T=P}},Ee.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Ee.use=function(M){return G.H.use(M)},Ee.useActionState=function(M,P,j){return G.H.useActionState(M,P,j)},Ee.useCallback=function(M,P){return G.H.useCallback(M,P)},Ee.useContext=function(M){return G.H.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M,P){return G.H.useDeferredValue(M,P)},Ee.useEffect=function(M,P,j){var te=G.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(M,P)},Ee.useId=function(){return G.H.useId()},Ee.useImperativeHandle=function(M,P,j){return G.H.useImperativeHandle(M,P,j)},Ee.useInsertionEffect=function(M,P){return G.H.useInsertionEffect(M,P)},Ee.useLayoutEffect=function(M,P){return G.H.useLayoutEffect(M,P)},Ee.useMemo=function(M,P){return G.H.useMemo(M,P)},Ee.useOptimistic=function(M,P){return G.H.useOptimistic(M,P)},Ee.useReducer=function(M,P,j){return G.H.useReducer(M,P,j)},Ee.useRef=function(M){return G.H.useRef(M)},Ee.useState=function(M){return G.H.useState(M)},Ee.useSyncExternalStore=function(M,P,j){return G.H.useSyncExternalStore(M,P,j)},Ee.useTransition=function(){return G.H.useTransition()},Ee.version="19.1.0",Ee}var ym;function Mu(){return ym||(ym=1,au.exports=wy()),au.exports}var le=Mu();const Hh=Fh(le);var su={exports:{}},Ao={},ru={exports:{}},uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function Iy(){return vm||(vm=1,function(n){function e(I,X){var oe=I.length;I.push(X);e:for(;0<oe;){var fe=oe-1>>>1,M=I[fe];if(0<c(M,X))I[fe]=X,I[oe]=M,oe=fe;else break e}}function l(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var X=I[0],oe=I.pop();if(oe!==X){I[0]=oe;e:for(var fe=0,M=I.length,P=M>>>1;fe<P;){var j=2*(fe+1)-1,te=I[j],pe=j+1,Ne=I[pe];if(0>c(te,oe))pe<M&&0>c(Ne,te)?(I[fe]=Ne,I[pe]=oe,fe=pe):(I[fe]=te,I[j]=oe,fe=j);else if(pe<M&&0>c(Ne,oe))I[fe]=Ne,I[pe]=oe,fe=pe;else break e}}return X}function c(I,X){var oe=I.sortIndex-X.sortIndex;return oe!==0?oe:I.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var y=[],g=[],v=1,T=null,x=3,E=!1,R=!1,N=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function $(I){for(var X=l(g);X!==null;){if(X.callback===null)a(g);else if(X.startTime<=I)a(g),X.sortIndex=X.expirationTime,e(y,X);else break;X=l(g)}}function G(I){if(N=!1,$(I),!R)if(l(y)!==null)R=!0,Q||(Q=!0,J());else{var X=l(g);X!==null&&W(G,X.startTime-I)}}var Q=!1,ee=-1,de=5,ie=-1;function ue(){return D?!0:!(n.unstable_now()-ie<de)}function ce(){if(D=!1,Q){var I=n.unstable_now();ie=I;var X=!0;try{e:{R=!1,N&&(N=!1,L(ee),ee=-1),E=!0;var oe=x;try{t:{for($(I),T=l(y);T!==null&&!(T.expirationTime>I&&ue());){var fe=T.callback;if(typeof fe=="function"){T.callback=null,x=T.priorityLevel;var M=fe(T.expirationTime<=I);if(I=n.unstable_now(),typeof M=="function"){T.callback=M,$(I),X=!0;break t}T===l(y)&&a(y),$(I)}else a(y);T=l(y)}if(T!==null)X=!0;else{var P=l(g);P!==null&&W(G,P.startTime-I),X=!1}}break e}finally{T=null,x=oe,E=!1}X=void 0}}finally{X?J():Q=!1}}}var J;if(typeof z=="function")J=function(){z(ce)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,xe=_e.port2;_e.port1.onmessage=ce,J=function(){xe.postMessage(null)}}else J=function(){B(ce,0)};function W(I,X){ee=B(function(){I(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(I){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var oe=x;x=X;try{return I()}finally{x=oe}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(I,X){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var oe=x;x=I;try{return X()}finally{x=oe}},n.unstable_scheduleCallback=function(I,X,oe){var fe=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?fe+oe:fe):oe=fe,I){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=oe+M,I={id:v++,callback:X,priorityLevel:I,startTime:oe,expirationTime:M,sortIndex:-1},oe>fe?(I.sortIndex=oe,e(g,I),l(y)===null&&I===l(g)&&(N?(L(ee),ee=-1):N=!0,W(G,oe-fe))):(I.sortIndex=M,e(y,I),R||E||(R=!0,Q||(Q=!0,J()))),I},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(I){var X=x;return function(){var oe=x;x=X;try{return I.apply(this,arguments)}finally{x=oe}}}}(uu)),uu}var Tm;function Uy(){return Tm||(Tm=1,ru.exports=Iy()),ru.exports}var cu={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function Vy(){if(Cm)return Mt;Cm=1;var n=Mu();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:T==null?null:""+T,children:y,containerInfo:g,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Mt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return d(y,g,null,v)},Mt.flushSync=function(y){var g=m.T,v=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=g,a.p=v,a.d.f()}},Mt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},Mt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Mt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,T=h(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:E}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:x,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Mt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},Mt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=h(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Mt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},Mt.requestFormReset=function(y){a.d.r(y)},Mt.unstable_batchedUpdates=function(y,g){return y(g)},Mt.useFormState=function(y,g,v){return m.H.useFormState(y,g,v)},Mt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Mt.version="19.1.0",Mt}var Sm;function qy(){if(Sm)return cu.exports;Sm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cu.exports=Vy(),cu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Ly(){if(xm)return Ao;xm=1;var n=Uy(),e=Mu(),l=qy();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,o=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(o=i.return),t=i.return;while(t)}return i.tag===3?o:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(d(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(a(188));return i!==t?null:t}for(var o=t,u=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return h(f),t;if(p===u)return h(f),i;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=f,u=p;else{for(var C=!1,_=f.child;_;){if(_===o){C=!0,o=f,u=p;break}if(_===u){C=!0,u=f,o=p;break}_=_.sibling}if(!C){for(_=p.child;_;){if(_===o){C=!0,o=p,u=f;break}if(_===u){C=!0,u=p,o=f;break}_=_.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_e?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case D:return"Profiler";case N:return"StrictMode";case G:return"Suspense";case Q:return"SuspenseList";case ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case z:return(t.displayName||"Context")+".Provider";case L:return(t._context.displayName||"Context")+".Consumer";case $:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return i=t.displayName||null,i!==null?i:xe(t.type)||"Memo";case de:i=t._payload,t=t._init;try{return xe(t(i))}catch{}}return null}var W=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},fe=[],M=-1;function P(t){return{current:t}}function j(t){0>M||(t.current=fe[M],fe[M]=null,M--)}function te(t,i){M++,fe[M]=t.current,t.current=i}var pe=P(null),Ne=P(null),ye=P(null),ft=P(null);function Ce(t,i){switch(te(ye,i),te(Ne,t),te(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Fd(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Fd(i),t=Hd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(pe),te(pe,t)}function at(){j(pe),j(Ne),j(ye)}function bt(t){t.memoizedState!==null&&te(ft,t);var i=pe.current,o=Hd(i,t.type);i!==o&&(te(Ne,t),te(pe,o))}function un(t){Ne.current===t&&(j(pe),j(Ne)),ft.current===t&&(j(ft),To._currentValue=oe)}var Ot=Object.prototype.hasOwnProperty,yn=n.unstable_scheduleCallback,st=n.unstable_cancelCallback,qn=n.unstable_shouldYield,cn=n.unstable_requestPaint,Ct=n.unstable_now,fn=n.unstable_getCurrentPriorityLevel,Di=n.unstable_ImmediatePriority,ai=n.unstable_UserBlockingPriority,Le=n.unstable_NormalPriority,Ln=n.unstable_LowPriority,wi=n.unstable_IdlePriority,vn=n.log,Al=n.unstable_setDisableYieldValue,Yt=null,dt=null;function Jt(t){if(typeof vn=="function"&&Al(t),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Yt,t)}catch{}}var mt=Math.clz32?Math.clz32:ri,Ml=Math.log,si=Math.LN2;function ri(t){return t>>>=0,t===0?32:31-(Ml(t)/si|0)|0}var K=256,Ge=4194304;function ge(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function we(t,i,o){var u=t.pendingLanes;if(u===0)return 0;var f=0,p=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var _=u&134217727;return _!==0?(u=_&~p,u!==0?f=ge(u):(C&=_,C!==0?f=ge(C):o||(o=_&~t,o!==0&&(f=ge(o))))):(_=u&~p,_!==0?f=ge(_):C!==0?f=ge(C):o||(o=u&~t,o!==0&&(f=ge(o)))),f===0?0:i!==0&&i!==f&&(i&p)===0&&(p=f&-f,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:f}function Xe(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ii(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var t=K;return K<<=1,(K&4194048)===0&&(K=256),t}function ui(){var t=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),t}function Ui(t){for(var i=[],o=0;31>o;o++)i.push(t);return i}function kn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wa(t,i,o,u,f,p){var C=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var _=t.entanglements,A=t.expirationTimes,V=t.hiddenUpdates;for(o=C&~o;0<o;){var F=31-mt(o),O=1<<F;_[F]=0,A[F]=-1;var q=V[F];if(q!==null)for(V[F]=null,F=0;F<q.length;F++){var k=q[F];k!==null&&(k.lane&=-536870913)}o&=~O}u!==0&&bl(t,u,0),p!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=p&~(C&~i))}function bl(t,i,o){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-mt(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function No(t,i){var o=t.entangledLanes|=i;for(t=t.entanglements;o;){var u=31-mt(o),f=1<<u;f&i|t[u]&i&&(t[u]|=i),o&=~f}}function Nl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Vi(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:rm(t.type))}function Do(t,i){var o=X.p;try{return X.p=t,i()}finally{X.p=o}}var on=Math.random().toString(36).slice(2),Y="__reactFiber$"+on,ne="__reactProps$"+on,Z="__reactContainer$"+on,ht="__reactEvents$"+on,se="__reactListeners$"+on,re="__reactHandles$"+on,De="__reactResources$"+on,Qe="__reactMarker$"+on;function pt(t){delete t[Y],delete t[ne],delete t[ht],delete t[se],delete t[re]}function gt(t){var i=t[Y];if(i)return i;for(var o=t.parentNode;o;){if(i=o[Z]||o[Y]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(t=Kd(t);t!==null;){if(o=t[Y])return o;t=Kd(t)}return i}t=o,o=t.parentNode}return null}function Je(t){if(t=t[Y]||t[Z]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function St(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Lt(t){var i=t[De];return i||(i=t[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ze(t){t[Qe]=!0}var Kt=new Set,wo={};function ci(t,i){qi(t,i),qi(t+"Capture",i)}function qi(t,i){for(wo[t]=i,t=0;t<i.length;t++)Kt.add(i[t])}var Sp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},Uu={};function xp(t){return Ot.call(Uu,t)?!0:Ot.call(Iu,t)?!1:Sp.test(t)?Uu[t]=!0:(Iu[t]=!0,!1)}function Io(t,i,o){if(xp(i))if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+o)}}function Uo(t,i,o){if(o===null)t.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+o)}}function Tn(t,i,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(i,o,""+u)}}var ja,Vu;function Li(t){if(ja===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);ja=i&&i[1]||"",Vu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ja+t+Vu}var es=!1;function ts(t,i){if(!t||es)return"";es=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(k){var q=k}Reflect.construct(t,[],O)}else{try{O.call()}catch(k){q=k}t.call(O.prototype)}}else{try{throw Error()}catch(k){q=k}(O=t())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),C=p[0],_=p[1];if(C&&_){var A=C.split(`
`),V=_.split(`
`);for(f=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;if(u===A.length||f===V.length)for(u=A.length-1,f=V.length-1;1<=u&&0<=f&&A[u]!==V[f];)f--;for(;1<=u&&0<=f;u--,f--)if(A[u]!==V[f]){if(u!==1||f!==1)do if(u--,f--,0>f||A[u]!==V[f]){var F=`
`+A[u].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=u&&0<=f);break}}}finally{es=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Li(o):""}function _p(t){switch(t.tag){case 26:case 27:case 5:return Li(t.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return ts(t.type,!1);case 11:return ts(t.type.render,!1);case 1:return ts(t.type,!0);case 31:return Li("Activity");default:return""}}function qu(t){try{var i="";do i+=_p(t),t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ep(t){var i=Lu(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),u=""+t[i];if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){u=""+C,p.call(this,C)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Vo(t){t._valueTracker||(t._valueTracker=Ep(t))}function ku(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return t&&(u=Lu(t)?t.checked?"true":"false":t.value),t=u,t!==o?(i.setValue(t),!0):!1}function qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ap=/[\n"\\]/g;function Xt(t){return t.replace(Ap,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ns(t,i,o,u,f,p,C,_){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+$t(i)):t.value!==""+$t(i)&&(t.value=""+$t(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?is(t,C,$t(i)):o!=null?is(t,C,$t(o)):u!=null&&t.removeAttribute("value"),f==null&&p!=null&&(t.defaultChecked=!!p),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+$t(_):t.removeAttribute("name")}function Bu(t,i,o,u,f,p,C,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+$t(o):"",i=i!=null?""+$t(i):o,_||i===t.value||(t.value=i),t.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=_?t.checked:!!u,t.defaultChecked=!!u,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function is(t,i,o){i==="number"&&qo(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function ki(t,i,o,u){if(t=t.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=i.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+$t(o),i=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Pu(t,i,o){if(i!=null&&(i=""+$t(i),i!==t.value&&(t.value=i),o==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=o!=null?""+$t(o):""}function Gu(t,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(a(92));if(W(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=$t(i),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function Bi(t,i){if(i){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=i;return}}t.textContent=i}var Mp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zu(t,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,o):typeof o!="number"||o===0||Mp.has(i)?i==="float"?t.cssFloat=o:t[i]=(""+o).trim():t[i]=o+"px"}function Fu(t,i,o){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&zu(t,f,u)}else for(var p in i)i.hasOwnProperty(p)&&zu(t,p,i[p])}function ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(t){return bp.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var os=null;function as(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Gi=null;function Hu(t){var i=Je(t);if(i&&(t=i.stateNode)){var o=t[ne]||null;e:switch(t=i.stateNode,i.type){case"input":if(ns(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Xt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==t&&u.form===t.form){var f=u[ne]||null;if(!f)throw Error(a(90));ns(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===t.form&&ku(u)}break e;case"textarea":Pu(t,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ki(t,!!o.multiple,i,!1)}}}var ss=!1;function Ou(t,i,o){if(ss)return t(i,o);ss=!0;try{var u=t(i);return u}finally{if(ss=!1,(Pi!==null||Gi!==null)&&(Sa(),Pi&&(i=Pi,t=Gi,Gi=Pi=null,Hu(i),t)))for(i=0;i<t.length;i++)Hu(t[i])}}function wl(t,i){var o=t.stateNode;if(o===null)return null;var u=o[ne]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,i,typeof o));return o}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(Cn)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){rs=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{rs=!1}var Bn=null,us=null,ko=null;function Yu(){if(ko)return ko;var t,i=us,o=i.length,u,f="value"in Bn?Bn.value:Bn.textContent,p=f.length;for(t=0;t<o&&i[t]===f[t];t++);var C=o-t;for(u=1;u<=C&&i[o-u]===f[p-u];u++);return ko=f.slice(t,1<u?1-u:void 0)}function Bo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Po(){return!0}function Ju(){return!1}function wt(t){function i(o,u,f,p,C){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=C,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(o=t[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Po:Ju,this.isPropagationStopped=Ju,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=wt(fi),Ul=v({},fi,{view:0,detail:0}),Np=wt(Ul),cs,fs,Vl,zo=v({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vl&&(Vl&&t.type==="mousemove"?(cs=t.screenX-Vl.screenX,fs=t.screenY-Vl.screenY):fs=cs=0,Vl=t),cs)},movementY:function(t){return"movementY"in t?t.movementY:fs}}),Ku=wt(zo),Dp=v({},zo,{dataTransfer:0}),wp=wt(Dp),Ip=v({},Ul,{relatedTarget:0}),ds=wt(Ip),Up=v({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vp=wt(Up),qp=v({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lp=wt(qp),kp=v({},fi,{data:0}),$u=wt(kp),Bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zp(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gp[t])?!!i[t]:!1}function ms(){return zp}var Fp=v({},Ul,{key:function(t){if(t.key){var i=Bp[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Bo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(t){return t.type==="keypress"?Bo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hp=wt(Fp),Op=v({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xu=wt(Op),Yp=v({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Jp=wt(Yp),Kp=v({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=wt(Kp),Xp=v({},zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qp=wt(Xp),Zp=v({},fi,{newState:0,oldState:0}),Wp=wt(Zp),jp=[9,13,27,32],hs=Cn&&"CompositionEvent"in window,ql=null;Cn&&"documentMode"in document&&(ql=document.documentMode);var eg=Cn&&"TextEvent"in window&&!ql,Qu=Cn&&(!hs||ql&&8<ql&&11>=ql),Zu=" ",Wu=!1;function ju(t,i){switch(t){case"keyup":return jp.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function tg(t,i){switch(t){case"compositionend":return ec(i);case"keypress":return i.which!==32?null:(Wu=!0,Zu);case"textInput":return t=i.data,t===Zu&&Wu?null:t;default:return null}}function ng(t,i){if(zi)return t==="compositionend"||!hs&&ju(t,i)?(t=Yu(),ko=us=Bn=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qu&&i.locale!=="ko"?null:i.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ig[t.type]:i==="textarea"}function nc(t,i,o,u){Pi?Gi?Gi.push(u):Gi=[u]:Pi=u,i=Ra(i,"onChange"),0<i.length&&(o=new Go("onChange","change",null,o,u),t.push({event:o,listeners:i}))}var Ll=null,kl=null;function lg(t){kd(t,0)}function Fo(t){var i=St(t);if(ku(i))return t}function ic(t,i){if(t==="change")return i}var lc=!1;if(Cn){var ps;if(Cn){var gs="oninput"in document;if(!gs){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),gs=typeof oc.oninput=="function"}ps=gs}else ps=!1;lc=ps&&(!document.documentMode||9<document.documentMode)}function ac(){Ll&&(Ll.detachEvent("onpropertychange",sc),kl=Ll=null)}function sc(t){if(t.propertyName==="value"&&Fo(kl)){var i=[];nc(i,kl,t,as(t)),Ou(lg,i)}}function og(t,i,o){t==="focusin"?(ac(),Ll=i,kl=o,Ll.attachEvent("onpropertychange",sc)):t==="focusout"&&ac()}function ag(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(kl)}function sg(t,i){if(t==="click")return Fo(i)}function rg(t,i){if(t==="input"||t==="change")return Fo(i)}function ug(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kt=typeof Object.is=="function"?Object.is:ug;function Bl(t,i){if(kt(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var o=Object.keys(t),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ot.call(i,f)||!kt(t[f],i[f]))return!1}return!0}function rc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uc(t,i){var o=rc(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=i&&u>=i)return{node:o,offset:i-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=rc(o)}}function cc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=qo(t.document);i instanceof t.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)t=i.contentWindow;else break;i=qo(t.document)}return i}function ys(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cg=Cn&&"documentMode"in document&&11>=document.documentMode,Fi=null,vs=null,Pl=null,Ts=!1;function dc(t,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ts||Fi==null||Fi!==qo(u)||(u=Fi,"selectionStart"in u&&ys(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pl&&Bl(Pl,u)||(Pl=u,u=Ra(vs,"onSelect"),0<u.length&&(i=new Go("onSelect","select",null,i,o),t.push({event:i,listeners:u}),i.target=Fi)))}function di(t,i){var o={};return o[t.toLowerCase()]=i.toLowerCase(),o["Webkit"+t]="webkit"+i,o["Moz"+t]="moz"+i,o}var Hi={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Cs={},mc={};Cn&&(mc=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function mi(t){if(Cs[t])return Cs[t];if(!Hi[t])return t;var i=Hi[t],o;for(o in i)if(i.hasOwnProperty(o)&&o in mc)return Cs[t]=i[o];return t}var hc=mi("animationend"),pc=mi("animationiteration"),gc=mi("animationstart"),fg=mi("transitionrun"),dg=mi("transitionstart"),mg=mi("transitioncancel"),yc=mi("transitionend"),vc=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function an(t,i){vc.set(t,i),ci(i,[t])}var Tc=new WeakMap;function Qt(t,i){if(typeof t=="object"&&t!==null){var o=Tc.get(t);return o!==void 0?o:(i={value:t,source:i,stack:qu(i)},Tc.set(t,i),i)}return{value:t,source:i,stack:qu(i)}}var Zt=[],Oi=0,xs=0;function Ho(){for(var t=Oi,i=xs=Oi=0;i<t;){var o=Zt[i];Zt[i++]=null;var u=Zt[i];Zt[i++]=null;var f=Zt[i];Zt[i++]=null;var p=Zt[i];if(Zt[i++]=null,u!==null&&f!==null){var C=u.pending;C===null?f.next=f:(f.next=C.next,C.next=f),u.pending=f}p!==0&&Cc(o,f,p)}}function Oo(t,i,o,u){Zt[Oi++]=t,Zt[Oi++]=i,Zt[Oi++]=o,Zt[Oi++]=u,xs|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function _s(t,i,o,u){return Oo(t,i,o,u),Yo(t)}function Yi(t,i){return Oo(t,null,null,i),Yo(t)}function Cc(t,i,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=t.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(f=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,f&&i!==null&&(f=31-mt(o),t=p.hiddenUpdates,u=t[f],u===null?t[f]=[i]:u.push(i),i.lane=o|536870912),p):null}function Yo(t){if(50<co)throw co=0,Nr=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ji={};function hg(t,i,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,i,o,u){return new hg(t,i,o,u)}function Es(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sn(t,i){var o=t.alternate;return o===null?(o=Bt(t.tag,i,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=i,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,i=t.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function Sc(t,i){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,i=o.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Jo(t,i,o,u,f,p){var C=0;if(u=t,typeof t=="function")Es(t)&&(C=1);else if(typeof t=="string")C=gy(t,o,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ie:return t=Bt(31,o,i,f),t.elementType=ie,t.lanes=p,t;case R:return hi(o.children,f,p,i);case N:C=8,f|=24;break;case D:return t=Bt(12,o,i,f|2),t.elementType=D,t.lanes=p,t;case G:return t=Bt(13,o,i,f),t.elementType=G,t.lanes=p,t;case Q:return t=Bt(19,o,i,f),t.elementType=Q,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:case z:C=10;break e;case L:C=9;break e;case $:C=11;break e;case ee:C=14;break e;case de:C=16,u=null;break e}C=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=Bt(C,o,i,f),i.elementType=t,i.type=u,i.lanes=p,i}function hi(t,i,o,u){return t=Bt(7,t,u,i),t.lanes=o,t}function As(t,i,o){return t=Bt(6,t,null,i),t.lanes=o,t}function Ms(t,i,o){return i=Bt(4,t.children!==null?t.children:[],t.key,i),i.lanes=o,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ki=[],$i=0,Ko=null,$o=0,Wt=[],jt=0,pi=null,xn=1,_n="";function gi(t,i){Ki[$i++]=$o,Ki[$i++]=Ko,Ko=t,$o=i}function xc(t,i,o){Wt[jt++]=xn,Wt[jt++]=_n,Wt[jt++]=pi,pi=t;var u=xn;t=_n;var f=32-mt(u)-1;u&=~(1<<f),o+=1;var p=32-mt(i)+f;if(30<p){var C=f-f%5;p=(u&(1<<C)-1).toString(32),u>>=C,f-=C,xn=1<<32-mt(i)+f|o<<f|u,_n=p+t}else xn=1<<p|o<<f|u,_n=t}function Rs(t){t.return!==null&&(gi(t,1),xc(t,1,0))}function bs(t){for(;t===Ko;)Ko=Ki[--$i],Ki[$i]=null,$o=Ki[--$i],Ki[$i]=null;for(;t===pi;)pi=Wt[--jt],Wt[jt]=null,_n=Wt[--jt],Wt[jt]=null,xn=Wt[--jt],Wt[jt]=null}var Nt=null,et=null,qe=!1,yi=null,dn=!1,Ns=Error(a(519));function vi(t){var i=Error(a(418,""));throw Fl(Qt(i,t)),Ns}function _c(t){var i=t.stateNode,o=t.type,u=t.memoizedProps;switch(i[Y]=t,i[ne]=u,o){case"dialog":be("cancel",i),be("close",i);break;case"iframe":case"object":case"embed":be("load",i);break;case"video":case"audio":for(o=0;o<mo.length;o++)be(mo[o],i);break;case"source":be("error",i);break;case"img":case"image":case"link":be("error",i),be("load",i);break;case"details":be("toggle",i);break;case"input":be("invalid",i),Bu(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Vo(i);break;case"select":be("invalid",i);break;case"textarea":be("invalid",i),Gu(i,u.value,u.defaultValue,u.children),Vo(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||zd(i.textContent,o)?(u.popover!=null&&(be("beforetoggle",i),be("toggle",i)),u.onScroll!=null&&be("scroll",i),u.onScrollEnd!=null&&be("scrollend",i),u.onClick!=null&&(i.onclick=ba),i=!0):i=!1,i||vi(t)}function Ec(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 13:dn=!1;return;case 27:case 3:dn=!0;return;default:Nt=Nt.return}}function Gl(t){if(t!==Nt)return!1;if(!qe)return Ec(t),qe=!0,!1;var i=t.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Yr(t.type,t.memoizedProps)),o=!o),o&&et&&vi(t),Ec(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(i===0){et=rn(t.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;t=t.nextSibling}et=null}}else i===27?(i=et,ei(t.type)?(t=Xr,Xr=null,et=t):et=i):et=Nt?rn(t.stateNode.nextSibling):null;return!0}function zl(){et=Nt=null,qe=!1}function Ac(){var t=yi;return t!==null&&(Vt===null?Vt=t:Vt.push.apply(Vt,t),yi=null),t}function Fl(t){yi===null?yi=[t]:yi.push(t)}var Ds=P(null),Ti=null,En=null;function Pn(t,i,o){te(Ds,i._currentValue),i._currentValue=o}function An(t){t._currentValue=Ds.current,j(Ds)}function ws(t,i,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===o)break;t=t.return}}function Is(t,i,o,u){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var p=f.dependencies;if(p!==null){var C=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var A=0;A<i.length;A++)if(_.context===i[A]){p.lanes|=o,_=p.alternate,_!==null&&(_.lanes|=o),ws(p.return,o,t),u||(C=null);break e}p=_.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(a(341));C.lanes|=o,p=C.alternate,p!==null&&(p.lanes|=o),ws(C,o,t),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===t){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Hl(t,i,o,u){t=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var _=f.type;kt(f.pendingProps.value,C.value)||(t!==null?t.push(_):t=[_])}}else if(f===ft.current){if(C=f.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}f=f.return}t!==null&&Is(i,t,o,u),i.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!kt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ci(t){Ti=t,En=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function At(t){return Mc(Ti,t)}function Qo(t,i){return Ti===null&&Ci(t),Mc(t,i)}function Mc(t,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},En===null){if(t===null)throw Error(a(308));En=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else En=En.next=i;return o}var pg=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(o){return o()})}},gg=n.unstable_scheduleCallback,yg=n.unstable_NormalPriority,rt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Us(){return{controller:new pg,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&gg(yg,function(){t.controller.abort()})}var Yl=null,Vs=0,Xi=0,Qi=null;function vg(t,i){if(Yl===null){var o=Yl=[];Vs=0,Xi=Lr(),Qi={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Vs++,i.then(Rc,Rc),i}function Rc(){if(--Vs===0&&Yl!==null){Qi!==null&&(Qi.status="fulfilled");var t=Yl;Yl=null,Xi=0,Qi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Tg(t,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var bc=I.S;I.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vg(t,i),bc!==null&&bc(t,i)};var Si=P(null);function qs(){var t=Si.current;return t!==null?t:Ke.pooledCache}function Zo(t,i){i===null?te(Si,Si.current):te(Si,i.pool)}function Nc(){var t=qs();return t===null?null:{parent:rt._currentValue,pool:t}}var Jl=Error(a(460)),Dc=Error(a(474)),Wo=Error(a(542)),Ls={then:function(){}};function wc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jo(){}function Ic(t,i,o){switch(o=t[o],o===void 0?t.push(i):o!==i&&(i.then(jo,jo),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vc(t),t;default:if(typeof i.status=="string")i.then(jo,jo);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vc(t),t}throw Kl=i,Jl}}var Kl=null;function Uc(){if(Kl===null)throw Error(a(459));var t=Kl;return Kl=null,t}function Vc(t){if(t===Jl||t===Wo)throw Error(a(483))}var Gn=!1;function ks(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(t,i,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Yo(t),Cc(t,null,o),i}return Oo(t,u,i,o),Yo(t)}function $l(t,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,No(t,o)}}function Ps(t,i){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=C:p=p.next=C,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=i:t.next=i,o.lastBaseUpdate=i}var Gs=!1;function Xl(){if(Gs){var t=Qi;if(t!==null)throw t}}function Ql(t,i,o,u){Gs=!1;var f=t.updateQueue;Gn=!1;var p=f.firstBaseUpdate,C=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var A=_,V=A.next;A.next=null,C===null?p=V:C.next=V,C=A;var F=t.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==C&&(_===null?F.firstBaseUpdate=V:_.next=V,F.lastBaseUpdate=A))}if(p!==null){var O=f.baseState;C=0,F=V=A=null,_=p;do{var q=_.lane&-536870913,k=q!==_.lane;if(k?(Ie&q)===q:(u&q)===q){q!==0&&q===Xi&&(Gs=!0),F!==null&&(F=F.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Se=t,ve=_;q=i;var He=o;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){O=Se.call(He,O,q);break e}O=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,q=typeof Se=="function"?Se.call(He,O,q):Se,q==null)break e;O=v({},O,q);break e;case 2:Gn=!0}}q=_.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=f.callbacks,k===null?f.callbacks=[q]:k.push(q))}else k={lane:q,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(V=F=k,A=O):F=F.next=k,C|=q;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;k=_,_=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);F===null&&(A=O),f.baseState=A,f.firstBaseUpdate=V,f.lastBaseUpdate=F,p===null&&(f.shared.lanes=0),Qn|=C,t.lanes=C,t.memoizedState=O}}function qc(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Lc(t,i){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)qc(o[t],i)}var Zi=P(null),ea=P(0);function kc(t,i){t=In,te(ea,t),te(Zi,i),In=t|i.baseLanes}function zs(){te(ea,In),te(Zi,Zi.current)}function Fs(){In=ea.current,j(Zi),j(ea)}var Hn=0,Ae=null,ze=null,lt=null,ta=!1,Wi=!1,xi=!1,na=0,Zl=0,ji=null,Cg=0;function nt(){throw Error(a(321))}function Hs(t,i){if(i===null)return!1;for(var o=0;o<i.length&&o<t.length;o++)if(!kt(t[o],i[o]))return!1;return!0}function Os(t,i,o,u,f,p){return Hn=p,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=t===null||t.memoizedState===null?Sf:xf,xi=!1,p=o(u,f),xi=!1,Wi&&(p=Pc(i,o,u,f)),Bc(t),p}function Bc(t){I.H=ra;var i=ze!==null&&ze.next!==null;if(Hn=0,lt=ze=Ae=null,ta=!1,Zl=0,ji=null,i)throw Error(a(300));t===null||yt||(t=t.dependencies,t!==null&&Xo(t)&&(yt=!0))}function Pc(t,i,o,u){Ae=t;var f=0;do{if(Wi&&(ji=null),Zl=0,Wi=!1,25<=f)throw Error(a(301));if(f+=1,lt=ze=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=Rg,p=i(o,u)}while(Wi);return p}function Sg(){var t=I.H,i=t.useState()[0];return i=typeof i.then=="function"?Wl(i):i,t=t.useState()[0],(ze!==null?ze.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Ys(){var t=na!==0;return na=0,t}function Js(t,i,o){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~o}function Ks(t){if(ta){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ta=!1}Hn=0,lt=ze=Ae=null,Wi=!1,Zl=na=0,ji=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Ae.memoizedState=lt=t:lt=lt.next=t,lt}function ot(){if(ze===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var i=lt===null?Ae.memoizedState:lt.next;if(i!==null)lt=i,ze=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},lt===null?Ae.memoizedState=lt=t:lt=lt.next=t}return lt}function $s(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(t){var i=Zl;return Zl+=1,ji===null&&(ji=[]),t=Ic(ji,t,i),i=Ae,(lt===null?i.memoizedState:lt.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?Sf:xf),t}function ia(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wl(t);if(t.$$typeof===z)return At(t)}throw Error(a(438,String(t)))}function Xs(t){var i=null,o=Ae.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=$s(),Ae.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(t),u=0;u<t;u++)o[u]=ue;return i.index++,o}function Mn(t,i){return typeof i=="function"?i(t):i}function la(t){var i=ot();return Qs(i,ze,t)}function Qs(t,i,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var f=t.baseQueue,p=u.pending;if(p!==null){if(f!==null){var C=f.next;f.next=p.next,p.next=C}i.baseQueue=f=p,u.pending=null}if(p=t.baseState,f===null)t.memoizedState=p;else{i=f.next;var _=C=null,A=null,V=i,F=!1;do{var O=V.lane&-536870913;if(O!==V.lane?(Ie&O)===O:(Hn&O)===O){var q=V.revertLane;if(q===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),O===Xi&&(F=!0);else if((Hn&q)===q){V=V.next,q===Xi&&(F=!0);continue}else O={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(_=A=O,C=p):A=A.next=O,Ae.lanes|=q,Qn|=q;O=V.action,xi&&o(p,O),p=V.hasEagerState?V.eagerState:o(p,O)}else q={lane:O,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(_=A=q,C=p):A=A.next=q,Ae.lanes|=O,Qn|=O;V=V.next}while(V!==null&&V!==i);if(A===null?C=p:A.next=_,!kt(p,t.memoizedState)&&(yt=!0,F&&(o=Qi,o!==null)))throw o;t.memoizedState=p,t.baseState=C,t.baseQueue=A,u.lastRenderedState=p}return f===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Zs(t){var i=ot(),o=i.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var C=f=f.next;do p=t(p,C.action),C=C.next;while(C!==f);kt(p,i.memoizedState)||(yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function Gc(t,i,o){var u=Ae,f=ot(),p=qe;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=i();var C=!kt((ze||f).memoizedState,o);C&&(f.memoizedState=o,yt=!0),f=f.queue;var _=Hc.bind(null,u,f,t);if(jl(2048,8,_,[t]),f.getSnapshot!==i||C||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,el(9,oa(),Fc.bind(null,u,f,o,i),null),Ke===null)throw Error(a(349));p||(Hn&124)!==0||zc(u,i,o)}return o}function zc(t,i,o){t.flags|=16384,t={getSnapshot:i,value:o},i=Ae.updateQueue,i===null?(i=$s(),Ae.updateQueue=i,i.stores=[t]):(o=i.stores,o===null?i.stores=[t]:o.push(t))}function Fc(t,i,o,u){i.value=o,i.getSnapshot=u,Oc(i)&&Yc(t)}function Hc(t,i,o){return o(function(){Oc(i)&&Yc(t)})}function Oc(t){var i=t.getSnapshot;t=t.value;try{var o=i();return!kt(t,o)}catch{return!0}}function Yc(t){var i=Yi(t,2);i!==null&&Ht(i,t,2)}function Ws(t){var i=It();if(typeof t=="function"){var o=t;if(t=o(),xi){Jt(!0);try{o()}finally{Jt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:t},i}function Jc(t,i,o,u){return t.baseState=o,Qs(t,ze,typeof u=="function"?u:Mn)}function xg(t,i,o,u,f){if(sa(t))throw Error(a(485));if(t=i.action,t!==null){var p={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){p.listeners.push(C)}};I.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,Kc(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Kc(t,i){var o=i.action,u=i.payload,f=t.state;if(i.isTransition){var p=I.T,C={};I.T=C;try{var _=o(f,u),A=I.S;A!==null&&A(C,_),$c(t,i,_)}catch(V){js(t,i,V)}finally{I.T=p}}else try{p=o(f,u),$c(t,i,p)}catch(V){js(t,i,V)}}function $c(t,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xc(t,i,u)},function(u){return js(t,i,u)}):Xc(t,i,o)}function Xc(t,i,o){i.status="fulfilled",i.value=o,Qc(i),t.state=o,i=t.pending,i!==null&&(o=i.next,o===i?t.pending=null:(o=o.next,i.next=o,Kc(t,o)))}function js(t,i,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Qc(i),i=i.next;while(i!==u)}t.action=null}function Qc(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Zc(t,i){return i}function Wc(t,i){if(qe){var o=Ke.formState;if(o!==null){e:{var u=Ae;if(qe){if(et){t:{for(var f=et,p=dn;f.nodeType!==8;){if(!p){f=null;break t}if(f=rn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){et=rn(f.nextSibling),u=f.data==="F!";break e}}vi(u)}u=!1}u&&(i=o[0])}}return o=It(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:i},o.queue=u,o=vf.bind(null,Ae,u),u.dispatch=o,u=Ws(!1),p=lr.bind(null,Ae,!1,u.queue),u=It(),f={state:i,dispatch:null,action:t,pending:null},u.queue=f,o=xg.bind(null,Ae,f,p,o),f.dispatch=o,u.memoizedState=t,[i,o,!1]}function jc(t){var i=ot();return ef(i,ze,t)}function ef(t,i,o){if(i=Qs(t,i,Zc)[0],t=la(Mn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Wl(i)}catch(C){throw C===Jl?Wo:C}else u=i;i=ot();var f=i.queue,p=f.dispatch;return o!==i.memoizedState&&(Ae.flags|=2048,el(9,oa(),_g.bind(null,f,o),null)),[u,p,t]}function _g(t,i){t.action=i}function tf(t){var i=ot(),o=ze;if(o!==null)return ef(i,o,t);ot(),i=i.memoizedState,o=ot();var u=o.queue.dispatch;return o.memoizedState=t,[i,u,!1]}function el(t,i,o,u){return t={tag:t,create:o,deps:u,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=$s(),Ae.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,i.lastEffect=t),t}function oa(){return{destroy:void 0,resource:void 0}}function nf(){return ot().memoizedState}function aa(t,i,o,u){var f=It();u=u===void 0?null:u,Ae.flags|=t,f.memoizedState=el(1|i,oa(),o,u)}function jl(t,i,o,u){var f=ot();u=u===void 0?null:u;var p=f.memoizedState.inst;ze!==null&&u!==null&&Hs(u,ze.memoizedState.deps)?f.memoizedState=el(i,p,o,u):(Ae.flags|=t,f.memoizedState=el(1|i,p,o,u))}function lf(t,i){aa(8390656,8,t,i)}function of(t,i){jl(2048,8,t,i)}function af(t,i){return jl(4,2,t,i)}function sf(t,i){return jl(4,4,t,i)}function rf(t,i){if(typeof i=="function"){t=t();var o=i(t);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function uf(t,i,o){o=o!=null?o.concat([t]):null,jl(4,4,rf.bind(null,i,t),o)}function er(){}function cf(t,i){var o=ot();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&Hs(i,u[1])?u[0]:(o.memoizedState=[t,i],t)}function ff(t,i){var o=ot();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&Hs(i,u[1]))return u[0];if(u=t(),xi){Jt(!0);try{t()}finally{Jt(!1)}}return o.memoizedState=[u,i],u}function tr(t,i,o){return o===void 0||(Hn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=o,t=hd(),Ae.lanes|=t,Qn|=t,o)}function df(t,i,o,u){return kt(o,i)?o:Zi.current!==null?(t=tr(t,o,u),kt(t,i)||(yt=!0),t):(Hn&42)===0?(yt=!0,t.memoizedState=o):(t=hd(),Ae.lanes|=t,Qn|=t,i)}function mf(t,i,o,u,f){var p=X.p;X.p=p!==0&&8>p?p:8;var C=I.T,_={};I.T=_,lr(t,!1,i,o);try{var A=f(),V=I.S;if(V!==null&&V(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=Tg(A,u);eo(t,i,F,Ft(t))}else eo(t,i,u,Ft(t))}catch(O){eo(t,i,{then:function(){},status:"rejected",reason:O},Ft())}finally{X.p=p,I.T=C}}function Eg(){}function nr(t,i,o,u){if(t.tag!==5)throw Error(a(476));var f=hf(t).queue;mf(t,f,i,oe,o===null?Eg:function(){return pf(t),o(u)})}function hf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:oe},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:o},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function pf(t){var i=hf(t).next.queue;eo(t,i,{},Ft())}function ir(){return At(To)}function gf(){return ot().memoizedState}function yf(){return ot().memoizedState}function Ag(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var o=Ft();t=zn(o);var u=Fn(i,t,o);u!==null&&(Ht(u,i,o),$l(u,i,o)),i={cache:Us()},t.payload=i;return}i=i.return}}function Mg(t,i,o){var u=Ft();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},sa(t)?Tf(i,o):(o=_s(t,i,o,u),o!==null&&(Ht(o,t,u),Cf(o,i,u)))}function vf(t,i,o){var u=Ft();eo(t,i,o,u)}function eo(t,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(sa(t))Tf(i,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var C=i.lastRenderedState,_=p(C,o);if(f.hasEagerState=!0,f.eagerState=_,kt(_,C))return Oo(t,i,f,0),Ke===null&&Ho(),!1}catch{}finally{}if(o=_s(t,i,f,u),o!==null)return Ht(o,t,u),Cf(o,i,u),!0}return!1}function lr(t,i,o,u){if(u={lane:2,revertLane:Lr(),action:u,hasEagerState:!1,eagerState:null,next:null},sa(t)){if(i)throw Error(a(479))}else i=_s(t,o,u,2),i!==null&&Ht(i,t,2)}function sa(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function Tf(t,i){Wi=ta=!0;var o=t.pending;o===null?i.next=i:(i.next=o.next,o.next=i),t.pending=i}function Cf(t,i,o){if((o&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,o|=u,i.lanes=o,No(t,o)}}var ra={readContext:At,use:ia,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt},Sf={readContext:At,use:ia,useCallback:function(t,i){return It().memoizedState=[t,i===void 0?null:i],t},useContext:At,useEffect:lf,useImperativeHandle:function(t,i,o){o=o!=null?o.concat([t]):null,aa(4194308,4,rf.bind(null,i,t),o)},useLayoutEffect:function(t,i){return aa(4194308,4,t,i)},useInsertionEffect:function(t,i){aa(4,2,t,i)},useMemo:function(t,i){var o=It();i=i===void 0?null:i;var u=t();if(xi){Jt(!0);try{t()}finally{Jt(!1)}}return o.memoizedState=[u,i],u},useReducer:function(t,i,o){var u=It();if(o!==void 0){var f=o(i);if(xi){Jt(!0);try{o(i)}finally{Jt(!1)}}}else f=i;return u.memoizedState=u.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},u.queue=t,t=t.dispatch=Mg.bind(null,Ae,t),[u.memoizedState,t]},useRef:function(t){var i=It();return t={current:t},i.memoizedState=t},useState:function(t){t=Ws(t);var i=t.queue,o=vf.bind(null,Ae,i);return i.dispatch=o,[t.memoizedState,o]},useDebugValue:er,useDeferredValue:function(t,i){var o=It();return tr(o,t,i)},useTransition:function(){var t=Ws(!1);return t=mf.bind(null,Ae,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,o){var u=Ae,f=It();if(qe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=i(),Ke===null)throw Error(a(349));(Ie&124)!==0||zc(u,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,lf(Hc.bind(null,u,p,t),[t]),u.flags|=2048,el(9,oa(),Fc.bind(null,u,p,o,i),null),o},useId:function(){var t=It(),i=Ke.identifierPrefix;if(qe){var o=_n,u=xn;o=(u&~(1<<32-mt(u)-1)).toString(32)+o,i=""+i+"R"+o,o=na++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=Cg++,i=""+i+"r"+o.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:ir,useFormState:Wc,useActionState:Wc,useOptimistic:function(t){var i=It();i.memoizedState=i.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=lr.bind(null,Ae,!0,o),o.dispatch=i,[t,i]},useMemoCache:Xs,useCacheRefresh:function(){return It().memoizedState=Ag.bind(null,Ae)}},xf={readContext:At,use:ia,useCallback:cf,useContext:At,useEffect:of,useImperativeHandle:uf,useInsertionEffect:af,useLayoutEffect:sf,useMemo:ff,useReducer:la,useRef:nf,useState:function(){return la(Mn)},useDebugValue:er,useDeferredValue:function(t,i){var o=ot();return df(o,ze.memoizedState,t,i)},useTransition:function(){var t=la(Mn)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Wl(t),i]},useSyncExternalStore:Gc,useId:gf,useHostTransitionStatus:ir,useFormState:jc,useActionState:jc,useOptimistic:function(t,i){var o=ot();return Jc(o,ze,t,i)},useMemoCache:Xs,useCacheRefresh:yf},Rg={readContext:At,use:ia,useCallback:cf,useContext:At,useEffect:of,useImperativeHandle:uf,useInsertionEffect:af,useLayoutEffect:sf,useMemo:ff,useReducer:Zs,useRef:nf,useState:function(){return Zs(Mn)},useDebugValue:er,useDeferredValue:function(t,i){var o=ot();return ze===null?tr(o,t,i):df(o,ze.memoizedState,t,i)},useTransition:function(){var t=Zs(Mn)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Wl(t),i]},useSyncExternalStore:Gc,useId:gf,useHostTransitionStatus:ir,useFormState:tf,useActionState:tf,useOptimistic:function(t,i){var o=ot();return ze!==null?Jc(o,ze,t,i):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Xs,useCacheRefresh:yf},tl=null,to=0;function ua(t){var i=to;return to+=1,tl===null&&(tl=[]),Ic(tl,t,i)}function no(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ca(t,i){throw i.$$typeof===T?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _f(t){var i=t._init;return i(t._payload)}function Ef(t){function i(w,b){if(t){var U=w.deletions;U===null?(w.deletions=[b],w.flags|=16):U.push(b)}}function o(w,b){if(!t)return null;for(;b!==null;)i(w,b),b=b.sibling;return null}function u(w){for(var b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function f(w,b){return w=Sn(w,b),w.index=0,w.sibling=null,w}function p(w,b,U){return w.index=U,t?(U=w.alternate,U!==null?(U=U.index,U<b?(w.flags|=67108866,b):U):(w.flags|=67108866,b)):(w.flags|=1048576,b)}function C(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function _(w,b,U,H){return b===null||b.tag!==6?(b=As(U,w.mode,H),b.return=w,b):(b=f(b,U),b.return=w,b)}function A(w,b,U,H){var ae=U.type;return ae===R?F(w,b,U.props.children,H,U.key):b!==null&&(b.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===de&&_f(ae)===b.type)?(b=f(b,U.props),no(b,U),b.return=w,b):(b=Jo(U.type,U.key,U.props,null,w.mode,H),no(b,U),b.return=w,b)}function V(w,b,U,H){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=Ms(U,w.mode,H),b.return=w,b):(b=f(b,U.children||[]),b.return=w,b)}function F(w,b,U,H,ae){return b===null||b.tag!==7?(b=hi(U,w.mode,H,ae),b.return=w,b):(b=f(b,U),b.return=w,b)}function O(w,b,U){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=As(""+b,w.mode,U),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case x:return U=Jo(b.type,b.key,b.props,null,w.mode,U),no(U,b),U.return=w,U;case E:return b=Ms(b,w.mode,U),b.return=w,b;case de:var H=b._init;return b=H(b._payload),O(w,b,U)}if(W(b)||J(b))return b=hi(b,w.mode,U,null),b.return=w,b;if(typeof b.then=="function")return O(w,ua(b),U);if(b.$$typeof===z)return O(w,Qo(w,b),U);ca(w,b)}return null}function q(w,b,U,H){var ae=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ae!==null?null:_(w,b,""+U,H);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===ae?A(w,b,U,H):null;case E:return U.key===ae?V(w,b,U,H):null;case de:return ae=U._init,U=ae(U._payload),q(w,b,U,H)}if(W(U)||J(U))return ae!==null?null:F(w,b,U,H,null);if(typeof U.then=="function")return q(w,b,ua(U),H);if(U.$$typeof===z)return q(w,b,Qo(w,U),H);ca(w,U)}return null}function k(w,b,U,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return w=w.get(U)||null,_(b,w,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return w=w.get(H.key===null?U:H.key)||null,A(b,w,H,ae);case E:return w=w.get(H.key===null?U:H.key)||null,V(b,w,H,ae);case de:var Me=H._init;return H=Me(H._payload),k(w,b,U,H,ae)}if(W(H)||J(H))return w=w.get(U)||null,F(b,w,H,ae,null);if(typeof H.then=="function")return k(w,b,U,ua(H),ae);if(H.$$typeof===z)return k(w,b,U,Qo(b,H),ae);ca(b,H)}return null}function Se(w,b,U,H){for(var ae=null,Me=null,he=b,Te=b=0,Tt=null;he!==null&&Te<U.length;Te++){he.index>Te?(Tt=he,he=null):Tt=he.sibling;var Ve=q(w,he,U[Te],H);if(Ve===null){he===null&&(he=Tt);break}t&&he&&Ve.alternate===null&&i(w,he),b=p(Ve,b,Te),Me===null?ae=Ve:Me.sibling=Ve,Me=Ve,he=Tt}if(Te===U.length)return o(w,he),qe&&gi(w,Te),ae;if(he===null){for(;Te<U.length;Te++)he=O(w,U[Te],H),he!==null&&(b=p(he,b,Te),Me===null?ae=he:Me.sibling=he,Me=he);return qe&&gi(w,Te),ae}for(he=u(he);Te<U.length;Te++)Tt=k(he,w,Te,U[Te],H),Tt!==null&&(t&&Tt.alternate!==null&&he.delete(Tt.key===null?Te:Tt.key),b=p(Tt,b,Te),Me===null?ae=Tt:Me.sibling=Tt,Me=Tt);return t&&he.forEach(function(oi){return i(w,oi)}),qe&&gi(w,Te),ae}function ve(w,b,U,H){if(U==null)throw Error(a(151));for(var ae=null,Me=null,he=b,Te=b=0,Tt=null,Ve=U.next();he!==null&&!Ve.done;Te++,Ve=U.next()){he.index>Te?(Tt=he,he=null):Tt=he.sibling;var oi=q(w,he,Ve.value,H);if(oi===null){he===null&&(he=Tt);break}t&&he&&oi.alternate===null&&i(w,he),b=p(oi,b,Te),Me===null?ae=oi:Me.sibling=oi,Me=oi,he=Tt}if(Ve.done)return o(w,he),qe&&gi(w,Te),ae;if(he===null){for(;!Ve.done;Te++,Ve=U.next())Ve=O(w,Ve.value,H),Ve!==null&&(b=p(Ve,b,Te),Me===null?ae=Ve:Me.sibling=Ve,Me=Ve);return qe&&gi(w,Te),ae}for(he=u(he);!Ve.done;Te++,Ve=U.next())Ve=k(he,w,Te,Ve.value,H),Ve!==null&&(t&&Ve.alternate!==null&&he.delete(Ve.key===null?Te:Ve.key),b=p(Ve,b,Te),Me===null?ae=Ve:Me.sibling=Ve,Me=Ve);return t&&he.forEach(function(by){return i(w,by)}),qe&&gi(w,Te),ae}function He(w,b,U,H){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:e:{for(var ae=U.key;b!==null;){if(b.key===ae){if(ae=U.type,ae===R){if(b.tag===7){o(w,b.sibling),H=f(b,U.props.children),H.return=w,w=H;break e}}else if(b.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===de&&_f(ae)===b.type){o(w,b.sibling),H=f(b,U.props),no(H,U),H.return=w,w=H;break e}o(w,b);break}else i(w,b);b=b.sibling}U.type===R?(H=hi(U.props.children,w.mode,H,U.key),H.return=w,w=H):(H=Jo(U.type,U.key,U.props,null,w.mode,H),no(H,U),H.return=w,w=H)}return C(w);case E:e:{for(ae=U.key;b!==null;){if(b.key===ae)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){o(w,b.sibling),H=f(b,U.children||[]),H.return=w,w=H;break e}else{o(w,b);break}else i(w,b);b=b.sibling}H=Ms(U,w.mode,H),H.return=w,w=H}return C(w);case de:return ae=U._init,U=ae(U._payload),He(w,b,U,H)}if(W(U))return Se(w,b,U,H);if(J(U)){if(ae=J(U),typeof ae!="function")throw Error(a(150));return U=ae.call(U),ve(w,b,U,H)}if(typeof U.then=="function")return He(w,b,ua(U),H);if(U.$$typeof===z)return He(w,b,Qo(w,U),H);ca(w,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,b!==null&&b.tag===6?(o(w,b.sibling),H=f(b,U),H.return=w,w=H):(o(w,b),H=As(U,w.mode,H),H.return=w,w=H),C(w)):o(w,b)}return function(w,b,U,H){try{to=0;var ae=He(w,b,U,H);return tl=null,ae}catch(he){if(he===Jl||he===Wo)throw he;var Me=Bt(29,he,null,w.mode);return Me.lanes=H,Me.return=w,Me}finally{}}}var nl=Ef(!0),Af=Ef(!1),en=P(null),mn=null;function On(t){var i=t.alternate;te(ut,ut.current&1),te(en,t),mn===null&&(i===null||Zi.current!==null||i.memoizedState!==null)&&(mn=t)}function Mf(t){if(t.tag===22){if(te(ut,ut.current),te(en,t),mn===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(mn=t)}}else Yn()}function Yn(){te(ut,ut.current),te(en,en.current)}function Rn(t){j(en),mn===t&&(mn=null),j(ut)}var ut=P(0);function fa(t){for(var i=t;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||$r(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function or(t,i,o,u){i=t.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var ar={enqueueSetState:function(t,i,o){t=t._reactInternals;var u=Ft(),f=zn(u);f.payload=i,o!=null&&(f.callback=o),i=Fn(t,f,u),i!==null&&(Ht(i,t,u),$l(i,t,u))},enqueueReplaceState:function(t,i,o){t=t._reactInternals;var u=Ft(),f=zn(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Fn(t,f,u),i!==null&&(Ht(i,t,u),$l(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var o=Ft(),u=zn(o);u.tag=2,i!=null&&(u.callback=i),i=Fn(t,u,o),i!==null&&(Ht(i,t,o),$l(i,t,o))}};function Rf(t,i,o,u,f,p,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,C):i.prototype&&i.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,p):!0}function bf(t,i,o,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==t&&ar.enqueueReplaceState(i,i.state,null)}function _i(t,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(t=t.defaultProps){o===i&&(o=v({},o));for(var f in t)o[f]===void 0&&(o[f]=t[f])}return o}var da=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Nf(t){da(t)}function Df(t){console.error(t)}function wf(t){da(t)}function ma(t,i){try{var o=t.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function If(t,i,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function sr(t,i,o){return o=zn(o),o.tag=3,o.payload={element:null},o.callback=function(){ma(t,i)},o}function Uf(t){return t=zn(t),t.tag=3,t}function Vf(t,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;t.payload=function(){return f(p)},t.callback=function(){If(i,o,u)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){If(i,o,u),typeof f!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function bg(t,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Hl(i,o,f,!0),o=en.current,o!==null){switch(o.tag){case 13:return mn===null?wr():o.alternate===null&&tt===0&&(tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Ls?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Ur(t,u,f)),!1;case 22:return o.flags|=65536,u===Ls?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Ur(t,u,f)),!1}throw Error(a(435,o.tag))}return Ur(t,u,f),wr(),!1}if(qe)return i=en.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Ns&&(t=Error(a(422),{cause:u}),Fl(Qt(t,o)))):(u!==Ns&&(i=Error(a(423),{cause:u}),Fl(Qt(i,o))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,u=Qt(u,o),f=sr(t.stateNode,u,f),Ps(t,f),tt!==4&&(tt=2)),!1;var p=Error(a(520),{cause:u});if(p=Qt(p,o),uo===null?uo=[p]:uo.push(p),tt!==4&&(tt=2),i===null)return!0;u=Qt(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,t=f&-f,o.lanes|=t,t=sr(o.stateNode,u,t),Ps(o,t),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Zn===null||!Zn.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Uf(f),Vf(f,t,o,u),Ps(o,f),!1}o=o.return}while(o!==null);return!1}var qf=Error(a(461)),yt=!1;function xt(t,i,o,u){i.child=t===null?Af(i,null,o,u):nl(i,t.child,o,u)}function Lf(t,i,o,u,f){o=o.render;var p=i.ref;if("ref"in u){var C={};for(var _ in u)_!=="ref"&&(C[_]=u[_])}else C=u;return Ci(i),u=Os(t,i,o,C,p,f),_=Ys(),t!==null&&!yt?(Js(t,i,f),bn(t,i,f)):(qe&&_&&Rs(i),i.flags|=1,xt(t,i,u,f),i.child)}function kf(t,i,o,u,f){if(t===null){var p=o.type;return typeof p=="function"&&!Es(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Bf(t,i,p,u,f)):(t=Jo(o.type,null,u,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!pr(t,f)){var C=p.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(C,u)&&t.ref===i.ref)return bn(t,i,f)}return i.flags|=1,t=Sn(p,u),t.ref=i.ref,t.return=i,i.child=t}function Bf(t,i,o,u,f){if(t!==null){var p=t.memoizedProps;if(Bl(p,u)&&t.ref===i.ref)if(yt=!1,i.pendingProps=u=p,pr(t,f))(t.flags&131072)!==0&&(yt=!0);else return i.lanes=t.lanes,bn(t,i,f)}return rr(t,i,o,u,f)}function Pf(t,i,o){var u=i.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,t!==null){for(f=i.child=t.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return Gf(t,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zo(i,p!==null?p.cachePool:null),p!==null?kc(i,p):zs(),Mf(i);else return i.lanes=i.childLanes=536870912,Gf(t,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(Zo(i,p.cachePool),kc(i,p),Yn(),i.memoizedState=null):(t!==null&&Zo(i,null),zs(),Yn());return xt(t,i,f,o),i.child}function Gf(t,i,o,u){var f=qs();return f=f===null?null:{parent:rt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},t!==null&&Zo(i,null),zs(),Mf(i),t!==null&&Hl(t,i,u,!0),null}function ha(t,i){var o=i.ref;if(o===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(i.flags|=4194816)}}function rr(t,i,o,u,f){return Ci(i),o=Os(t,i,o,u,void 0,f),u=Ys(),t!==null&&!yt?(Js(t,i,f),bn(t,i,f)):(qe&&u&&Rs(i),i.flags|=1,xt(t,i,o,f),i.child)}function zf(t,i,o,u,f,p){return Ci(i),i.updateQueue=null,o=Pc(i,u,o,f),Bc(t),u=Ys(),t!==null&&!yt?(Js(t,i,p),bn(t,i,p)):(qe&&u&&Rs(i),i.flags|=1,xt(t,i,o,p),i.child)}function Ff(t,i,o,u,f){if(Ci(i),i.stateNode===null){var p=Ji,C=o.contextType;typeof C=="object"&&C!==null&&(p=At(C)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ar,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},ks(i),C=o.contextType,p.context=typeof C=="object"&&C!==null?At(C):Ji,p.state=i.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(or(i,o,C,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(C=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),C!==p.state&&ar.enqueueReplaceState(p,p.state,null),Ql(i,u,p,f),Xl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){p=i.stateNode;var _=i.memoizedProps,A=_i(o,_);p.props=A;var V=p.context,F=o.contextType;C=Ji,typeof F=="object"&&F!==null&&(C=At(F));var O=o.getDerivedStateFromProps;F=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,F||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||V!==C)&&bf(i,p,u,C),Gn=!1;var q=i.memoizedState;p.state=q,Ql(i,u,p,f),Xl(),V=i.memoizedState,_||q!==V||Gn?(typeof O=="function"&&(or(i,o,O,u),V=i.memoizedState),(A=Gn||Rf(i,o,A,u,q,V,C))?(F||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=V),p.props=u,p.state=V,p.context=C,u=A):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Bs(t,i),C=i.memoizedProps,F=_i(o,C),p.props=F,O=i.pendingProps,q=p.context,V=o.contextType,A=Ji,typeof V=="object"&&V!==null&&(A=At(V)),_=o.getDerivedStateFromProps,(V=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C!==O||q!==A)&&bf(i,p,u,A),Gn=!1,q=i.memoizedState,p.state=q,Ql(i,u,p,f),Xl();var k=i.memoizedState;C!==O||q!==k||Gn||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof _=="function"&&(or(i,o,_,u),k=i.memoizedState),(F=Gn||Rf(i,o,F,u,q,k,A)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(V||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,k,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,k,A)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||C===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=k),p.props=u,p.state=k,p.context=A,u=F):(typeof p.componentDidUpdate!="function"||C===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),u=!1)}return p=u,ha(t,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&u?(i.child=nl(i,t.child,null,f),i.child=nl(i,null,o,f)):xt(t,i,o,f),i.memoizedState=p.state,t=i.child):t=bn(t,i,f),t}function Hf(t,i,o,u){return zl(),i.flags|=256,xt(t,i,o,u),i.child}var ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cr(t){return{baseLanes:t,cachePool:Nc()}}function fr(t,i,o){return t=t!==null?t.childLanes&~o:0,i&&(t|=tn),t}function Of(t,i,o){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,C;if((C=p)||(C=t!==null&&t.memoizedState===null?!1:(ut.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(f?On(i):Yn(),qe){var _=et,A;if(A=_){e:{for(A=_,_=dn;A.nodeType!==8;){if(!_){_=null;break e}if(A=rn(A.nextSibling),A===null){_=null;break e}}_=A}_!==null?(i.memoizedState={dehydrated:_,treeContext:pi!==null?{id:xn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},A=Bt(18,null,null,0),A.stateNode=_,A.return=i,i.child=A,Nt=i,et=null,A=!0):A=!1}A||vi(i)}if(_=i.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return $r(_)?i.lanes=32:i.lanes=536870912,null;Rn(i)}return _=u.children,u=u.fallback,f?(Yn(),f=i.mode,_=pa({mode:"hidden",children:_},f),u=hi(u,f,o,null),_.return=i,u.return=i,_.sibling=u,i.child=_,f=i.child,f.memoizedState=cr(o),f.childLanes=fr(t,C,o),i.memoizedState=ur,u):(On(i),dr(i,_))}if(A=t.memoizedState,A!==null&&(_=A.dehydrated,_!==null)){if(p)i.flags&256?(On(i),i.flags&=-257,i=mr(t,i,o)):i.memoizedState!==null?(Yn(),i.child=t.child,i.flags|=128,i=null):(Yn(),f=u.fallback,_=i.mode,u=pa({mode:"visible",children:u.children},_),f=hi(f,_,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,nl(i,t.child,null,o),u=i.child,u.memoizedState=cr(o),u.childLanes=fr(t,C,o),i.memoizedState=ur,i=f);else if(On(i),$r(_)){if(C=_.nextSibling&&_.nextSibling.dataset,C)var V=C.dgst;C=V,u=Error(a(419)),u.stack="",u.digest=C,Fl({value:u,source:null,stack:null}),i=mr(t,i,o)}else if(yt||Hl(t,i,o,!1),C=(o&t.childLanes)!==0,yt||C){if(C=Ke,C!==null&&(u=o&-o,u=(u&42)!==0?1:Nl(u),u=(u&(C.suspendedLanes|o))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,Yi(t,u),Ht(C,t,u),qf;_.data==="$?"||wr(),i=mr(t,i,o)}else _.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,et=rn(_.nextSibling),Nt=i,qe=!0,yi=null,dn=!1,t!==null&&(Wt[jt++]=xn,Wt[jt++]=_n,Wt[jt++]=pi,xn=t.id,_n=t.overflow,pi=i),i=dr(i,u.children),i.flags|=4096);return i}return f?(Yn(),f=u.fallback,_=i.mode,A=t.child,V=A.sibling,u=Sn(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,V!==null?f=Sn(V,f):(f=hi(f,_,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,_=t.child.memoizedState,_===null?_=cr(o):(A=_.cachePool,A!==null?(V=rt._currentValue,A=A.parent!==V?{parent:V,pool:V}:A):A=Nc(),_={baseLanes:_.baseLanes|o,cachePool:A}),f.memoizedState=_,f.childLanes=fr(t,C,o),i.memoizedState=ur,u):(On(i),o=t.child,t=o.sibling,o=Sn(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=o,i.memoizedState=null,o)}function dr(t,i){return i=pa({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function pa(t,i){return t=Bt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function mr(t,i,o){return nl(i,t.child,null,o),t=dr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yf(t,i,o){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),ws(t.return,i,o)}function hr(t,i,o,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function Jf(t,i,o){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(xt(t,i,u.children,o),u=ut.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yf(t,o,i);else if(t.tag===19)Yf(t,o,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(te(ut,u),f){case"forwards":for(o=i.child,f=null;o!==null;)t=o.alternate,t!==null&&fa(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),hr(i,!1,f,o,p);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&fa(t)===null){i.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}hr(i,!0,o,null,p);break;case"together":hr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bn(t,i,o){if(t!==null&&(i.dependencies=t.dependencies),Qn|=i.lanes,(o&i.childLanes)===0)if(t!==null){if(Hl(t,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,o=Sn(t,t.pendingProps),i.child=o,o.return=i;t.sibling!==null;)t=t.sibling,o=o.sibling=Sn(t,t.pendingProps),o.return=i;o.sibling=null}return i.child}function pr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function Ng(t,i,o){switch(i.tag){case 3:Ce(i,i.stateNode.containerInfo),Pn(i,rt,t.memoizedState.cache),zl();break;case 27:case 5:bt(i);break;case 4:Ce(i,i.stateNode.containerInfo);break;case 10:Pn(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(On(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Of(t,i,o):(On(i),t=bn(t,i,o),t!==null?t.sibling:null);On(i);break;case 19:var f=(t.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Hl(t,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return Jf(t,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),te(ut,ut.current),u)break;return null;case 22:case 23:return i.lanes=0,Pf(t,i,o);case 24:Pn(i,rt,t.memoizedState.cache)}return bn(t,i,o)}function Kf(t,i,o){if(t!==null)if(t.memoizedProps!==i.pendingProps)yt=!0;else{if(!pr(t,o)&&(i.flags&128)===0)return yt=!1,Ng(t,i,o);yt=(t.flags&131072)!==0}else yt=!1,qe&&(i.flags&1048576)!==0&&xc(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Es(u)?(t=_i(u,t),i.tag=1,i=Ff(null,i,u,t,o)):(i.tag=0,i=rr(null,i,u,t,o));else{if(u!=null){if(f=u.$$typeof,f===$){i.tag=11,i=Lf(null,i,u,t,o);break e}else if(f===ee){i.tag=14,i=kf(null,i,u,t,o);break e}}throw i=xe(u)||u,Error(a(306,i,""))}}return i;case 0:return rr(t,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=_i(u,i.pendingProps),Ff(t,i,u,f,o);case 3:e:{if(Ce(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var p=i.memoizedState;f=p.element,Bs(t,i),Ql(i,u,null,o);var C=i.memoizedState;if(u=C.cache,Pn(i,rt,u),u!==p.cache&&Is(i,[rt],o,!0),Xl(),u=C.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Hf(t,i,u,o);break e}else if(u!==f){f=Qt(Error(a(424)),i),Fl(f),i=Hf(t,i,u,o);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(et=rn(t.firstChild),Nt=i,qe=!0,yi=null,dn=!0,o=Af(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zl(),u===f){i=bn(t,i,o);break e}xt(t,i,u,o)}i=i.child}return i;case 26:return ha(t,i),t===null?(o=Zd(i.type,null,i.pendingProps,null))?i.memoizedState=o:qe||(o=i.type,t=i.pendingProps,u=Na(ye.current).createElement(o),u[Y]=i,u[ne]=t,Et(u,o,t),Ze(u),i.stateNode=u):i.memoizedState=Zd(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bt(i),t===null&&qe&&(u=i.stateNode=$d(i.type,i.pendingProps,ye.current),Nt=i,dn=!0,f=et,ei(i.type)?(Xr=f,et=rn(u.firstChild)):et=f),xt(t,i,i.pendingProps.children,o),ha(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((f=u=et)&&(u=iy(u,i.type,i.pendingProps,dn),u!==null?(i.stateNode=u,Nt=i,et=rn(u.firstChild),dn=!1,f=!0):f=!1),f||vi(i)),bt(i),f=i.type,p=i.pendingProps,C=t!==null?t.memoizedProps:null,u=p.children,Yr(f,p)?u=null:C!==null&&Yr(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Os(t,i,Sg,null,null,o),To._currentValue=f),ha(t,i),xt(t,i,u,o),i.child;case 6:return t===null&&qe&&((t=o=et)&&(o=ly(o,i.pendingProps,dn),o!==null?(i.stateNode=o,Nt=i,et=null,t=!0):t=!1),t||vi(i)),null;case 13:return Of(t,i,o);case 4:return Ce(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=nl(i,null,u,o):xt(t,i,u,o),i.child;case 11:return Lf(t,i,i.type,i.pendingProps,o);case 7:return xt(t,i,i.pendingProps,o),i.child;case 8:return xt(t,i,i.pendingProps.children,o),i.child;case 12:return xt(t,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Pn(i,i.type,u.value),xt(t,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,Ci(i),f=At(f),u=u(f),i.flags|=1,xt(t,i,u,o),i.child;case 14:return kf(t,i,i.type,i.pendingProps,o);case 15:return Bf(t,i,i.type,i.pendingProps,o);case 19:return Jf(t,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},t===null?(o=pa(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Sn(t.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Pf(t,i,o);case 24:return Ci(i),u=At(rt),t===null?(f=qs(),f===null&&(f=Ke,p=Us(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),i.memoizedState={parent:u,cache:f},ks(i),Pn(i,rt,f)):((t.lanes&o)!==0&&(Bs(t,i),Ql(i,null,null,o),Xl()),f=t.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Pn(i,rt,u)):(u=p.cache,Pn(i,rt,u),u!==f.cache&&Is(i,[rt],o,!0))),xt(t,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Nn(t){t.flags|=4}function $f(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!nm(i)){if(i=en.current,i!==null&&((Ie&4194048)===Ie?mn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||i!==mn))throw Kl=Ls,Dc;t.flags|=8192}}function ga(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ui():536870912,t.lanes|=i,al|=i)}function io(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function je(t){var i=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(i)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,i}function Dg(t,i,o){var u=i.pendingProps;switch(bs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(i),null;case 1:return je(i),null;case 3:return o=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),An(rt),at(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Gl(i)?Nn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ac())),je(i),null;case 26:return o=i.memoizedState,t===null?(Nn(i),o!==null?(je(i),$f(i,o)):(je(i),i.flags&=-16777217)):o?o!==t.memoizedState?(Nn(i),je(i),$f(i,o)):(je(i),i.flags&=-16777217):(t.memoizedProps!==u&&Nn(i),je(i),i.flags&=-16777217),null;case 27:un(i),o=ye.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Nn(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return je(i),null}t=pe.current,Gl(i)?_c(i):(t=$d(f,u,o),i.stateNode=t,Nn(i))}return je(i),null;case 5:if(un(i),o=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Nn(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return je(i),null}if(t=pe.current,Gl(i))_c(i);else{switch(f=Na(ye.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}t[Y]=i,t[ne]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(Et(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Nn(i)}}return je(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Nn(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=ye.current,Gl(i)){if(t=i.stateNode,o=i.memoizedProps,u=null,f=Nt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}t[Y]=i,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||zd(t.nodeValue,o)),t||vi(i)}else t=Na(t).createTextNode(u),t[Y]=i,i.stateNode=t}return je(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Gl(i),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Y]=i}else zl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;je(i),f=!1}else f=Ac(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Rn(i),i):(Rn(i),null)}if(Rn(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==t&&o&&(i.child.flags|=8192),ga(i,i.updateQueue),je(i),null;case 4:return at(),t===null&&Gr(i.stateNode.containerInfo),je(i),null;case 10:return An(i.type),je(i),null;case 19:if(j(ut),f=i.memoizedState,f===null)return je(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)io(f,!1);else{if(tt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=fa(t),p!==null){for(i.flags|=128,io(f,!1),t=p.updateQueue,i.updateQueue=t,ga(i,t),i.subtreeFlags=0,t=o,o=i.child;o!==null;)Sc(o,t),o=o.sibling;return te(ut,ut.current&1|2),i.child}t=t.sibling}f.tail!==null&&Ct()>Ta&&(i.flags|=128,u=!0,io(f,!1),i.lanes=4194304)}else{if(!u)if(t=fa(p),t!==null){if(i.flags|=128,u=!0,t=t.updateQueue,i.updateQueue=t,ga(i,t),io(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!qe)return je(i),null}else 2*Ct()-f.renderingStartTime>Ta&&o!==536870912&&(i.flags|=128,u=!0,io(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(t=f.last,t!==null?t.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ct(),i.sibling=null,t=ut.current,te(ut,u?t&1|2:t&1),i):(je(i),null);case 22:case 23:return Rn(i),Fs(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(je(i),i.subtreeFlags&6&&(i.flags|=8192)):je(i),o=i.updateQueue,o!==null&&ga(i,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),t!==null&&j(Si),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),An(rt),je(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function wg(t,i){switch(bs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return An(rt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return un(i),null;case 13:if(Rn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));zl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(ut),null;case 4:return at(),null;case 10:return An(i.type),null;case 22:case 23:return Rn(i),Fs(),t!==null&&j(Si),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return An(rt),null;case 25:return null;default:return null}}function Xf(t,i){switch(bs(i),i.tag){case 3:An(rt),at();break;case 26:case 27:case 5:un(i);break;case 4:at();break;case 13:Rn(i);break;case 19:j(ut);break;case 10:An(i.type);break;case 22:case 23:Rn(i),Fs(),t!==null&&j(Si);break;case 24:An(rt)}}function lo(t,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&t)===t){u=void 0;var p=o.create,C=o.inst;u=p(),C.destroy=u}o=o.next}while(o!==f)}}catch(_){Ye(i,i.return,_)}}function Jn(t,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&t)===t){var C=u.inst,_=C.destroy;if(_!==void 0){C.destroy=void 0,f=i;var A=o,V=_;try{V()}catch(F){Ye(f,A,F)}}}u=u.next}while(u!==p)}}catch(F){Ye(i,i.return,F)}}function Qf(t){var i=t.updateQueue;if(i!==null){var o=t.stateNode;try{Lc(i,o)}catch(u){Ye(t,t.return,u)}}}function Zf(t,i,o){o.props=_i(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){Ye(t,i,u)}}function oo(t,i){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(f){Ye(t,i,f)}}function hn(t,i){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Ye(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ye(t,i,f)}else o.current=null}function Wf(t){var i=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Ye(t,t.return,f)}}function gr(t,i,o){try{var u=t.stateNode;Wg(u,t.type,o,i),u[ne]=i}catch(f){Ye(t,t.return,f)}}function jf(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ei(t.type)||t.tag===4}function yr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ei(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vr(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(t),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ba));else if(u!==4&&(u===27&&ei(t.type)&&(o=t.stateNode,i=null),t=t.child,t!==null))for(vr(t,i,o),t=t.sibling;t!==null;)vr(t,i,o),t=t.sibling}function ya(t,i,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?o.insertBefore(t,i):o.appendChild(t);else if(u!==4&&(u===27&&ei(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(ya(t,i,o),t=t.sibling;t!==null;)ya(t,i,o),t=t.sibling}function ed(t){var i=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Et(i,u,o),i[Y]=t,i[ne]=o}catch(p){Ye(t,t.return,p)}}var Dn=!1,it=!1,Tr=!1,td=typeof WeakSet=="function"?WeakSet:Set,vt=null;function Ig(t,i){if(t=t.containerInfo,Hr=qa,t=fc(t),ys(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var C=0,_=-1,A=-1,V=0,F=0,O=t,q=null;t:for(;;){for(var k;O!==o||f!==0&&O.nodeType!==3||(_=C+f),O!==p||u!==0&&O.nodeType!==3||(A=C+u),O.nodeType===3&&(C+=O.nodeValue.length),(k=O.firstChild)!==null;)q=O,O=k;for(;;){if(O===t)break t;if(q===o&&++V===f&&(_=C),q===p&&++F===u&&(A=C),(k=O.nextSibling)!==null)break;O=q,q=O.parentNode}O=k}o=_===-1||A===-1?null:{start:_,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Or={focusedElem:t,selectionRange:o},qa=!1,vt=i;vt!==null;)if(i=vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,vt=t;else for(;vt!==null;){switch(i=vt,p=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,o=i,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Se=_i(o.type,f,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(Se,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ye(o,o.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,o=t.nodeType,o===9)Kr(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,vt=t;break}vt=i.return}}function nd(t,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Kn(t,o),u&4&&lo(5,o);break;case 1:if(Kn(t,o),u&4)if(t=o.stateNode,i===null)try{t.componentDidMount()}catch(C){Ye(o,o.return,C)}else{var f=_i(o.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Ye(o,o.return,C)}}u&64&&Qf(o),u&512&&oo(o,o.return);break;case 3:if(Kn(t,o),u&64&&(t=o.updateQueue,t!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Lc(t,i)}catch(C){Ye(o,o.return,C)}}break;case 27:i===null&&u&4&&ed(o);case 26:case 5:Kn(t,o),i===null&&u&4&&Wf(o),u&512&&oo(o,o.return);break;case 12:Kn(t,o);break;case 13:Kn(t,o),u&4&&od(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=zg.bind(null,o),oy(t,o))));break;case 22:if(u=o.memoizedState!==null||Dn,!u){i=i!==null&&i.memoizedState!==null||it,f=Dn;var p=it;Dn=u,(it=i)&&!p?$n(t,o,(o.subtreeFlags&8772)!==0):Kn(t,o),Dn=f,it=p}break;case 30:break;default:Kn(t,o)}}function id(t){var i=t.alternate;i!==null&&(t.alternate=null,id(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&pt(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var We=null,Ut=!1;function wn(t,i,o){for(o=o.child;o!==null;)ld(t,i,o),o=o.sibling}function ld(t,i,o){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Yt,o)}catch{}switch(o.tag){case 26:it||hn(o,i),wn(t,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:it||hn(o,i);var u=We,f=Ut;ei(o.type)&&(We=o.stateNode,Ut=!1),wn(t,i,o),po(o.stateNode),We=u,Ut=f;break;case 5:it||hn(o,i);case 6:if(u=We,f=Ut,We=null,wn(t,i,o),We=u,Ut=f,We!==null)if(Ut)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(o.stateNode)}catch(p){Ye(o,i,p)}else try{We.removeChild(o.stateNode)}catch(p){Ye(o,i,p)}break;case 18:We!==null&&(Ut?(t=We,Jd(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),_o(t)):Jd(We,o.stateNode));break;case 4:u=We,f=Ut,We=o.stateNode.containerInfo,Ut=!0,wn(t,i,o),We=u,Ut=f;break;case 0:case 11:case 14:case 15:it||Jn(2,o,i),it||Jn(4,o,i),wn(t,i,o);break;case 1:it||(hn(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Zf(o,i,u)),wn(t,i,o);break;case 21:wn(t,i,o);break;case 22:it=(u=it)||o.memoizedState!==null,wn(t,i,o),it=u;break;default:wn(t,i,o)}}function od(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(o){Ye(i,i.return,o)}}function Ug(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new td),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new td),i;default:throw Error(a(435,t.tag))}}function Cr(t,i){var o=Ug(t);i.forEach(function(u){var f=Fg.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}function Pt(t,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=t,C=i,_=C;e:for(;_!==null;){switch(_.tag){case 27:if(ei(_.type)){We=_.stateNode,Ut=!1;break e}break;case 5:We=_.stateNode,Ut=!1;break e;case 3:case 4:We=_.stateNode.containerInfo,Ut=!0;break e}_=_.return}if(We===null)throw Error(a(160));ld(p,C,f),We=null,Ut=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ad(i,t),i=i.sibling}var sn=null;function ad(t,i){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pt(i,t),Gt(t),u&4&&(Jn(3,t,t.return),lo(3,t),Jn(5,t,t.return));break;case 1:Pt(i,t),Gt(t),u&512&&(it||o===null||hn(o,o.return)),u&64&&Dn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=sn;if(Pt(i,t),Gt(t),u&512&&(it||o===null||hn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Qe]||p[Y]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Et(p,u,o),p[Y]=t,Ze(p),u=p;break e;case"link":var C=em("link","href",f).get(u+(o.href||""));if(C){for(var _=0;_<C.length;_++)if(p=C[_],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(_,1);break t}}p=f.createElement(u),Et(p,u,o),f.head.appendChild(p);break;case"meta":if(C=em("meta","content",f).get(u+(o.content||""))){for(_=0;_<C.length;_++)if(p=C[_],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(_,1);break t}}p=f.createElement(u),Et(p,u,o),f.head.appendChild(p);break;default:throw Error(a(468,u))}p[Y]=t,Ze(p),u=p}t.stateNode=u}else tm(f,t.type,t.stateNode);else t.stateNode=jd(f,u,t.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?tm(f,t.type,t.stateNode):jd(f,u,t.memoizedProps)):u===null&&t.stateNode!==null&&gr(t,t.memoizedProps,o.memoizedProps)}break;case 27:Pt(i,t),Gt(t),u&512&&(it||o===null||hn(o,o.return)),o!==null&&u&4&&gr(t,t.memoizedProps,o.memoizedProps);break;case 5:if(Pt(i,t),Gt(t),u&512&&(it||o===null||hn(o,o.return)),t.flags&32){f=t.stateNode;try{Bi(f,"")}catch(k){Ye(t,t.return,k)}}u&4&&t.stateNode!=null&&(f=t.memoizedProps,gr(t,f,o!==null?o.memoizedProps:f)),u&1024&&(Tr=!0);break;case 6:if(Pt(i,t),Gt(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(k){Ye(t,t.return,k)}}break;case 3:if(Ia=null,f=sn,sn=Da(i.containerInfo),Pt(i,t),sn=f,Gt(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{_o(i.containerInfo)}catch(k){Ye(t,t.return,k)}Tr&&(Tr=!1,sd(t));break;case 4:u=sn,sn=Da(t.stateNode.containerInfo),Pt(i,t),Gt(t),sn=u;break;case 12:Pt(i,t),Gt(t);break;case 13:Pt(i,t),Gt(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mr=Ct()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Cr(t,u)));break;case 22:f=t.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,V=Dn,F=it;if(Dn=V||f,it=F||A,Pt(i,t),it=F,Dn=V,Gt(t),u&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||A||Dn||it||Ei(t)),o=null,i=t;;){if(i.tag===5||i.tag===26){if(o===null){A=o=i;try{if(p=A.stateNode,f)C=p.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{_=A.stateNode;var O=A.memoizedProps.style,q=O!=null&&O.hasOwnProperty("display")?O.display:null;_.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(k){Ye(A,A.return,k)}}}else if(i.tag===6){if(o===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(k){Ye(A,A.return,k)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Cr(t,o))));break;case 19:Pt(i,t),Gt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Cr(t,u)));break;case 30:break;case 21:break;default:Pt(i,t),Gt(t)}}function Gt(t){var i=t.flags;if(i&2){try{for(var o,u=t.return;u!==null;){if(jf(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var f=o.stateNode,p=yr(t);ya(t,p,f);break;case 5:var C=o.stateNode;o.flags&32&&(Bi(C,""),o.flags&=-33);var _=yr(t);ya(t,_,C);break;case 3:case 4:var A=o.stateNode.containerInfo,V=yr(t);vr(t,V,A);break;default:throw Error(a(161))}}catch(F){Ye(t,t.return,F)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function sd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;sd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Kn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)nd(t,i.alternate,i),i=i.sibling}function Ei(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Jn(4,i,i.return),Ei(i);break;case 1:hn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Zf(i,i.return,o),Ei(i);break;case 27:po(i.stateNode);case 26:case 5:hn(i,i.return),Ei(i);break;case 22:i.memoizedState===null&&Ei(i);break;case 30:Ei(i);break;default:Ei(i)}t=t.sibling}}function $n(t,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=t,p=i,C=p.flags;switch(p.tag){case 0:case 11:case 15:$n(f,p,o),lo(4,p);break;case 1:if($n(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(V){Ye(u,u.return,V)}if(u=p,f=u.updateQueue,f!==null){var _=u.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)qc(A[f],_)}catch(V){Ye(u,u.return,V)}}o&&C&64&&Qf(p),oo(p,p.return);break;case 27:ed(p);case 26:case 5:$n(f,p,o),o&&u===null&&C&4&&Wf(p),oo(p,p.return);break;case 12:$n(f,p,o);break;case 13:$n(f,p,o),o&&C&4&&od(f,p);break;case 22:p.memoizedState===null&&$n(f,p,o),oo(p,p.return);break;case 30:break;default:$n(f,p,o)}i=i.sibling}}function Sr(t,i){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&Ol(o))}function xr(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ol(t))}function pn(t,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rd(t,i,o,u),i=i.sibling}function rd(t,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:pn(t,i,o,u),f&2048&&lo(9,i);break;case 1:pn(t,i,o,u);break;case 3:pn(t,i,o,u),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ol(t)));break;case 12:if(f&2048){pn(t,i,o,u),t=i.stateNode;try{var p=i.memoizedProps,C=p.id,_=p.onPostCommit;typeof _=="function"&&_(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Ye(i,i.return,A)}}else pn(t,i,o,u);break;case 13:pn(t,i,o,u);break;case 23:break;case 22:p=i.stateNode,C=i.alternate,i.memoizedState!==null?p._visibility&2?pn(t,i,o,u):ao(t,i):p._visibility&2?pn(t,i,o,u):(p._visibility|=2,il(t,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&Sr(C,i);break;case 24:pn(t,i,o,u),f&2048&&xr(i.alternate,i);break;default:pn(t,i,o,u)}}function il(t,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=t,C=i,_=o,A=u,V=C.flags;switch(C.tag){case 0:case 11:case 15:il(p,C,_,A,f),lo(8,C);break;case 23:break;case 22:var F=C.stateNode;C.memoizedState!==null?F._visibility&2?il(p,C,_,A,f):ao(p,C):(F._visibility|=2,il(p,C,_,A,f)),f&&V&2048&&Sr(C.alternate,C);break;case 24:il(p,C,_,A,f),f&&V&2048&&xr(C.alternate,C);break;default:il(p,C,_,A,f)}i=i.sibling}}function ao(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=t,u=i,f=u.flags;switch(u.tag){case 22:ao(o,u),f&2048&&Sr(u.alternate,u);break;case 24:ao(o,u),f&2048&&xr(u.alternate,u);break;default:ao(o,u)}i=i.sibling}}var so=8192;function ll(t){if(t.subtreeFlags&so)for(t=t.child;t!==null;)ud(t),t=t.sibling}function ud(t){switch(t.tag){case 26:ll(t),t.flags&so&&t.memoizedState!==null&&vy(sn,t.memoizedState,t.memoizedProps);break;case 5:ll(t);break;case 3:case 4:var i=sn;sn=Da(t.stateNode.containerInfo),ll(t),sn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=so,so=16777216,ll(t),so=i):ll(t));break;default:ll(t)}}function cd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ro(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];vt=u,dd(u,t)}cd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fd(t),t=t.sibling}function fd(t){switch(t.tag){case 0:case 11:case 15:ro(t),t.flags&2048&&Jn(9,t,t.return);break;case 3:ro(t);break;case 12:ro(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,va(t)):ro(t);break;default:ro(t)}}function va(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];vt=u,dd(u,t)}cd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Jn(8,i,i.return),va(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,va(i));break;default:va(i)}t=t.sibling}}function dd(t,i){for(;vt!==null;){var o=vt;switch(o.tag){case 0:case 11:case 15:Jn(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ol(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,vt=u;else e:for(o=t;vt!==null;){u=vt;var f=u.sibling,p=u.return;if(id(u),u===o){vt=null;break e}if(f!==null){f.return=p,vt=f;break e}vt=p}}}var Vg={getCacheForType:function(t){var i=At(rt),o=i.data.get(t);return o===void 0&&(o=t(),i.data.set(t,o)),o}},qg=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ke=null,Re=null,Ie=0,Be=0,zt=null,Xn=!1,ol=!1,_r=!1,In=0,tt=0,Qn=0,Ai=0,Er=0,tn=0,al=0,uo=null,Vt=null,Ar=!1,Mr=0,Ta=1/0,Ca=null,Zn=null,_t=0,Wn=null,sl=null,rl=0,Rr=0,br=null,md=null,co=0,Nr=null;function Ft(){if((ke&2)!==0&&Ie!==0)return Ie&-Ie;if(I.T!==null){var t=Xi;return t!==0?t:Lr()}return Vi()}function hd(){tn===0&&(tn=(Ie&536870912)===0||qe?Rl():536870912);var t=en.current;return t!==null&&(t.flags|=32),tn}function Ht(t,i,o){(t===Ke&&(Be===2||Be===9)||t.cancelPendingCommit!==null)&&(ul(t,0),jn(t,Ie,tn,!1)),kn(t,o),((ke&2)===0||t!==Ke)&&(t===Ke&&((ke&2)===0&&(Ai|=o),tt===4&&jn(t,Ie,tn,!1)),gn(t))}function pd(t,i,o){if((ke&6)!==0)throw Error(a(327));var u=!o&&(i&124)===0&&(i&t.expiredLanes)===0||Xe(t,i),f=u?Bg(t,i):Ir(t,i,!0),p=u;do{if(f===0){ol&&!u&&jn(t,i,0,!1);break}else{if(o=t.current.alternate,p&&!Lg(o)){f=Ir(t,i,!1),p=!1;continue}if(f===2){if(p=i,t.errorRecoveryDisabledLanes&p)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var _=t;f=uo;var A=_.current.memoizedState.isDehydrated;if(A&&(ul(_,C).flags|=256),C=Ir(_,C,!1),C!==2){if(_r&&!A){_.errorRecoveryDisabledLanes|=p,Ai|=p,f=4;break e}p=Vt,Vt=f,p!==null&&(Vt===null?Vt=p:Vt.push.apply(Vt,p))}f=C}if(p=!1,f!==2)continue}}if(f===1){ul(t,0),jn(t,i,0,!0);break}e:{switch(u=t,p=f,p){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:jn(u,i,tn,!Xn);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Mr+300-Ct(),10<f)){if(jn(u,i,tn,!Xn),we(u,0,!0)!==0)break e;u.timeoutHandle=Od(gd.bind(null,u,o,Vt,Ca,Ar,i,tn,Ai,al,Xn,p,2,-0,0),f);break e}gd(u,o,Vt,Ca,Ar,i,tn,Ai,al,Xn,p,0,-0,0)}}break}while(!0);gn(t)}function gd(t,i,o,u,f,p,C,_,A,V,F,O,q,k){if(t.timeoutHandle=-1,O=i.subtreeFlags,(O&8192||(O&16785408)===16785408)&&(vo={stylesheets:null,count:0,unsuspend:yy},ud(i),O=Ty(),O!==null)){t.cancelPendingCommit=O(_d.bind(null,t,i,p,o,u,f,C,_,A,F,1,q,k)),jn(t,p,C,!V);return}_d(t,i,p,o,u,f,C,_,A)}function Lg(t){for(var i=t;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!kt(p(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function jn(t,i,o,u){i&=~Er,i&=~Ai,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var f=i;0<f;){var p=31-mt(f),C=1<<p;u[p]=-1,f&=~C}o!==0&&bl(t,o,i)}function Sa(){return(ke&6)===0?(fo(0),!1):!0}function Dr(){if(Re!==null){if(Be===0)var t=Re.return;else t=Re,En=Ti=null,Ks(t),tl=null,to=0,t=Re;for(;t!==null;)Xf(t.alternate,t),t=t.return;Re=null}}function ul(t,i){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,ey(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Dr(),Ke=t,Re=o=Sn(t.current,null),Ie=i,Be=0,zt=null,Xn=!1,ol=Xe(t,i),_r=!1,al=tn=Er=Ai=Qn=tt=0,Vt=uo=null,Ar=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var f=31-mt(u),p=1<<f;i|=t[f],u&=~p}return In=i,Ho(),o}function yd(t,i){Ae=null,I.H=ra,i===Jl||i===Wo?(i=Uc(),Be=3):i===Dc?(i=Uc(),Be=4):Be=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,zt=i,Re===null&&(tt=1,ma(t,Qt(i,t.current)))}function vd(){var t=I.H;return I.H=ra,t===null?ra:t}function Td(){var t=I.A;return I.A=Vg,t}function wr(){tt=4,Xn||(Ie&4194048)!==Ie&&en.current!==null||(ol=!0),(Qn&134217727)===0&&(Ai&134217727)===0||Ke===null||jn(Ke,Ie,tn,!1)}function Ir(t,i,o){var u=ke;ke|=2;var f=vd(),p=Td();(Ke!==t||Ie!==i)&&(Ca=null,ul(t,i)),i=!1;var C=tt;e:do try{if(Be!==0&&Re!==null){var _=Re,A=zt;switch(Be){case 8:Dr(),C=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(i=!0);var V=Be;if(Be=0,zt=null,cl(t,_,A,V),o&&ol){C=0;break e}break;default:V=Be,Be=0,zt=null,cl(t,_,A,V)}}kg(),C=tt;break}catch(F){yd(t,F)}while(!0);return i&&t.shellSuspendCounter++,En=Ti=null,ke=u,I.H=f,I.A=p,Re===null&&(Ke=null,Ie=0,Ho()),C}function kg(){for(;Re!==null;)Cd(Re)}function Bg(t,i){var o=ke;ke|=2;var u=vd(),f=Td();Ke!==t||Ie!==i?(Ca=null,Ta=Ct()+500,ul(t,i)):ol=Xe(t,i);e:do try{if(Be!==0&&Re!==null){i=Re;var p=zt;t:switch(Be){case 1:Be=0,zt=null,cl(t,i,p,1);break;case 2:case 9:if(wc(p)){Be=0,zt=null,Sd(i);break}i=function(){Be!==2&&Be!==9||Ke!==t||(Be=7),gn(t)},p.then(i,i);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:wc(p)?(Be=0,zt=null,Sd(i)):(Be=0,zt=null,cl(t,i,p,7));break;case 5:var C=null;switch(Re.tag){case 26:C=Re.memoizedState;case 5:case 27:var _=Re;if(!C||nm(C)){Be=0,zt=null;var A=_.sibling;if(A!==null)Re=A;else{var V=_.return;V!==null?(Re=V,xa(V)):Re=null}break t}}Be=0,zt=null,cl(t,i,p,5);break;case 6:Be=0,zt=null,cl(t,i,p,6);break;case 8:Dr(),tt=6;break e;default:throw Error(a(462))}}Pg();break}catch(F){yd(t,F)}while(!0);return En=Ti=null,I.H=u,I.A=f,ke=o,Re!==null?0:(Ke=null,Ie=0,Ho(),tt)}function Pg(){for(;Re!==null&&!qn();)Cd(Re)}function Cd(t){var i=Kf(t.alternate,t,In);t.memoizedProps=t.pendingProps,i===null?xa(t):Re=i}function Sd(t){var i=t,o=i.alternate;switch(i.tag){case 15:case 0:i=zf(o,i,i.pendingProps,i.type,void 0,Ie);break;case 11:i=zf(o,i,i.pendingProps,i.type.render,i.ref,Ie);break;case 5:Ks(i);default:Xf(o,i),i=Re=Sc(i,In),i=Kf(o,i,In)}t.memoizedProps=t.pendingProps,i===null?xa(t):Re=i}function cl(t,i,o,u){En=Ti=null,Ks(i),tl=null,to=0;var f=i.return;try{if(bg(t,f,i,o,Ie)){tt=1,ma(t,Qt(o,t.current)),Re=null;return}}catch(p){if(f!==null)throw Re=f,p;tt=1,ma(t,Qt(o,t.current)),Re=null;return}i.flags&32768?(qe||u===1?t=!0:ol||(Ie&536870912)!==0?t=!1:(Xn=t=!0,(u===2||u===9||u===3||u===6)&&(u=en.current,u!==null&&u.tag===13&&(u.flags|=16384))),xd(i,t)):xa(i)}function xa(t){var i=t;do{if((i.flags&32768)!==0){xd(i,Xn);return}t=i.return;var o=Dg(i.alternate,i,In);if(o!==null){Re=o;return}if(i=i.sibling,i!==null){Re=i;return}Re=i=t}while(i!==null);tt===0&&(tt=5)}function xd(t,i){do{var o=wg(t.alternate,t);if(o!==null){o.flags&=32767,Re=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(t=t.sibling,t!==null)){Re=t;return}Re=t=o}while(t!==null);tt=6,Re=null}function _d(t,i,o,u,f,p,C,_,A){t.cancelPendingCommit=null;do _a();while(_t!==0);if((ke&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(p=i.lanes|i.childLanes,p|=xs,Wa(t,o,p,C,_,A),t===Ke&&(Re=Ke=null,Ie=0),sl=i,Wn=t,rl=o,Rr=p,br=f,md=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hg(Le,function(){return bd(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,f=X.p,X.p=2,C=ke,ke|=4;try{Ig(t,i,o)}finally{ke=C,X.p=f,I.T=u}}_t=1,Ed(),Ad(),Md()}}function Ed(){if(_t===1){_t=0;var t=Wn,i=sl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var u=X.p;X.p=2;var f=ke;ke|=4;try{ad(i,t);var p=Or,C=fc(t.containerInfo),_=p.focusedElem,A=p.selectionRange;if(C!==_&&_&&_.ownerDocument&&cc(_.ownerDocument.documentElement,_)){if(A!==null&&ys(_)){var V=A.start,F=A.end;if(F===void 0&&(F=V),"selectionStart"in _)_.selectionStart=V,_.selectionEnd=Math.min(F,_.value.length);else{var O=_.ownerDocument||document,q=O&&O.defaultView||window;if(q.getSelection){var k=q.getSelection(),Se=_.textContent.length,ve=Math.min(A.start,Se),He=A.end===void 0?ve:Math.min(A.end,Se);!k.extend&&ve>He&&(C=He,He=ve,ve=C);var w=uc(_,ve),b=uc(_,He);if(w&&b&&(k.rangeCount!==1||k.anchorNode!==w.node||k.anchorOffset!==w.offset||k.focusNode!==b.node||k.focusOffset!==b.offset)){var U=O.createRange();U.setStart(w.node,w.offset),k.removeAllRanges(),ve>He?(k.addRange(U),k.extend(b.node,b.offset)):(U.setEnd(b.node,b.offset),k.addRange(U))}}}}for(O=[],k=_;k=k.parentNode;)k.nodeType===1&&O.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<O.length;_++){var H=O[_];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}qa=!!Hr,Or=Hr=null}finally{ke=f,X.p=u,I.T=o}}t.current=i,_t=2}}function Ad(){if(_t===2){_t=0;var t=Wn,i=sl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var u=X.p;X.p=2;var f=ke;ke|=4;try{nd(t,i.alternate,i)}finally{ke=f,X.p=u,I.T=o}}_t=3}}function Md(){if(_t===4||_t===3){_t=0,cn();var t=Wn,i=sl,o=rl,u=md;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?_t=5:(_t=0,sl=Wn=null,Rd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Zn=null),Dl(o),i=i.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Yt,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=I.T,f=X.p,X.p=2,I.T=null;try{for(var p=t.onRecoverableError,C=0;C<u.length;C++){var _=u[C];p(_.value,{componentStack:_.stack})}}finally{I.T=i,X.p=f}}(rl&3)!==0&&_a(),gn(t),f=t.pendingLanes,(o&4194090)!==0&&(f&42)!==0?t===Nr?co++:(co=0,Nr=t):co=0,fo(0)}}function Rd(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ol(i)))}function _a(t){return Ed(),Ad(),Md(),bd()}function bd(){if(_t!==5)return!1;var t=Wn,i=Rr;Rr=0;var o=Dl(rl),u=I.T,f=X.p;try{X.p=32>o?32:o,I.T=null,o=br,br=null;var p=Wn,C=rl;if(_t=0,sl=Wn=null,rl=0,(ke&6)!==0)throw Error(a(331));var _=ke;if(ke|=4,fd(p.current),rd(p,p.current,C,o),ke=_,fo(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Yt,p)}catch{}return!0}finally{X.p=f,I.T=u,Rd(t,i)}}function Nd(t,i,o){i=Qt(o,i),i=sr(t.stateNode,i,2),t=Fn(t,i,2),t!==null&&(kn(t,2),gn(t))}function Ye(t,i,o){if(t.tag===3)Nd(t,t,o);else for(;i!==null;){if(i.tag===3){Nd(i,t,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Zn===null||!Zn.has(u))){t=Qt(o,t),o=Uf(2),u=Fn(i,o,2),u!==null&&(Vf(o,u,i,t),kn(u,2),gn(u));break}}i=i.return}}function Ur(t,i,o){var u=t.pingCache;if(u===null){u=t.pingCache=new qg;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(_r=!0,f.add(o),t=Gg.bind(null,t,i,o),i.then(t,t))}function Gg(t,i,o){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,Ke===t&&(Ie&o)===o&&(tt===4||tt===3&&(Ie&62914560)===Ie&&300>Ct()-Mr?(ke&2)===0&&ul(t,0):Er|=o,al===Ie&&(al=0)),gn(t)}function Dd(t,i){i===0&&(i=ui()),t=Yi(t,i),t!==null&&(kn(t,i),gn(t))}function zg(t){var i=t.memoizedState,o=0;i!==null&&(o=i.retryLane),Dd(t,o)}function Fg(t,i){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),Dd(t,o)}function Hg(t,i){return yn(t,i)}var Ea=null,fl=null,Vr=!1,Aa=!1,qr=!1,Mi=0;function gn(t){t!==fl&&t.next===null&&(fl===null?Ea=fl=t:fl=fl.next=t),Aa=!0,Vr||(Vr=!0,Yg())}function fo(t,i){if(!qr&&Aa){qr=!0;do for(var o=!1,u=Ea;u!==null;){if(t!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var C=u.suspendedLanes,_=u.pingedLanes;p=(1<<31-mt(42|t)+1)-1,p&=f&~(C&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Vd(u,p))}else p=Ie,p=we(u,u===Ke?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Xe(u,p)||(o=!0,Vd(u,p));u=u.next}while(o);qr=!1}}function Og(){wd()}function wd(){Aa=Vr=!1;var t=0;Mi!==0&&(jg()&&(t=Mi),Mi=0);for(var i=Ct(),o=null,u=Ea;u!==null;){var f=u.next,p=Id(u,i);p===0?(u.next=null,o===null?Ea=f:o.next=f,f===null&&(fl=o)):(o=u,(t!==0||(p&3)!==0)&&(Aa=!0)),u=f}fo(t)}function Id(t,i){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var C=31-mt(p),_=1<<C,A=f[C];A===-1?((_&o)===0||(_&u)!==0)&&(f[C]=Ii(_,i)):A<=i&&(t.expiredLanes|=_),p&=~_}if(i=Ke,o=Ie,o=we(t,t===i?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===i&&(Be===2||Be===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&st(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Xe(t,o)){if(i=o&-o,i===t.callbackPriority)return i;switch(u!==null&&st(u),Dl(o)){case 2:case 8:o=ai;break;case 32:o=Le;break;case 268435456:o=wi;break;default:o=Le}return u=Ud.bind(null,t),o=yn(o,u),t.callbackPriority=i,t.callbackNode=o,i}return u!==null&&u!==null&&st(u),t.callbackPriority=2,t.callbackNode=null,2}function Ud(t,i){if(_t!==0&&_t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(_a()&&t.callbackNode!==o)return null;var u=Ie;return u=we(t,t===Ke?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(pd(t,u,i),Id(t,Ct()),t.callbackNode!=null&&t.callbackNode===o?Ud.bind(null,t):null)}function Vd(t,i){if(_a())return null;pd(t,i,!0)}function Yg(){ty(function(){(ke&6)!==0?yn(Di,Og):wd()})}function Lr(){return Mi===0&&(Mi=Rl()),Mi}function qd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Lo(""+t)}function Ld(t,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,t.id&&o.setAttribute("form",t.id),i.parentNode.insertBefore(o,i),t=new FormData(t),o.parentNode.removeChild(o),t}function Jg(t,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var p=qd((f[ne]||null).action),C=u.submitter;C&&(i=(i=C[ne]||null)?qd(i.formAction):C.getAttribute("formAction"),i!==null&&(p=i,C=null));var _=new Go("action","action",null,u,f);t.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Mi!==0){var A=C?Ld(f,C):new FormData(f);nr(o,{pending:!0,data:A,method:f.method,action:p},null,A)}}else typeof p=="function"&&(_.preventDefault(),A=C?Ld(f,C):new FormData(f),nr(o,{pending:!0,data:A,method:f.method,action:p},p,A))},currentTarget:f}]})}}for(var kr=0;kr<Ss.length;kr++){var Br=Ss[kr],Kg=Br.toLowerCase(),$g=Br[0].toUpperCase()+Br.slice(1);an(Kg,"on"+$g)}an(hc,"onAnimationEnd"),an(pc,"onAnimationIteration"),an(gc,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(fg,"onTransitionRun"),an(dg,"onTransitionStart"),an(mg,"onTransitionCancel"),an(yc,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function kd(t,i){i=(i&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var C=u.length-1;0<=C;C--){var _=u[C],A=_.instance,V=_.currentTarget;if(_=_.listener,A!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=V;try{p(f)}catch(F){da(F)}f.currentTarget=null,p=A}else for(C=0;C<u.length;C++){if(_=u[C],A=_.instance,V=_.currentTarget,_=_.listener,A!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=V;try{p(f)}catch(F){da(F)}f.currentTarget=null,p=A}}}}function be(t,i){var o=i[ht];o===void 0&&(o=i[ht]=new Set);var u=t+"__bubble";o.has(u)||(Bd(i,t,2,!1),o.add(u))}function Pr(t,i,o){var u=0;i&&(u|=4),Bd(o,t,u,i)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function Gr(t){if(!t[Ma]){t[Ma]=!0,Kt.forEach(function(o){o!=="selectionchange"&&(Xg.has(o)||Pr(o,!1,t),Pr(o,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ma]||(i[Ma]=!0,Pr("selectionchange",!1,i))}}function Bd(t,i,o,u){switch(rm(i)){case 2:var f=xy;break;case 8:f=_y;break;default:f=eu}o=f.bind(null,i,o,t),f=void 0,!rs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(i,o,{capture:!0,passive:f}):t.addEventListener(i,o,!0):f!==void 0?t.addEventListener(i,o,{passive:f}):t.addEventListener(i,o,!1)}function zr(t,i,o,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var C=u.tag;if(C===3||C===4){var _=u.stateNode.containerInfo;if(_===f)break;if(C===4)for(C=u.return;C!==null;){var A=C.tag;if((A===3||A===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;_!==null;){if(C=gt(_),C===null)return;if(A=C.tag,A===5||A===6||A===26||A===27){u=p=C;continue e}_=_.parentNode}}u=u.return}Ou(function(){var V=p,F=as(o),O=[];e:{var q=vc.get(t);if(q!==void 0){var k=Go,Se=t;switch(t){case"keypress":if(Bo(o)===0)break e;case"keydown":case"keyup":k=Hp;break;case"focusin":Se="focus",k=ds;break;case"focusout":Se="blur",k=ds;break;case"beforeblur":case"afterblur":k=ds;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ku;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Jp;break;case hc:case pc:case gc:k=Vp;break;case yc:k=$p;break;case"scroll":case"scrollend":k=Np;break;case"wheel":k=Qp;break;case"copy":case"cut":case"paste":k=Lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Xu;break;case"toggle":case"beforetoggle":k=Wp}var ve=(i&4)!==0,He=!ve&&(t==="scroll"||t==="scrollend"),w=ve?q!==null?q+"Capture":null:q;ve=[];for(var b=V,U;b!==null;){var H=b;if(U=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||U===null||w===null||(H=wl(b,w),H!=null&&ve.push(ho(b,H,U))),He)break;b=b.return}0<ve.length&&(q=new k(q,Se,null,o,F),O.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&o!==os&&(Se=o.relatedTarget||o.fromElement)&&(gt(Se)||Se[Z]))break e;if((k||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,k?(Se=o.relatedTarget||o.toElement,k=V,Se=Se?gt(Se):null,Se!==null&&(He=d(Se),ve=Se.tag,Se!==He||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(k=null,Se=V),k!==Se)){if(ve=Ku,H="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Xu,H="onPointerLeave",w="onPointerEnter",b="pointer"),He=k==null?q:St(k),U=Se==null?q:St(Se),q=new ve(H,b+"leave",k,o,F),q.target=He,q.relatedTarget=U,H=null,gt(F)===V&&(ve=new ve(w,b+"enter",Se,o,F),ve.target=U,ve.relatedTarget=He,H=ve),He=H,k&&Se)t:{for(ve=k,w=Se,b=0,U=ve;U;U=dl(U))b++;for(U=0,H=w;H;H=dl(H))U++;for(;0<b-U;)ve=dl(ve),b--;for(;0<U-b;)w=dl(w),U--;for(;b--;){if(ve===w||w!==null&&ve===w.alternate)break t;ve=dl(ve),w=dl(w)}ve=null}else ve=null;k!==null&&Pd(O,q,k,ve,!1),Se!==null&&He!==null&&Pd(O,He,Se,ve,!0)}}e:{if(q=V?St(V):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var ae=ic;else if(tc(q))if(lc)ae=rg;else{ae=ag;var Me=og}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&ls(V.elementType)&&(ae=ic):ae=sg;if(ae&&(ae=ae(t,V))){nc(O,ae,o,F);break e}Me&&Me(t,q,V),t==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&is(q,"number",q.value)}switch(Me=V?St(V):window,t){case"focusin":(tc(Me)||Me.contentEditable==="true")&&(Fi=Me,vs=V,Pl=null);break;case"focusout":Pl=vs=Fi=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,dc(O,o,F);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":dc(O,o,F)}var he;if(hs)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else zi?ju(t,o)&&(Te="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(Qu&&o.locale!=="ko"&&(zi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&zi&&(he=Yu()):(Bn=F,us="value"in Bn?Bn.value:Bn.textContent,zi=!0)),Me=Ra(V,Te),0<Me.length&&(Te=new $u(Te,t,null,o,F),O.push({event:Te,listeners:Me}),he?Te.data=he:(he=ec(o),he!==null&&(Te.data=he)))),(he=eg?tg(t,o):ng(t,o))&&(Te=Ra(V,"onBeforeInput"),0<Te.length&&(Me=new $u("onBeforeInput","beforeinput",null,o,F),O.push({event:Me,listeners:Te}),Me.data=he)),Jg(O,t,V,o,F)}kd(O,i)})}function ho(t,i,o){return{instance:t,listener:i,currentTarget:o}}function Ra(t,i){for(var o=i+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=wl(t,o),f!=null&&u.unshift(ho(t,f,p)),f=wl(t,i),f!=null&&u.push(ho(t,f,p))),t.tag===3)return u;t=t.return}return[]}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pd(t,i,o,u,f){for(var p=i._reactName,C=[];o!==null&&o!==u;){var _=o,A=_.alternate,V=_.stateNode;if(_=_.tag,A!==null&&A===u)break;_!==5&&_!==26&&_!==27||V===null||(A=V,f?(V=wl(o,p),V!=null&&C.unshift(ho(o,V,A))):f||(V=wl(o,p),V!=null&&C.push(ho(o,V,A)))),o=o.return}C.length!==0&&t.push({event:i,listeners:C})}var Qg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function Gd(t){return(typeof t=="string"?t:""+t).replace(Qg,`
`).replace(Zg,"")}function zd(t,i){return i=Gd(i),Gd(t)===i}function ba(){}function Fe(t,i,o,u,f,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Bi(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Bi(t,""+u);break;case"className":Uo(t,"class",u);break;case"tabIndex":Uo(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Uo(t,o,u);break;case"style":Fu(t,u,p);break;case"data":if(i!=="object"){Uo(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Lo(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&Fe(t,i,"name",f.name,f,null),Fe(t,i,"formEncType",f.formEncType,f,null),Fe(t,i,"formMethod",f.formMethod,f,null),Fe(t,i,"formTarget",f.formTarget,f,null)):(Fe(t,i,"encType",f.encType,f,null),Fe(t,i,"method",f.method,f,null),Fe(t,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=Lo(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=ba);break;case"onScroll":u!=null&&be("scroll",t);break;case"onScrollEnd":u!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=Lo(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":be("beforetoggle",t),be("toggle",t),Io(t,"popover",u);break;case"xlinkActuate":Tn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Tn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Tn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Tn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Tn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Tn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Tn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Io(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rp.get(o)||o,Io(t,o,u))}}function Fr(t,i,o,u,f,p){switch(o){case"style":Fu(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Bi(t,u):(typeof u=="number"||typeof u=="bigint")&&Bi(t,""+u);break;case"onScroll":u!=null&&be("scroll",t);break;case"onScrollEnd":u!=null&&be("scrollend",t);break;case"onClick":u!=null&&(t.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),p=t[ne]||null,p=p!=null?p[o]:null,typeof p=="function"&&t.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(i,u,f);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):Io(t,o,u)}}}function Et(t,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var C=o[p];if(C!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Fe(t,i,p,C,o,null)}}f&&Fe(t,i,"srcSet",o.srcSet,o,null),u&&Fe(t,i,"src",o.src,o,null);return;case"input":be("invalid",t);var _=p=C=f=null,A=null,V=null;for(u in o)if(o.hasOwnProperty(u)){var F=o[u];if(F!=null)switch(u){case"name":f=F;break;case"type":C=F;break;case"checked":A=F;break;case"defaultChecked":V=F;break;case"value":p=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:Fe(t,i,u,F,o,null)}}Bu(t,p,_,A,V,C,f,!1),Vo(t);return;case"select":be("invalid",t),u=C=p=null;for(f in o)if(o.hasOwnProperty(f)&&(_=o[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":C=_;break;case"multiple":u=_;default:Fe(t,i,f,_,o,null)}i=p,o=C,t.multiple=!!u,i!=null?ki(t,!!u,i,!1):o!=null&&ki(t,!!u,o,!0);return;case"textarea":be("invalid",t),p=f=u=null;for(C in o)if(o.hasOwnProperty(C)&&(_=o[C],_!=null))switch(C){case"value":u=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Fe(t,i,C,_,o,null)}Gu(t,u,f,p),Vo(t);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(u=o[A],u!=null))switch(A){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Fe(t,i,A,u,o,null)}return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(u=0;u<mo.length;u++)be(mo[u],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Fe(t,i,V,u,o,null)}return;default:if(ls(i)){for(F in o)o.hasOwnProperty(F)&&(u=o[F],u!==void 0&&Fr(t,i,F,u,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(u=o[_],u!=null&&Fe(t,i,_,u,o,null))}function Wg(t,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,C=null,_=null,A=null,V=null,F=null;for(k in o){var O=o[k];if(o.hasOwnProperty(k)&&O!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":A=O;default:u.hasOwnProperty(k)||Fe(t,i,k,null,u,O)}}for(var q in u){var k=u[q];if(O=o[q],u.hasOwnProperty(q)&&(k!=null||O!=null))switch(q){case"type":p=k;break;case"name":f=k;break;case"checked":V=k;break;case"defaultChecked":F=k;break;case"value":C=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,i));break;default:k!==O&&Fe(t,i,q,k,u,O)}}ns(t,C,_,A,V,F,p,f);return;case"select":k=C=_=q=null;for(p in o)if(A=o[p],o.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":k=A;default:u.hasOwnProperty(p)||Fe(t,i,p,null,u,A)}for(f in u)if(p=u[f],A=o[f],u.hasOwnProperty(f)&&(p!=null||A!=null))switch(f){case"value":q=p;break;case"defaultValue":_=p;break;case"multiple":C=p;default:p!==A&&Fe(t,i,f,p,u,A)}i=_,o=C,u=k,q!=null?ki(t,!!o,q,!1):!!u!=!!o&&(i!=null?ki(t,!!o,i,!0):ki(t,!!o,o?[]:"",!1));return;case"textarea":k=q=null;for(_ in o)if(f=o[_],o.hasOwnProperty(_)&&f!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Fe(t,i,_,null,u,f)}for(C in u)if(f=u[C],p=o[C],u.hasOwnProperty(C)&&(f!=null||p!=null))switch(C){case"value":q=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&Fe(t,i,C,f,u,p)}Pu(t,q,k);return;case"option":for(var Se in o)if(q=o[Se],o.hasOwnProperty(Se)&&q!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Fe(t,i,Se,null,u,q)}for(A in u)if(q=u[A],k=o[A],u.hasOwnProperty(A)&&q!==k&&(q!=null||k!=null))switch(A){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Fe(t,i,A,q,u,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)q=o[ve],o.hasOwnProperty(ve)&&q!=null&&!u.hasOwnProperty(ve)&&Fe(t,i,ve,null,u,q);for(V in u)if(q=u[V],k=o[V],u.hasOwnProperty(V)&&q!==k&&(q!=null||k!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:Fe(t,i,V,q,u,k)}return;default:if(ls(i)){for(var He in o)q=o[He],o.hasOwnProperty(He)&&q!==void 0&&!u.hasOwnProperty(He)&&Fr(t,i,He,void 0,u,q);for(F in u)q=u[F],k=o[F],!u.hasOwnProperty(F)||q===k||q===void 0&&k===void 0||Fr(t,i,F,q,u,k);return}}for(var w in o)q=o[w],o.hasOwnProperty(w)&&q!=null&&!u.hasOwnProperty(w)&&Fe(t,i,w,null,u,q);for(O in u)q=u[O],k=o[O],!u.hasOwnProperty(O)||q===k||q==null&&k==null||Fe(t,i,O,q,u,k)}var Hr=null,Or=null;function Na(t){return t.nodeType===9?t:t.ownerDocument}function Fd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Yr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jr=null;function jg(){var t=window.event;return t&&t.type==="popstate"?t===Jr?!1:(Jr=t,!0):(Jr=null,!1)}var Od=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(t){return Yd.resolve(null).then(t).catch(ny)}:Od;function ny(t){setTimeout(function(){throw t})}function ei(t){return t==="head"}function Jd(t,i){var o=i,u=0,f=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var C=t.ownerDocument;if(o&1&&po(C.documentElement),o&2&&po(C.body),o&4)for(o=C.head,po(o),C=o.firstChild;C;){var _=C.nextSibling,A=C.nodeName;C[Qe]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&C.rel.toLowerCase()==="stylesheet"||o.removeChild(C),C=_}}if(f===0){t.removeChild(p),_o(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);_o(i)}function Kr(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kr(o),pt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function iy(t,i,o,u){for(;t.nodeType===1;){var f=o;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Qe])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function ly(t,i,o){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=rn(t.nextSibling),t===null))return null;return t}function $r(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function oy(t,i){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function rn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Xr=null;function Kd(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return t;i--}else o==="/$"&&i++}t=t.previousSibling}return null}function $d(t,i,o){switch(i=Na(o),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function po(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pt(t)}var nn=new Map,Xd=new Set;function Da(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Un=X.d;X.d={f:ay,r:sy,D:ry,C:uy,L:cy,m:fy,X:my,S:dy,M:hy};function ay(){var t=Un.f(),i=Sa();return t||i}function sy(t){var i=Je(t);i!==null&&i.tag===5&&i.type==="form"?pf(i):Un.r(t)}var ml=typeof document>"u"?null:document;function Qd(t,i,o){var u=ml;if(u&&typeof i=="string"&&i){var f=Xt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Xd.has(f)||(Xd.add(f),t={rel:t,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Et(i,"link",t),Ze(i),u.head.appendChild(i)))}}function ry(t){Un.D(t),Qd("dns-prefetch",t,null)}function uy(t,i){Un.C(t,i),Qd("preconnect",t,i)}function cy(t,i,o){Un.L(t,i,o);var u=ml;if(u&&t&&i){var f='link[rel="preload"][as="'+Xt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Xt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Xt(o.imageSizes)+'"]')):f+='[href="'+Xt(t)+'"]';var p=f;switch(i){case"style":p=hl(t);break;case"script":p=pl(t)}nn.has(p)||(t=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:t,as:i},o),nn.set(p,t),u.querySelector(f)!==null||i==="style"&&u.querySelector(go(p))||i==="script"&&u.querySelector(yo(p))||(i=u.createElement("link"),Et(i,"link",t),Ze(i),u.head.appendChild(i)))}}function fy(t,i){Un.m(t,i);var o=ml;if(o&&t){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Xt(u)+'"][href="'+Xt(t)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=pl(t)}if(!nn.has(p)&&(t=v({rel:"modulepreload",href:t},i),nn.set(p,t),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yo(p)))return}u=o.createElement("link"),Et(u,"link",t),Ze(u),o.head.appendChild(u)}}}function dy(t,i,o){Un.S(t,i,o);var u=ml;if(u&&t){var f=Lt(u).hoistableStyles,p=hl(t);i=i||"default";var C=f.get(p);if(!C){var _={loading:0,preload:null};if(C=u.querySelector(go(p)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},o),(o=nn.get(p))&&Qr(t,o);var A=C=u.createElement("link");Ze(A),Et(A,"link",t),A._p=new Promise(function(V,F){A.onload=V,A.onerror=F}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,wa(C,i,u)}C={type:"stylesheet",instance:C,count:1,state:_},f.set(p,C)}}}function my(t,i){Un.X(t,i);var o=ml;if(o&&t){var u=Lt(o).hoistableScripts,f=pl(t),p=u.get(f);p||(p=o.querySelector(yo(f)),p||(t=v({src:t,async:!0},i),(i=nn.get(f))&&Zr(t,i),p=o.createElement("script"),Ze(p),Et(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function hy(t,i){Un.M(t,i);var o=ml;if(o&&t){var u=Lt(o).hoistableScripts,f=pl(t),p=u.get(f);p||(p=o.querySelector(yo(f)),p||(t=v({src:t,async:!0,type:"module"},i),(i=nn.get(f))&&Zr(t,i),p=o.createElement("script"),Ze(p),Et(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Zd(t,i,o,u){var f=(f=ye.current)?Da(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=hl(o.href),o=Lt(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=hl(o.href);var p=Lt(f).hoistableStyles,C=p.get(t);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,C),(p=f.querySelector(go(t)))&&!p._p&&(C.instance=p,C.state.loading=5),nn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},nn.set(t,o),p||py(f,t,o,C.state))),i&&u===null)throw Error(a(528,""));return C}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=pl(o),o=Lt(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function hl(t){return'href="'+Xt(t)+'"'}function go(t){return'link[rel="stylesheet"]['+t+"]"}function Wd(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function py(t,i,o,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Et(i,"link",o),Ze(i),t.head.appendChild(i))}function pl(t){return'[src="'+Xt(t)+'"]'}function yo(t){return"script[async]"+t}function jd(t,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+Xt(o.href)+'"]');if(u)return i.instance=u,Ze(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ze(u),Et(u,"style",f),wa(u,o.precedence,t),i.instance=u;case"stylesheet":f=hl(o.href);var p=t.querySelector(go(f));if(p)return i.state.loading|=4,i.instance=p,Ze(p),p;u=Wd(o),(f=nn.get(f))&&Qr(u,f),p=(t.ownerDocument||t).createElement("link"),Ze(p);var C=p;return C._p=new Promise(function(_,A){C.onload=_,C.onerror=A}),Et(p,"link",u),i.state.loading|=4,wa(p,o.precedence,t),i.instance=p;case"script":return p=pl(o.src),(f=t.querySelector(yo(p)))?(i.instance=f,Ze(f),f):(u=o,(f=nn.get(p))&&(u=v({},o),Zr(u,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ze(f),Et(f,"link",u),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,wa(u,o.precedence,t));return i.instance}function wa(t,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,C=0;C<u.length;C++){var _=u[C];if(_.dataset.precedence===i)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(t,i.firstChild))}function Qr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ia=null;function em(t,i,o){if(Ia===null){var u=new Map,f=Ia=new Map;f.set(o,u)}else f=Ia,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),f=0;f<o.length;f++){var p=o[f];if(!(p[Qe]||p[Y]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var C=p.getAttribute(i)||"";C=t+C;var _=u.get(C);_?_.push(p):u.set(C,[p])}}return u}function tm(t,i,o){t=t.ownerDocument||t,t.head.insertBefore(o,i==="title"?t.querySelector("head > title"):null)}function gy(t,i,o){if(o===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function nm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var vo=null;function yy(){}function vy(t,i,o){if(vo===null)throw Error(a(475));var u=vo;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=hl(o.href),p=t.querySelector(go(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Ua.bind(u),t.then(u,u)),i.state.loading|=4,i.instance=p,Ze(p);return}p=t.ownerDocument||t,o=Wd(o),(f=nn.get(f))&&Qr(o,f),p=p.createElement("link"),Ze(p);var C=p;C._p=new Promise(function(_,A){C.onload=_,C.onerror=A}),Et(p,"link",o),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Ua.bind(u),t.addEventListener("load",i),t.addEventListener("error",i))}}function Ty(){if(vo===null)throw Error(a(475));var t=vo;return t.stylesheets&&t.count===0&&Wr(t,t.stylesheets),0<t.count?function(i){var o=setTimeout(function(){if(t.stylesheets&&Wr(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Ua(){if(this.count--,this.count===0){if(this.stylesheets)Wr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Va=null;function Wr(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Va=new Map,i.forEach(Cy,t),Va=null,Ua.call(t))}function Cy(t,i){if(!(i.state.loading&4)){var o=Va.get(t);if(o)var u=o.get(null);else{o=new Map,Va.set(t,o);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var C=f[p];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),u=C)}u&&o.set(null,u)}f=i.instance,C=f.getAttribute("data-precedence"),p=o.get(C)||u,p===u&&o.set(null,f),o.set(C,f),this.count++,u=Ua.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var To={$$typeof:z,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Sy(t,i,o,u,f,p,C,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function im(t,i,o,u,f,p,C,_,A,V,F,O){return t=new Sy(t,i,o,C,_,A,V,O),i=1,p===!0&&(i|=24),p=Bt(3,null,null,i),t.current=p,p.stateNode=t,i=Us(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},ks(p),t}function lm(t){return t?(t=Ji,t):Ji}function om(t,i,o,u,f,p){f=lm(f),u.context===null?u.context=f:u.pendingContext=f,u=zn(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Fn(t,u,i),o!==null&&(Ht(o,t,i),$l(o,t,i))}function am(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<i?o:i}}function jr(t,i){am(t,i),(t=t.alternate)&&am(t,i)}function sm(t){if(t.tag===13){var i=Yi(t,67108864);i!==null&&Ht(i,t,67108864),jr(t,67108864)}}var qa=!0;function xy(t,i,o,u){var f=I.T;I.T=null;var p=X.p;try{X.p=2,eu(t,i,o,u)}finally{X.p=p,I.T=f}}function _y(t,i,o,u){var f=I.T;I.T=null;var p=X.p;try{X.p=8,eu(t,i,o,u)}finally{X.p=p,I.T=f}}function eu(t,i,o,u){if(qa){var f=tu(u);if(f===null)zr(t,i,u,La,o),um(t,u);else if(Ay(f,t,i,o,u))u.stopPropagation();else if(um(t,u),i&4&&-1<Ey.indexOf(t)){for(;f!==null;){var p=Je(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var C=ge(p.pendingLanes);if(C!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;C;){var A=1<<31-mt(C);_.entanglements[1]|=A,C&=~A}gn(p),(ke&6)===0&&(Ta=Ct()+500,fo(0))}}break;case 13:_=Yi(p,2),_!==null&&Ht(_,p,2),Sa(),jr(p,2)}if(p=tu(u),p===null&&zr(t,i,u,La,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else zr(t,i,u,null,o)}}function tu(t){return t=as(t),nu(t)}var La=null;function nu(t){if(La=null,t=gt(t),t!==null){var i=d(t);if(i===null)t=null;else{var o=i.tag;if(o===13){if(t=m(i),t!==null)return t;t=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return La=t,null}function rm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fn()){case Di:return 2;case ai:return 8;case Le:case Ln:return 32;case wi:return 268435456;default:return 32}default:return 32}}var iu=!1,ti=null,ni=null,ii=null,Co=new Map,So=new Map,li=[],Ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function um(t,i){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Co.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(i.pointerId)}}function xo(t,i,o,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=Je(i),i!==null&&sm(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Ay(t,i,o,u,f){switch(i){case"focusin":return ti=xo(ti,t,i,o,u,f),!0;case"dragenter":return ni=xo(ni,t,i,o,u,f),!0;case"mouseover":return ii=xo(ii,t,i,o,u,f),!0;case"pointerover":var p=f.pointerId;return Co.set(p,xo(Co.get(p)||null,t,i,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,So.set(p,xo(So.get(p)||null,t,i,o,u,f)),!0}return!1}function cm(t){var i=gt(t.target);if(i!==null){var o=d(i);if(o!==null){if(i=o.tag,i===13){if(i=m(o),i!==null){t.blockedOn=i,Do(t.priority,function(){if(o.tag===13){var u=Ft();u=Nl(u);var f=Yi(o,u);f!==null&&Ht(f,o,u),jr(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ka(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var o=tu(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);os=u,o.target.dispatchEvent(u),os=null}else return i=Je(o),i!==null&&sm(i),t.blockedOn=o,!1;i.shift()}return!0}function fm(t,i,o){ka(t)&&o.delete(i)}function My(){iu=!1,ti!==null&&ka(ti)&&(ti=null),ni!==null&&ka(ni)&&(ni=null),ii!==null&&ka(ii)&&(ii=null),Co.forEach(fm),So.forEach(fm)}function Ba(t,i){t.blockedOn===i&&(t.blockedOn=null,iu||(iu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,My)))}var Pa=null;function dm(t){Pa!==t&&(Pa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pa===t&&(Pa=null);for(var i=0;i<t.length;i+=3){var o=t[i],u=t[i+1],f=t[i+2];if(typeof u!="function"){if(nu(u||o)===null)continue;break}var p=Je(o);p!==null&&(t.splice(i,3),i-=3,nr(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function _o(t){function i(A){return Ba(A,t)}ti!==null&&Ba(ti,t),ni!==null&&Ba(ni,t),ii!==null&&Ba(ii,t),Co.forEach(i),So.forEach(i);for(var o=0;o<li.length;o++){var u=li[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<li.length&&(o=li[0],o.blockedOn===null);)cm(o),o.blockedOn===null&&li.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],C=f[ne]||null;if(typeof p=="function")C||dm(o);else if(C){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,C=p[ne]||null)_=C.formAction;else if(nu(f)!==null)continue}else _=C.action;typeof _=="function"?o[u+1]=_:(o.splice(u,3),u-=3),dm(o)}}}function lu(t){this._internalRoot=t}Ga.prototype.render=lu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var o=i.current,u=Ft();om(o,u,t,i,null,null)},Ga.prototype.unmount=lu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;om(t.current,2,null,t,null,null),Sa(),i[Z]=null}};function Ga(t){this._internalRoot=t}Ga.prototype.unstable_scheduleHydration=function(t){if(t){var i=Vi();t={blockedOn:null,target:t,priority:i};for(var o=0;o<li.length&&i!==0&&i<li[o].priority;o++);li.splice(o,0,t),o===0&&cm(t)}};var mm=e.version;if(mm!=="19.1.0")throw Error(a(527,mm,"19.1.0"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Ry={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Yt=za.inject(Ry),dt=za}catch{}}return Ao.createRoot=function(t,i){if(!c(t))throw Error(a(299));var o=!1,u="",f=Nf,p=Df,C=wf,_=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(_=i.unstable_transitionCallbacks)),i=im(t,1,!1,null,null,o,u,f,p,C,_,null),t[Z]=i.current,Gr(t),new lu(i)},Ao.hydrateRoot=function(t,i,o){if(!c(t))throw Error(a(299));var u=!1,f="",p=Nf,C=Df,_=wf,A=null,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(A=o.unstable_transitionCallbacks),o.formState!==void 0&&(V=o.formState)),i=im(t,1,!0,i,o??null,u,f,p,C,_,A,V),i.context=lm(null),o=i.current,u=Ft(),u=Nl(u),f=zn(u),f.callback=null,Fn(o,f,u),o=u,i.current.lanes=o,kn(i,o),gn(i),t[Z]=i.current,Gr(t),new Ga(i)},Ao.version="19.1.0",Ao}var _m;function ky(){if(_m)return su.exports;_m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),su.exports=Ly(),su.exports}var By=ky();const Py=Fh(By),yl={euclid_I_47:{key:"euclid_I_47",name:"Euclid, Book I, Prop 47",colorPalette:{primary:"#FFD700",secondary:"#3B82F6",tertiary:"#E23636",accent:"#1F2937",background:"rgba(226, 54, 54, 0.05)"}},euclid_I_1:{key:"euclid_I_1",name:"Euclid, Book I, Prop 1",colorPalette:{primary:"#FFD700",secondary:"#E23636",tertiary:"#3B82F6",accent:"#1F2937",background:"rgba(255, 215, 0, 0.05)"}},euclid_II_5:{key:"euclid_II_5",name:"Euclid, Book II, Prop 5",colorPalette:{primary:"#3B82F6",secondary:"#FFD700",tertiary:"#E23636",accent:"#1F2937",background:"rgba(59, 130, 246, 0.05)"}},fibonacci_spiral:{key:"fibonacci_spiral",name:"Fibonacci Spiral",colorPalette:{primary:"#E23636",secondary:"#FFD700",tertiary:"#3B82F6",accent:"#1F2937",background:"rgba(255, 215, 0, 0.05)"}},fibonacci_circles:{key:"fibonacci_circles",name:"Fibonacci Circles",colorPalette:{primary:"#10B981",secondary:"#EC4899",tertiary:"#8B5CF6",accent:"#1F2937",background:"rgba(16, 185, 129, 0.05)"}},golden_ratio_from_square:{key:"golden_ratio_from_square",name:"Golden Ratio (from Square)",colorPalette:{primary:"#FFD700",secondary:"#3B82F6",tertiary:"#E23636",accent:"#1F2937",background:"rgba(251, 191, 36, 0.05)"}},circle_ratios:{key:"circle_ratios",name:"Circle Ratios",colorPalette:{primary:"#E23636",secondary:"#3B82F6",tertiary:"#FFD700",accent:"#1F2937",background:"rgba(255, 215, 0, 0.05)"}},thales_theorem:{key:"thales_theorem",name:"Thales's Theorem",colorPalette:{primary:"#3B82F6",secondary:"#E23636",tertiary:"#FFD700",accent:"#1F2937",background:"rgba(59, 130, 246, 0.05)"}},euclid_I_5:{key:"euclid_I_5",name:"Euclid, Book I, Prop 5",colorPalette:{primary:"#3B82F6",secondary:"#E23636",tertiary:"#FFD700",accent:"#1F2937",background:"rgba(226, 54, 54, 0.05)"}},silver_ratio:{key:"silver_ratio",name:"Silver Ratio ()",colorPalette:{primary:"#C0C0C0",secondary:"#6EE7B7",tertiary:"#7DD3FC",accent:"#1F2937",background:"rgba(192, 192, 192, 0.05)"}},eye_of_horus:{key:"eye_of_horus",name:"Eye of Horus Fractions",colorPalette:{primary:"#FFD700",secondary:"#3B82F6",tertiary:"#E23636",accent:"#1F2937",background:"rgba(59, 130, 246, 0.05)"}},flower_of_life:{key:"flower_of_life",name:"Flower of Life",colorPalette:{primary:"#DB2777",secondary:"#9333EA",tertiary:"#2563EB",accent:"#1F2937",background:"rgba(147, 51, 234, 0.05)"}},lituus_spiral:{key:"lituus_spiral",name:"Lituus Spiral",colorPalette:{primary:"#10B981",secondary:"#3B82F6",tertiary:"#EC4899",accent:"#1F2937",background:"rgba(16, 185, 129, 0.05)"}}},Gy=new(window.AudioContext||window.webkitAudioContext),zy=({title:n,description:e,onClose:l})=>S.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",onClick:l,children:S.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-2xl max-w-lg w-full p-6",onClick:a=>a.stopPropagation(),children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"text-xl font-bold text-accent-primary",children:n}),S.jsx("button",{onClick:l,className:"text-text-secondary hover:text-text-primary",children:""})]}),S.jsx("p",{className:"text-text-primary whitespace-pre-wrap",children:e})]})}),qt=({label:n,value:e,min:l,max:a,step:c=1,onChange:d,onMouseDown:m,onMouseUp:h})=>S.jsxs("div",{className:"flex flex-col space-y-2",children:[S.jsxs("label",{className:"text-sm font-medium text-text-secondary flex justify-between",children:[S.jsx("span",{children:n}),S.jsx("span",{className:"font-bold text-text-primary",children:typeof e=="number"?e.toFixed(2):e})]}),S.jsx("input",{type:"range",min:l,max:a,step:c,value:e,onChange:y=>d(Number(y.target.value)),onMouseDown:m,onMouseUp:h,onTouchStart:m,onTouchEnd:h,className:"w-full h-2 bg-bg-tertiary rounded-lg appearance-none cursor-pointer range-slider",style:{accentColor:"var(--accent-primary)"}})]}),ct=({label:n,value:e,onChange:l,options:a})=>S.jsxs("div",{className:"flex flex-col space-y-1",children:[n&&S.jsx("label",{className:"text-sm font-medium text-text-secondary",children:n}),S.jsxs("div",{className:"relative",children:[S.jsx("select",{value:e,onChange:c=>l(c.target.value),className:"w-full appearance-none bg-bg-primary border border-border-primary text-text-primary py-2 px-3 pr-8 rounded-md leading-tight focus:outline-none focus:border-accent-primary text-sm",children:a.map(c=>S.jsx("option",{value:c.value,children:c.label},c.value))}),S.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-text-secondary",children:S.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:S.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),fu=({label:n,checked:e,onChange:l})=>S.jsxs("div",{className:"flex justify-between items-center bg-bg-secondary p-3 rounded-lg",children:[S.jsx("label",{htmlFor:`${n}-toggle`,className:"text-sm font-semibold text-text-primary",children:n}),S.jsx("button",{id:`${n}-toggle`,onClick:()=>l(!e),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${e?"bg-accent-primary":"bg-bg-tertiary"}`,children:S.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${e?"translate-x-6":"translate-x-1"}`})})]}),Fy=({label:n,isChecked:e,onCheckChange:l,assignedSource:a,onSourceChange:c,assignedBlend:d,onBlendChange:m,assignedFx:h,onFxChange:y,samples:g,waveform:v,params:T,onParamChange:x})=>{const[E,R]=le.useState(!1),N=[{value:"oscillator",label:"Oscillator"},{value:"white_noise",label:"White Noise"},{value:"pink_noise",label:"Pink Noise"},{value:"brown_noise",label:"Brown Noise"},{value:"rhythmic_pulse",label:"Rhythmic Pulse"}];g.length>0&&N.push({value:"granular",label:"Granular"}),N.push(...g.map(J=>({value:J.id,label:J.name})));const D=[{value:"100",label:"100%"},{value:"75",label:"75%"},{value:"50",label:"50%"},{value:"25",label:"25%"},{value:"dynamic",label:"Dynamic"}],B=v==="fm"&&a==="oscillator",L=a==="granular",z=h==="delay",$=h==="reverb",G=h==="distortion",Q=B||L||z||$||G,ee=T.fm||{harmonicity:1.5,modIndex:5},de=T.granular||{grainRate:30,grainDuration:.08,jitter:.5},ie=T.delay||{time:.3,feedback:.5},ue=T.reverb||{mix:.5},ce=T.distortion||{amount:.5};return S.jsxs("div",{className:"bg-bg-primary/50 rounded-md p-2 space-y-2",children:[S.jsxs("div",{className:"grid grid-cols-6 items-center gap-2",children:[S.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[S.jsx("input",{type:"checkbox",checked:e,onChange:J=>l(J.target.checked),className:"form-checkbox h-5 w-5 rounded bg-bg-tertiary border-border-primary focus:ring-accent-primary",style:{color:"var(--accent-primary)"}}),S.jsx("span",{className:"text-text-primary text-sm font-semibold flex-grow",children:n})]}),S.jsx("div",{className:"w-full col-span-2",children:S.jsx(ct,{value:a||"oscillator",onChange:c,options:N})}),S.jsx("div",{className:"w-full col-span-1",children:S.jsx(ct,{value:d||"100",onChange:m,options:D})}),S.jsx("div",{className:"w-full col-span-1",children:S.jsx(ct,{value:h||"none",onChange:y,options:[{value:"none",label:"FX"},{value:"distortion",label:"Distort"},{value:"delay",label:"Delay"},{value:"reverb",label:"Reverb"}]})})]}),Q&&S.jsx("div",{className:"text-right",children:S.jsxs("button",{onClick:()=>R(!E),className:"text-xs text-accent-primary hover:underline",children:[E?"Hide":"Show"," Advanced"]})}),E&&e&&S.jsxs("div",{className:"bg-bg-primary p-3 rounded-md mt-2 space-y-3",children:[B&&S.jsxs(S.Fragment,{children:[S.jsx("h5",{className:"text-sm font-bold text-text-secondary",children:"FM Settings"}),S.jsx(qt,{label:"Harmonicity",value:ee.harmonicity,min:.1,max:8,step:.05,onChange:J=>x("fm",{...ee,harmonicity:J})}),S.jsx(qt,{label:"Mod Index",value:ee.modIndex,min:0,max:20,step:.1,onChange:J=>x("fm",{...ee,modIndex:J})})]}),L&&S.jsxs(S.Fragment,{children:[S.jsx("h5",{className:"text-sm font-bold text-text-secondary",children:"Granular Settings"}),S.jsx(qt,{label:"Grain Rate (hz)",value:de.grainRate,min:5,max:100,step:1,onChange:J=>x("granular",{...de,grainRate:J})}),S.jsx(qt,{label:"Grain Duration (s)",value:de.grainDuration,min:.01,max:.2,step:.005,onChange:J=>x("granular",{...de,grainDuration:J})}),S.jsx(qt,{label:"Jitter",value:de.jitter,min:0,max:1,step:.01,onChange:J=>x("granular",{...de,jitter:J})})]}),z&&S.jsxs(S.Fragment,{children:[S.jsx("h5",{className:"text-sm font-bold text-text-secondary",children:"Delay Settings"}),S.jsx(qt,{label:"Time (s)",value:ie.time,min:.01,max:1,step:.01,onChange:J=>x("delay",{...ie,time:J})}),S.jsx(qt,{label:"Feedback",value:ie.feedback,min:0,max:.95,step:.01,onChange:J=>x("delay",{...ie,feedback:J})})]}),$&&S.jsxs(S.Fragment,{children:[S.jsx("h5",{className:"text-sm font-bold text-text-secondary",children:"Reverb Settings"}),S.jsx(qt,{label:"Mix",value:ue.mix,min:0,max:1,step:.01,onChange:J=>x("reverb",{...ue,mix:J})})]}),G&&S.jsxs(S.Fragment,{children:[S.jsx("h5",{className:"text-sm font-bold text-text-secondary",children:"Distortion Settings"}),S.jsx(qt,{label:"Amount",value:ce.amount,min:0,max:1,step:.01,onChange:J=>x("distortion",{...ce,amount:J})})]})]})]})},Hy=({samples:n,onSamplesChange:e})=>{const[l,a]=le.useState(!1),[c,d]=le.useState(null),m=le.useCallback(async h=>{var g;const y=(g=h.target.files)==null?void 0:g[0];if(y){a(!0),d(null);try{const v=await y.arrayBuffer(),T=await Gy.decodeAudioData(v),x={id:crypto.randomUUID(),name:y.name.replace(/\.[^/.]+$/,"").slice(0,20),buffer:T};e([...n,x])}catch(v){console.error("Error loading sample:",v),d("Failed to load audio file. Please use a valid format (e.g., wav, mp3).")}finally{a(!1),h.target.value=""}}},[n,e]);return S.jsxs("div",{className:"space-y-3",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary",children:"Custom Samples"}),S.jsx("div",{children:S.jsxs("label",{className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-bg-secondary bg-accent-primary hover:bg-accent-primary/90 text-white disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:[l?"Loading...":"Upload Audio Sample",S.jsx("input",{type:"file",className:"hidden",accept:"audio/*",onChange:m,disabled:l})]})}),c&&S.jsx("p",{className:"text-sm text-accent-secondary",children:c}),S.jsxs("div",{className:"space-y-2",children:[n.map(h=>S.jsx("div",{className:"text-xs bg-bg-primary p-2 rounded text-text-secondary",children:h.name},h.id)),n.length===0&&S.jsx("p",{className:"text-xs text-text-secondary text-center py-2",children:"No custom samples loaded."})]})]})},Oy=n=>{const{isMobileView:e,visualizerComponent:l,sonificationEngine:a,onThemeChange:c,activePresetKey:d,onPresetChange:m,sonificationRules:h,onSonificationRulesChange:y,sonificationSelection:g,onSonificationSelectionChange:v,showLabels:T,onShowLabelsChange:x,isMuted:E,onIsMutedChange:R,samples:N,onSamplesChange:D,sourceAssignments:B,onSourceAssignmentChange:L,blendAssignments:z,onBlendAssignmentChange:$,fxAssignments:G,onFxAssignmentChange:Q,sourceParameters:ee,onSourceParameterChange:de,description:ie,playbackMode:ue,onPlaybackModeChange:ce,fadeoutTime:J,onFadeoutTimeChange:_e,aiStyle:xe,onAiStyleChange:W,aiNotes:I,onAiNotesChange:X,isGenerating:oe,generationError:fe,generatedExplanation:M,onGenerate:P,onExport:j,onImport:te,interactionMode:pe,onInteractionModeChange:Ne,isFullScreen:ye,onToggleFullScreen:ft,rhythmSettings:Ce,onRhythmSettingsChange:at,rhythmSourceMapping:bt,onRhythmSourceMappingChange:un,sonifiableValues:Ot}=n,yn=yl[d],[st,qn]=le.useState("geometry"),[cn,Ct]=le.useState(!1),fn=le.useRef(null);le.useEffect(()=>{M&&st!=="distiller"&&qn("distiller")},[M,st]);const Di=le.useCallback(()=>{ue==="interactive"&&!Ce.isEnabled&&a.start()},[ue,a,Ce.isEnabled]),ai=le.useCallback(()=>{ue==="interactive"&&!Ce.isEnabled&&a.stop()},[ue,a,Ce.isEnabled]),Le=K=>S.jsx(qt,{...K,onMouseDown:Di,onMouseUp:ai}),Ln=(K,Ge,ge)=>{const we={...bt};we[K]||(we[K]={}),we[K][Ge]=ge,un(we)},wi=()=>{const K=({valueKey:Ge,label:ge})=>S.jsx(Fy,{label:ge,isChecked:!!g[Ge],assignedSource:B[Ge],assignedBlend:z[Ge],assignedFx:G[Ge],onCheckChange:we=>v(Ge,we),onSourceChange:we=>L(Ge,we),onBlendChange:we=>$(Ge,we),onFxChange:we=>Q(Ge,we),params:ee[Ge]||{},onParamChange:(we,Xe)=>de(Ge,we,Xe),samples:N,waveform:h.waveform});switch(d){case"euclid_I_47":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Side A",value:n.euclidI47Data.a,min:10,max:150,onChange:ge=>n.onEuclidI47Change({...n.euclidI47Data,a:ge})}),S.jsx(Le,{label:"Side B",value:n.euclidI47Data.b,min:10,max:150,onChange:ge=>n.onEuclidI47Change({...n.euclidI47Data,b:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Side A",valueKey:"a"}),S.jsx(K,{label:"Side B",valueKey:"b"}),S.jsx(K,{label:"Hypotenuse C",valueKey:"c"})]})]});case"euclid_I_1":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Line Length",value:n.euclidI1Data.size,min:50,max:250,onChange:ge=>n.onEuclidI1Change({size:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Side Length",valueKey:"side"}),S.jsx(K,{label:"Height",valueKey:"height"})]})]});case"euclid_II_5":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Line AB Length",value:n.euclidII5Data.ab,min:50,max:250,onChange:ge=>n.onEuclidII5Change({...n.euclidII5Data,ab:ge})}),S.jsx(Le,{label:"Point C Position",value:n.euclidII5Data.c,min:1,max:n.euclidII5Data.ab-1,onChange:ge=>n.onEuclidII5Change({...n.euclidII5Data,c:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify Areas:"}),S.jsx(K,{label:"Gnomon (g)",valueKey:"g"}),S.jsx(K,{label:"Inner Square (h)",valueKey:"h"}),S.jsx(K,{label:"Rectangle (a)",valueKey:"a"})]})]});case"circle_ratios":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Radius",value:n.circleData.radius,min:10,max:150,onChange:ge=>n.onCircleChange({radius:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Radius",valueKey:"radius"}),S.jsx(K,{label:"Circumference",valueKey:"circumference"}),S.jsx(K,{label:"Area",valueKey:"area"})]})]});case"euclid_I_5":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Side Length",value:n.euclidIData.ab,min:50,max:200,onChange:ge=>n.onEuclidIChange({ab:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Equal Sides",valueKey:"side"}),S.jsx(K,{label:"Base",valueKey:"base"})]})]});case"thales_theorem":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Angle",value:n.thalesData.angle,min:5,max:175,onChange:ge=>n.onThalesChange({angle:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Side A",valueKey:"a"}),S.jsx(K,{label:"Side B",valueKey:"b"}),S.jsx(K,{label:"Diameter",valueKey:"diameter"})]})]});case"fibonacci_spiral":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Count",value:n.fibonacciData.count,min:1,max:11,onChange:ge=>n.onFibonacciChange({...n.fibonacciData,count:ge})}),S.jsx(Le,{label:"Base Size",value:n.fibonacciData.size,min:1,max:20,onChange:ge=>n.onFibonacciChange({...n.fibonacciData,size:ge})}),S.jsxs("div",{className:"pt-2 space-y-2 overflow-y-auto max-h-48 pr-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Total Length",valueKey:"length"}),Array.from({length:11},(ge,we)=>S.jsx(K,{label:`Step ${we+1}`,valueKey:`step${we+1}`},we))]})]});case"fibonacci_circles":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Count",value:n.fibonacciCirclesData.count,min:1,max:11,onChange:ge=>n.onFibonacciCirclesChange({count:ge})}),S.jsxs("div",{className:"pt-4 space-y-2 overflow-y-auto max-h-48 pr-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify Radii:"}),Array.from({length:11},(ge,we)=>S.jsx(K,{label:`Radius ${we+1}`,valueKey:`radius${we+1}`},we))]})]});case"golden_ratio_from_square":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Square Size",value:n.goldenRatioSquareData.size,min:20,max:150,onChange:ge=>n.onGoldenRatioSquareChange({size:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Square Side (a)",valueKey:"size"}),S.jsx(K,{label:"Segment (b)",valueKey:"segment_b"}),S.jsx(K,{label:"Total (a+b)",valueKey:"total"})]})]});case"silver_ratio":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Base Size",value:n.silverRatioData.size,min:20,max:120,onChange:ge=>n.onSilverRatioChange({size:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Side a",valueKey:"a"}),S.jsx(K,{label:"Side b",valueKey:"b"}),S.jsx(K,{label:"Total",valueKey:"total"})]})]});case"flower_of_life":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Steps",value:n.flowerOfLifeData.steps,min:1,max:7,onChange:ge=>n.onFlowerOfLifeChange({steps:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Circle Count",valueKey:"circles"}),S.jsx(K,{label:"Vesica Piscis",valueKey:"vesicaPiscis"})]})]});case"eye_of_horus":const Ge=["1/2","1/4","1/8","1/16","1/32","1/64"];return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:`Fraction: ${Ge[n.eyeOfHorusData.fraction]}`,value:n.eyeOfHorusData.fraction,min:0,max:5,onChange:ge=>n.onEyeOfHorusChange({fraction:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Selected Fraction",valueKey:"fraction"})]})]});case"lituus_spiral":return S.jsxs("div",{className:"space-y-4",children:[S.jsx(Le,{label:"Constant 'a'",value:n.lituusSpiralData.a,min:20,max:150,onChange:ge=>n.onLituusSpiralChange({...n.lituusSpiralData,a:ge})}),S.jsx(Le,{label:"Rotations",value:n.lituusSpiralData.rotations,min:1,max:10,onChange:ge=>n.onLituusSpiralChange({...n.lituusSpiralData,rotations:ge})}),S.jsxs("div",{className:"pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary mb-2",children:"Sonify:"}),S.jsx(K,{label:"Radius",valueKey:"radius"}),S.jsx(K,{label:"Angle",valueKey:"angle"})]})]});default:return S.jsx("div",{className:"text-text-secondary",children:"Controls not available."})}},vn=({label:K,icon:Ge,target:ge})=>S.jsxs("button",{onClick:()=>qn(ge),className:`flex-1 py-2 px-3 text-sm font-semibold rounded-md transition-colors flex items-center justify-center gap-x-2 ${st===ge?"bg-accent-primary text-white":"bg-bg-tertiary/50 text-text-primary hover:bg-bg-primary"}`,children:[Ge,K&&S.jsx("span",{className:"hidden sm:inline",children:K})]}),Al=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.532 1.532 0 012.287-.947c1.372.836 2.942-.734-2.106-2.106a1.532 1.532 0 01-.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),Yt=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),dt=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),Jt=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1v4m0 0h-4m4 0l-5-5M4 16v4m0 0h4m-4 0l5-5m11 1v-4m0 0h-4m4 0l-5 5"})}),mt=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 4H8a2 2 0 00-2 2v2m4-4h4m-4 0l-5 5m11-1v4m0 0h-4m4 0l-5-5M4 16v4m0 0h4m-4 0l5-5m11 1v-4m0 0h-4m4 0l-5 5"})}),Ml=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V3z"})}),si=()=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[S.jsx("path",{d:"M5.5 16.5A1.5 1.5 0 014 15V5a1.5 1.5 0 011.5-1.5h1.75a.75.75 0 010 1.5H5.5a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V8.75a.75.75 0 011.5 0V15a1.5 1.5 0 01-1.5 1.5h-10z"}),S.jsx("path",{d:"M16 3.5a1.5 1.5 0 01-1.5 1.5h-1a.75.75 0 010-1.5h1A1.5 1.5 0 0116 3.5zM12.5 5a.75.75 0 010-1.5h3a.75.75 0 010 1.5h-3zM9 11.5a.75.75 0 01-.53-1.28l5-5a.75.75 0 011.06 1.06l-5 5A.75.75 0 019 11.5z"})]}),ri=()=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a1 1 0 011-1h14a1 1 0 110 2H3a1 1 0 01-1-1z"})});return S.jsxs("div",{className:"p-4 lg:p-6 h-full flex flex-col",children:[cn&&S.jsx(zy,{title:yn.name,description:ie,onClose:()=>Ct(!1)}),S.jsxs("header",{className:"flex-shrink-0 space-y-4",children:[S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl lg:text-3xl font-bold tracking-tight text-text-primary",children:"Euclid Sonifier"}),S.jsx("p",{className:"text-text-secondary",children:"Exploring math through sound"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("label",{htmlFor:"preset-select",className:"text-sm font-medium text-text-secondary",children:"Preset"}),S.jsx("button",{onClick:()=>Ct(!0),className:"text-text-secondary hover:text-accent-primary",title:"About this preset",children:S.jsx(dt,{})})]}),S.jsx(ct,{value:d,onChange:m,options:Object.keys(yl).map(K=>({value:K,label:yl[K].name}))})]}),S.jsxs("div",{className:"bg-bg-secondary rounded-lg p-1 flex space-x-1 border border-border-primary",children:[S.jsx(vn,{label:"Geometry",target:"geometry",icon:S.jsx(si,{})}),S.jsx(vn,{label:"Synthesis",target:"synthesis",icon:S.jsx(ri,{})}),S.jsx(vn,{target:"rhythm",icon:S.jsx(Ml,{})}),S.jsx(vn,{target:"distiller",icon:S.jsx(Yt,{})}),S.jsx(vn,{target:"settings",icon:S.jsx(Al,{})})]})]}),e&&S.jsx("div",{className:"flex-shrink-0 h-1/2 lg:h-auto my-4 border-y border-border-primary bg-bg-secondary",children:l}),S.jsx("div",{className:"flex-grow overflow-y-auto mt-4 pr-2 -mr-4",children:S.jsxs("div",{className:"space-y-6",children:[st==="geometry"&&S.jsx("div",{className:"space-y-4",children:wi()}),st==="synthesis"&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Global Synthesis"}),S.jsx(ct,{label:"Waveform",value:h.waveform,onChange:K=>y({...h,waveform:K}),options:[{value:"sine",label:"Sine"},{value:"square",label:"Square"},{value:"sawtooth",label:"Sawtooth"},{value:"triangle",label:"Triangle"},{value:"pulse",label:"Pulse"},{value:"fm",label:"FM Synthesis"}]}),S.jsx(ct,{label:"Sonification Mode",value:h.mode,onChange:K=>y({...h,mode:K}),options:[{value:"pitch",label:"Pitch / Rate"},{value:"volume",label:"Amplitude"},{value:"filter",label:"Filter Cutoff"}]}),S.jsx(Le,{label:"Base Frequency (Hz)",value:h.baseFrequency,min:55,max:880,onChange:K=>y({...h,baseFrequency:K})}),S.jsx(ct,{label:"Musical Scale",value:h.scale,onChange:K=>y({...h,scale:K}),options:[{value:"major",label:"Major"},{value:"minor_pentatonic",label:"Minor Pentatonic"},{value:"chromatic",label:"Chromatic"},{value:"dorian",label:"Dorian"},{value:"phrygian",label:"Phrygian"},{value:"lydian",label:"Lydian"},{value:"mixolydian",label:"Mixolydian"},{value:"blues",label:"Blues"}]}),S.jsx(ct,{label:"Granular Mod Target",value:h.granularModulationTarget,onChange:K=>y({...h,granularModulationTarget:K}),options:[{value:"pitch",label:"Pitch / Playback Rate"},{value:"rate",label:"Grain Rate"},{value:"duration",label:"Grain Duration"}]})]}),S.jsxs("div",{className:"space-y-4 border-t border-border-primary pt-4",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"LFO Modulation"}),S.jsx(ct,{label:"LFO Target",value:h.lfo.target,onChange:K=>y({...h,lfo:{...h.lfo,target:K}}),options:[{value:"none",label:"None"},{value:"pitch",label:"Pitch (Vibrato)"},{value:"volume",label:"Volume (Tremolo)"},{value:"filter",label:"Filter Cutoff"}]}),S.jsx(ct,{label:"LFO Waveform",value:h.lfo.waveform,onChange:K=>y({...h,lfo:{...h.lfo,waveform:K}}),options:[{value:"sine",label:"Sine"},{value:"square",label:"Square"},{value:"sawtooth",label:"Sawtooth"},{value:"triangle",label:"Triangle"}]}),S.jsx(Le,{label:"LFO Rate (Hz)",value:h.lfo.rate,min:.1,max:20,step:.1,onChange:K=>y({...h,lfo:{...h.lfo,rate:K}})}),S.jsx(Le,{label:"LFO Depth",value:h.lfo.depth,min:0,max:1,step:.01,onChange:K=>y({...h,lfo:{...h.lfo,depth:K}})}),S.jsx(ct,{label:"Geometric Value Modulates",value:h.lfoModulationTarget,onChange:K=>y({...h,lfoModulationTarget:K}),options:[{value:"rate",label:"LFO Rate"},{value:"depth",label:"LFO Depth"}]})]}),S.jsx("div",{className:"border-t border-border-primary pt-4",children:S.jsx(Hy,{samples:N,onSamplesChange:D})})]}),st==="rhythm"&&S.jsxs("div",{className:"space-y-6",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Rhythm Engine"}),S.jsx(fu,{label:"Enable Rhythm",checked:Ce.isEnabled,onChange:K=>at({...Ce,isEnabled:K})}),S.jsx(qt,{label:`BPM: ${Ce.bpm.toFixed(0)}`,value:Ce.bpm,min:40,max:240,step:1,onChange:K=>at({...Ce,bpm:K})}),S.jsxs("div",{className:"space-y-4 border-t border-border-primary pt-4",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary",children:"Mixer"}),S.jsx(qt,{label:"Kick Vol",value:Ce.kickVolume,min:0,max:1.5,step:.05,onChange:K=>at({...Ce,kickVolume:K})}),S.jsx(qt,{label:"Snare Vol",value:Ce.snareVolume,min:0,max:1.5,step:.05,onChange:K=>at({...Ce,snareVolume:K})}),S.jsx(qt,{label:"Hat Vol",value:Ce.hatVolume,min:0,max:1.5,step:.05,onChange:K=>at({...Ce,hatVolume:K})}),S.jsx(fu,{label:"Harmonic Bass",checked:Ce.harmonicBass,onChange:K=>at({...Ce,harmonicBass:K})})]}),S.jsxs("div",{className:"space-y-4 border-t border-border-primary pt-4",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary",children:"Euclidean Patterns"}),S.jsx("p",{className:"text-xs text-text-secondary",children:"Map geometric values to control the number of pulses and total steps for each drum part."}),S.jsx("div",{className:"bg-bg-secondary p-2 rounded-lg",children:S.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center items-center",children:[S.jsx("div",{className:"text-sm font-bold text-text-secondary",children:"Drum"}),S.jsx("div",{className:"text-sm font-bold text-text-secondary",children:"Pulses"}),S.jsx("div",{className:"text-sm font-bold text-text-secondary",children:"Steps"}),S.jsx("div",{className:"text-sm font-bold text-text-secondary",children:"Offset"}),["kick","snare","hat"].map(K=>{var Ge,ge,we;return S.jsxs(Hh.Fragment,{children:[S.jsx("div",{className:"font-bold text-text-primary capitalize text-sm",children:K}),S.jsx(ct,{value:((Ge=bt[K])==null?void 0:Ge.pulses)||"none",onChange:Xe=>Ln(K,"pulses",Xe),options:[{value:"none",label:"None"},...Ot.map(Xe=>({value:Xe,label:Xe}))]}),S.jsx(ct,{value:((ge=bt[K])==null?void 0:ge.steps)||"none",onChange:Xe=>Ln(K,"steps",Xe),options:[{value:"none",label:"None"},...Ot.map(Xe=>({value:Xe,label:Xe}))]}),S.jsx(ct,{value:((we=bt[K])==null?void 0:we.offset)||"none",onChange:Xe=>Ln(K,"offset",Xe),options:[{value:"none",label:"None"},...Ot.map(Xe=>({value:Xe,label:Xe}))]})]},K)})]})})]})]}),st==="distiller"&&S.jsxs("div",{className:"space-y-5",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"AI Distiller"}),S.jsx("p",{className:"text-sm text-text-secondary",children:"Let the AI creatively interpret the current mathematical concept and generate a complete sound patch for you."}),S.jsx(ct,{label:"Creative Style",value:xe,onChange:W,options:[{value:"ambient",label:"Ambient & Atmospheric"},{value:"rhythmic",label:"Rhythmic & Pulsating"},{value:"melodic",label:"Melodic & Harmonic"},{value:"experimental",label:"Experimental & Abstract"}]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-text-secondary",children:"Creative Notes (Optional)"}),S.jsx("textarea",{value:I,onChange:K=>X(K.target.value),rows:3,placeholder:"e.g., 'make it sound like space', 'use a dark, minor key', 'focus on the rhythm'",className:"mt-1 w-full bg-bg-primary border border-border-primary text-text-primary p-2 rounded-md text-sm focus:outline-none focus:border-accent-primary"})]}),S.jsx("button",{onClick:P,disabled:oe,className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-bg-secondary bg-accent-primary hover:bg-accent-primary/90 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:oe?S.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Generate Sound Patch"}),(fe||M)&&S.jsxs("div",{className:"border-t border-border-primary pt-4 space-y-2",children:[S.jsx("h4",{className:"text-md font-semibold text-text-primary",children:"AI Rationale"}),fe&&S.jsx("p",{className:"text-sm text-accent-secondary bg-accent-secondary/10 p-3 rounded-md",children:fe}),M&&S.jsx("p",{className:"text-sm text-text-secondary bg-bg-tertiary/40 p-3 rounded-md whitespace-pre-wrap",children:M})]})]}),st==="settings"&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Engine Settings"}),S.jsx(ct,{label:"Playback Mode",value:ue,onChange:ce,options:[{value:"continuous",label:"Continuous"},{value:"fadeout",label:"Fadeout"},{value:"interactive",label:"Interactive"}]}),ue==="fadeout"&&S.jsx(Le,{label:"Fadeout Time (s)",value:J,min:1,max:10,step:.5,onChange:_e}),S.jsx(ct,{label:"Normalization Mode",value:h.normalization,onChange:K=>y({...h,normalization:K}),options:[{value:"none",label:"None"},{value:"global",label:"Global"}]}),S.jsx(Le,{label:"Max Polyphony",value:h.maxPolyphony,min:1,max:20,step:1,onChange:K=>y({...h,maxPolyphony:K})})]}),S.jsxs("div",{className:"space-y-4 border-t border-border-primary pt-4",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Interaction Settings"}),S.jsx(ct,{label:"Interaction Mode",value:pe,onChange:Ne,options:[{value:"touchpad",label:"Touchpad (Filter Control)"},{value:"direct",label:"Direct Manipulation"},{value:"freeform",label:"Freeform (Drag Anywhere)"},{value:"none",label:"None"}]})]}),S.jsxs("div",{className:"space-y-4 border-t border-border-primary pt-4",children:[S.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"Manage Preset"}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("input",{type:"file",ref:fn,className:"hidden",accept:".json",onChange:te}),S.jsx("button",{onClick:()=>{var K;return(K=fn.current)==null?void 0:K.click()},className:"flex-1 px-4 py-2 text-sm font-medium rounded-md bg-bg-tertiary hover:bg-border-primary transition-colors",children:"Import Preset"}),S.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 text-sm font-medium rounded-md bg-bg-tertiary hover:bg-border-primary transition-colors",children:"Export Preset"})]})]})]})]})}),S.jsxs("footer",{className:"flex-shrink-0 flex justify-between items-center pt-4 border-t border-border-primary",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx(fu,{label:"Show Labels",checked:T,onChange:x}),S.jsx(ct,{value:n.theme,onChange:c,options:[{value:"dark",label:"Dark"},{value:"byrne",label:"Byrne"}]})]}),S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("button",{onClick:n.onToggleFullScreen,className:"p-2 bg-bg-tertiary hover:bg-border-primary rounded-full transition-colors","aria-label":n.isFullScreen?"Exit Full Screen":"Enter Full Screen",children:n.isFullScreen?S.jsx(mt,{}):S.jsx(Jt,{})}),S.jsx("button",{onClick:()=>R(!E),className:"p-2 bg-bg-tertiary hover:bg-border-primary rounded-full transition-colors self-center","aria-label":E?"Unmute":"Mute",children:E?S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})]}):S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})})]})]})]})},Oe=n=>S.jsx("text",{...n,fontSize:"14",fontWeight:"bold",className:"transition-opacity duration-300 fill-current text-text-primary",style:{...n.style,pointerEvents:"none",userSelect:"none"}}),Dt=({cx:n,cy:e,onDrag:l,cursor:a,svgRef:c})=>{const d=m=>{if(m.preventDefault(),m.stopPropagation(),!(c!=null&&c.current))return;const h=m.target;h.setPointerCapture(m.pointerId);const y=c.current,g=T=>{var R;T.preventDefault();const x=(R=y.getScreenCTM())==null?void 0:R.inverse();if(!x)return;let E=y.createSVGPoint();E.x=T.clientX,E.y=T.clientY,E=E.matrixTransform(x),l(E.x,E.y)},v=T=>{h.releasePointerCapture(T.pointerId),document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",v),document.removeEventListener("pointercancel",v)};document.addEventListener("pointermove",g),document.addEventListener("pointerup",v),document.addEventListener("pointercancel",v)};return S.jsx("circle",{cx:n,cy:e,r:"12",fill:"var(--accent-primary)",fillOpacity:"0.4",stroke:"var(--text-primary)",strokeWidth:"1.5",cursor:a,onPointerDown:d,style:{pointerEvents:"auto",touchAction:"none"}})},Yy=({data:n,onDataChange:e,colors:l,showLabels:a,themeName:c,interactionMode:d,svgRef:m})=>{const{a:h,b:y}=n,g=Math.sqrt(h*h+y*y),v=Math.max(h,y)*2+100,T=v/2,x=v/2,E={x:T,y:x-h},R={x:T,y:x},N={x:T+y,y:x},D={x:N.x-E.x,y:N.y-E.y},B={x:-D.y,y:D.x},L={x:E.x+B.x,y:E.y+B.y},z={x:N.x+B.x,y:N.y+B.y},$=(Q,ee)=>e==null?void 0:e({a:Math.max(10,Math.min(150,x-ee))}),G=(Q,ee)=>e==null?void 0:e({b:Math.max(10,Math.min(150,Q-T))});return S.jsxs("svg",{ref:m,viewBox:`0 0 ${v} ${v}`,className:"w-full h-full",style:{pointerEvents:d==="direct"?"auto":"none"},children:[S.jsxs("g",{style:{vectorEffect:"non-scaling-stroke",strokeLinejoin:"round",pointerEvents:"none"},children:[S.jsx("rect",{x:T-h,y:x-h,width:h,height:h,fill:l.secondary,fillOpacity:.2,stroke:l.secondary,strokeWidth:"2"}),S.jsx("rect",{x:T,y:x,width:y,height:y,fill:l.primary,fillOpacity:.2,stroke:l.primary,strokeWidth:"2"}),S.jsx("polygon",{points:`${E.x},${E.y} ${N.x},${N.y} ${z.x},${z.y} ${L.x},${L.y}`,fill:l.tertiary,fillOpacity:.2,stroke:l.tertiary,strokeWidth:"2"}),S.jsx("polygon",{points:`${E.x},${E.y} ${R.x},${R.y} ${N.x},${N.y}`,fill:l.background,stroke:c==="byrne"?l.accent:"currentColor",strokeWidth:"3"}),a&&S.jsxs(S.Fragment,{children:[S.jsx(Oe,{x:T-5,y:x-h/2,textAnchor:"end",fill:l.secondary,children:h.toFixed(0)}),S.jsx(Oe,{x:T+y/2,y:x+15,textAnchor:"middle",fill:l.primary,children:y.toFixed(0)}),S.jsx("g",{transform:`translate(${(E.x+z.x)/2}, ${(E.y+z.y)/2}) rotate(${Math.atan2(D.y,D.x)*180/Math.PI}) translate(0, -10)`,children:S.jsx(Oe,{x:"0",y:"0",textAnchor:"middle",fill:l.tertiary,children:g.toFixed(0)})})]})]}),d==="direct"&&m&&S.jsxs(S.Fragment,{children:[S.jsx(Dt,{cx:E.x,cy:E.y,onDrag:$,cursor:"ns-resize",svgRef:m}),S.jsx(Dt,{cx:N.x,cy:N.y,onDrag:G,cursor:"ew-resize",svgRef:m})]})]})},Jy=({data:n,onDataChange:e,colors:l,showLabels:a,themeName:c,interactionMode:d,svgRef:m})=>{const{size:h}=n,y=Math.sqrt(3)/2*h,g=h*1.5,v=c==="byrne"?l.accent:"currentColor",T={x:g/2-h/2,y:g/2+y/3},x={x:T.x+h/2,y:T.y-y},E=(R,N)=>{const D=T.y-N,B=Math.max(50,Math.min(250,D*2/Math.sqrt(3)));e==null||e({size:B})};return S.jsxs("svg",{ref:m,viewBox:`0 0 ${g} ${g}`,className:"w-full h-full",style:{pointerEvents:d==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${T.x}, ${T.y})`,style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("line",{x1:"0",y1:"0",x2:h,y2:"0",stroke:v,strokeWidth:"3"}),S.jsx("path",{d:`M 0,0 A ${h},${h} 0 0 1 ${h/2},-${y}`,stroke:l.secondary,strokeDasharray:"4 4",strokeWidth:"1.5",fill:"none"}),S.jsx("path",{d:`M ${h},0 A ${h},${h} 0 0 0 ${h/2},-${y}`,stroke:l.tertiary,strokeDasharray:"4 4",strokeWidth:"1.5",fill:"none"}),S.jsx("polygon",{points:`0,0 ${h},0 ${h/2},-${y}`,fill:l.background,stroke:"none"}),S.jsx("line",{x1:"0",y1:"0",x2:h/2,y2:-y,stroke:l.secondary,strokeWidth:"2"}),S.jsx("line",{x1:h,y1:"0",x2:h/2,y2:-y,stroke:l.tertiary,strokeWidth:"2"}),a&&S.jsx(S.Fragment,{children:S.jsxs(Oe,{x:h/2,y:"20",textAnchor:"middle",children:["Side: ",h.toFixed(0)]})})]}),d==="direct"&&m&&S.jsx(Dt,{cx:x.x,cy:x.y,onDrag:E,cursor:"ns-resize",svgRef:m})]})},Ky=({data:n,onDataChange:e,colors:l,showLabels:a,themeName:c,interactionMode:d,svgRef:m})=>{const{ab:h,c:y}=n,g=h*1.3,v=h/2,T=Math.abs(v-y),x={x:g*.1,y:g*.4},E=(R,N)=>{const D=R-x.x,B=Math.max(1,Math.min(h-1,D));e==null||e({c:B})};return S.jsxs("svg",{ref:m,viewBox:`0 0 ${g} ${g}`,className:"w-full h-full",style:{pointerEvents:d==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${x.x}, ${x.y})`,style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("rect",{x:"0",y:"0",width:v,height:v,fill:l.primary,fillOpacity:.2,stroke:l.primary,strokeWidth:"2"}),S.jsx("rect",{x:y,y,width:T,height:T,fill:l.secondary,fillOpacity:.3,stroke:l.secondary,strokeWidth:"2"}),S.jsx("rect",{x:0,y:v+20,width:h-y,height:y,fill:l.tertiary,fillOpacity:.3,stroke:l.tertiary,strokeWidth:"2"}),a&&S.jsxs(S.Fragment,{children:[S.jsxs(Oe,{x:y/2,y:-10,textAnchor:"middle",children:["a = ",y.toFixed(0)]}),S.jsxs(Oe,{x:y+T/2,y:-10,textAnchor:"middle",children:["h = ",T.toFixed(0)]}),S.jsx(Oe,{x:v/2,y:v/2,textAnchor:"middle",fill:c==="byrne"?"white":"currentColor",children:"g"}),S.jsx(Oe,{x:y+T/2,y:y+T/2,textAnchor:"middle",fill:c==="byrne"?"black":"currentColor",children:"h"}),S.jsx(Oe,{x:(h-y)/2,y:v+20+y/2,textAnchor:"middle",fill:c==="byrne"?"white":"currentColor",children:"a"}),S.jsx(Oe,{x:h/2,y:-30,textAnchor:"middle",children:"g + h = (ab/2)"})]})]}),d==="direct"&&m&&S.jsx(Dt,{cx:x.x+y,cy:x.y,onDrag:E,cursor:"ew-resize",svgRef:m})]})},$y=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{radius:m}=n,h=2*Math.PI*m,y=Math.PI*m*m,g=m*2+40,v=Math.sqrt(y),T={x:g/2,y:g/2},x=(E,R)=>{const N=Math.max(10,Math.min(150,E-T.x));e==null||e({radius:N})};return S.jsxs("svg",{ref:d,viewBox:`0 0 ${g} ${g+v+20}`,className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${T.x}, ${T.y})`,strokeWidth:"2",style:{vectorEffect:"non-scaling-stroke"},children:[S.jsx("circle",{cx:"0",cy:"0",r:m,fill:"transparent",stroke:l.primary,strokeDasharray:"8 4",style:{pointerEvents:"none"}}),S.jsx("line",{x1:"0",y1:"0",x2:m,y2:"0",stroke:l.primary,strokeWidth:"3",style:{pointerEvents:"none"}}),a&&S.jsx(Oe,{x:m/2,y:"-8",textAnchor:"middle",children:`r = ${m.toFixed(0)}`}),c==="direct"&&d&&S.jsx(Dt,{cx:m,cy:0,onDrag:x,cursor:"ew-resize",svgRef:d})]}),S.jsxs("g",{transform:`translate(${(g-h)/2}, ${g})`,children:[S.jsx("line",{x1:"0",y1:"0",x2:h,y2:"0",stroke:l.secondary,strokeWidth:"3"}),a&&S.jsxs(Oe,{x:h/2,y:"20",textAnchor:"middle",children:["Circumference: ",h.toFixed(0)]})]}),S.jsxs("g",{transform:`translate(${(g-v)/2}, ${g+40})`,children:[S.jsx("rect",{x:"0",y:"0",width:v,height:v,stroke:l.tertiary,fill:"transparent",strokeWidth:"2"}),a&&S.jsxs(Oe,{x:v/2,y:v+20,textAnchor:"middle",children:["Area: ",y.toFixed(0)]})]})]})},Xy=({data:n,onDataChange:e,colors:l,showLabels:a,themeName:c,interactionMode:d,svgRef:m})=>{const{ab:h}=n,y=250,g=.8,v=h*g,T=Math.min(v*1.6,v*2-1),x=Math.sqrt(v*v-T/2*(T/2));if(!isFinite(x))return S.jsx("text",{children:"Invalid triangle"});const E={x:y/2,y:y/2+x/2},R={x:E.x,y:E.y-x},N=(D,B)=>{const L=E.y-B,z=Math.sqrt(1-Math.pow(Math.min(v*1.6,v*2-1)/(2*v),2)),$=L/(isFinite(z)?z:.6),G=Math.max(50,Math.min(200,$/g));e==null||e({ab:G})};return S.jsxs("svg",{ref:m,viewBox:`0 0 ${y} ${y}`,className:"w-full h-full",style:{pointerEvents:d==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${E.x}, ${E.y})`,style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("polygon",{points:`${-T/2},0 ${T/2},0 0,-${x}`,fill:l.background,stroke:c==="byrne"?l.accent:"currentColor",strokeWidth:"1"}),S.jsx("line",{x1:-T/2,y1:"0",x2:0,y2:-x,stroke:l.primary,strokeWidth:"2"}),S.jsx("line",{x1:T/2,y1:"0",x2:0,y2:-x,stroke:l.primary,strokeWidth:"2"}),S.jsx("line",{x1:-T/2,y1:"0",x2:T/2,y2:"0",stroke:l.secondary,strokeWidth:"2"}),a&&S.jsxs(S.Fragment,{children:[S.jsx(Oe,{x:-T/4-10,y:-x/2,textAnchor:"end",fill:l.primary,children:h.toFixed(0)}),S.jsx(Oe,{x:T/4+10,y:-x/2,textAnchor:"start",fill:l.primary,children:h.toFixed(0)}),S.jsx(Oe,{x:"0",y:"15",textAnchor:"middle",fill:l.secondary,children:"Base"})]})]}),d==="direct"&&m&&S.jsx(Dt,{cx:R.x,cy:R.y,onDrag:N,cursor:"ns-resize",svgRef:m})]})},Qy=({data:n,onDataChange:e,colors:l,showLabels:a,themeName:c,interactionMode:d,svgRef:m})=>{const{angle:h}=n,y=300,g=y/2-20,v=h*Math.PI/180,T={x:y/2,y:y/2},x={x:-g,y:0},E={x:g,y:0},R={x:g*Math.cos(v),y:-g*Math.sin(v)},N=c==="byrne"?l.accent:"currentColor",D={x:x.x-R.x,y:x.y-R.y},B={x:E.x-R.x,y:E.y-R.y},L=Math.sqrt(D.x*D.x+D.y*D.y),z={x:D.x/L,y:D.y/L},$=Math.sqrt(B.x*B.x+B.y*B.y),G={x:B.x/$,y:B.y/$},Q=12,ee={x:R.x+Q*z.x,y:R.y+Q*z.y},de={x:R.x+Q*(z.x+G.x),y:R.y+Q*(z.y+G.y)},ie={x:R.x+Q*G.x,y:R.y+Q*G.y},ue=(ce,J)=>{const _e=ce-T.x,xe=J-T.y;let I=Math.atan2(-xe,_e)*180/Math.PI;I<0&&(I+=360);const X=Math.max(5,Math.min(175,I));e==null||e({angle:X})};return S.jsxs("svg",{ref:m,viewBox:`0 0 ${y} ${y}`,className:"w-full h-full",style:{pointerEvents:d==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${T.x}, ${T.y})`,style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("path",{d:`M ${-g},0 A ${g},${g} 0 0 1 ${g},0`,stroke:N,strokeDasharray:"4 2",fill:"none",strokeWidth:"1.5"}),S.jsx("path",{d:`M ${-g},0 A ${g},${g} 0 1 0 ${g},0`,stroke:N,strokeDasharray:"2 6",fill:"none",strokeOpacity:"0.3",strokeWidth:"1.5"}),S.jsx("line",{x1:x.x,y1:x.y,x2:E.x,y2:E.y,stroke:l.tertiary,strokeWidth:"2"}),S.jsx("line",{x1:R.x,y1:R.y,x2:E.x,y2:E.y,stroke:l.primary,strokeWidth:"2.5"}),S.jsx("line",{x1:R.x,y1:R.y,x2:x.x,y2:x.y,stroke:l.secondary,strokeWidth:"2.5"}),S.jsx("polygon",{points:`${ee.x},${ee.y} ${de.x},${de.y} ${ie.x},${ie.y}`,stroke:N,fill:"none",strokeWidth:"1.5"}),a&&S.jsxs(S.Fragment,{children:[S.jsx(Oe,{x:(R.x+E.x)/2+5,y:(R.y+E.y)/2,fill:l.primary,children:"a"}),S.jsx(Oe,{x:(R.x+x.x)/2-5,y:(R.y+x.y)/2,fill:l.secondary,children:"b"}),S.jsx(Oe,{x:"0",y:"15",textAnchor:"middle",fill:l.tertiary,children:"diameter"})]})]}),d==="direct"&&m&&S.jsx(Dt,{cx:T.x+R.x,cy:T.y+R.y,onDrag:ue,cursor:"pointer",svgRef:m})]})},Zy=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{count:m,size:h}=n,y=le.useMemo(()=>[0,1,1,2,3,5,8,13,21,34,55,89],[]),g=le.useMemo(()=>{let L=0,z=0,$=0,G="M 0 0";const Q=[];let ee=0,de=0,ie=0,ue=0;for(let ce=1;ce<=m;ce++){const J=y[ce]*h;if(J<=0)continue;const _e=[l.primary,l.secondary,l.tertiary,l.accent][(ce-1)%4];let xe,W,I,X;const oe=0,fe=1;switch($){case 0:xe=L,W=z-J,I=L+J,X=z,G+=` A ${J} ${J} 0 ${oe} ${fe} ${I} ${X}`,L=I,z=X;break;case 1:xe=L,W=z,I=L,X=z+J,G+=` A ${J} ${J} 0 ${oe} ${fe} ${I} ${X}`,L=I,z=X;break;case 2:xe=L-J,W=z,I=L-J,X=z,G+=` A ${J} ${J} 0 ${oe} ${fe} ${I} ${X}`,L=I,z=X;break;case 3:xe=L-J,W=z-J,I=L,X=z-J,G+=` A ${J} ${J} 0 ${oe} ${fe} ${I} ${X}`,L=I,z=X;break}Q.push({x:xe,y:W,size:J,color:_e}),ee=Math.min(ee,xe,xe+J),de=Math.min(de,W,W+J),ie=Math.max(ie,xe,xe+J),ue=Math.max(ue,W,W+J),$=($+1)%4}return{path:G,squares:Q,bounds:{minX:ee,minY:de,width:ie-ee,height:ue-de}}},[m,h,y,l]),{path:v,squares:T,bounds:x}=g,E=Math.max(x.width,x.height,100)*1.1,R=-x.minX+(E-x.width)/2,N=-x.minY+(E-x.height)/2,D=(L,z)=>{const $=Math.round(1+L/E*10);e==null||e({count:Math.max(1,Math.min(11,$))})},B=(L,z)=>{const $=Math.round(1+z/E*19);e==null||e({size:Math.max(1,Math.min(20,$))})};return S.jsxs("svg",{ref:d,viewBox:`0 0 ${E} ${E}`,className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${R}, ${N})`,style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[T.map((L,z)=>S.jsx("rect",{x:L.x,y:L.y,width:L.size,height:L.size,fill:L.color,fillOpacity:.1,stroke:L.color,strokeWidth:"0.5"},z)),S.jsx("path",{d:v,stroke:l.primary,strokeWidth:"2",fill:"none",strokeLinecap:"round"})]}),c==="direct"&&d&&S.jsxs(S.Fragment,{children:[S.jsx(Dt,{cx:(m-1)/10*E,cy:15,onDrag:D,cursor:"ew-resize",svgRef:d}),S.jsx(Dt,{cx:15,cy:(h-1)/19*E,onDrag:B,cursor:"ns-resize",svgRef:d})]})]})},Wy=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{count:m}=n,h=[0,1,1,2,3,5,8,13,21,34,55,89],y=4,g=[];let v=0,T=0,x=0;for(let N=1;N<=m;N++){const D=h[N]*y;if(D===0)continue;const B=[l.primary,l.secondary,l.tertiary,l.accent][(N-1)%4];v+=(h[N-1]??0)*y;const L=v;g.push(S.jsx("circle",{cx:L,cy:0,r:D,stroke:B,strokeWidth:"1.5",fill:B,fillOpacity:.1,style:{pointerEvents:"none"}},`c-${N}`)),v+=D,T=v+D,x=Math.max(x,D*2)}const E=Math.max(T,x)*1.1,R=(N,D)=>{const B=Math.round(1+N/E*10);e==null||e({count:Math.max(1,Math.min(11,B))})};return S.jsxs("svg",{ref:d,viewBox:`0 0 ${E} ${E}`,className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsx("g",{transform:`translate(${(E-T)/2}, ${E/2})`,style:{vectorEffect:"non-scaling-stroke"},children:g}),c==="direct"&&d&&S.jsx(Dt,{cx:(m-1)/10*E,cy:E-15,onDrag:R,cursor:"ew-resize",svgRef:d})]})},jy=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{size:m}=n,h=(1+Math.sqrt(5))/2,y=m*h,g=y*1.1,v=(T,x)=>{const E=Math.max(20,Math.min(150,Math.max(T,x)));e==null||e({size:E})};return S.jsxs("svg",{ref:d,viewBox:`-10 -20 ${g} ${m*1.4}`,className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsxs("g",{style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("rect",{x:"0",y:"0",width:y,height:m,fill:l.background}),S.jsx("rect",{x:"0",y:"0",width:m,height:m,stroke:l.primary,fill:l.primary,strokeWidth:"2",fillOpacity:"0.2"}),S.jsx("rect",{x:m,y:"0",width:m*(h-1),height:m,stroke:l.secondary,fill:l.secondary,strokeWidth:"2",fillOpacity:"0.2"}),S.jsx("line",{x1:m/2,y1:m,x2:m,y2:"0",stroke:l.tertiary,strokeDasharray:"3 2",strokeWidth:"1.5"}),S.jsx("path",{d:`M ${m/2},${m} A ${m/2},${m/2} 0 0 1 ${m},${m}`,fill:"none",stroke:l.tertiary,strokeDasharray:"3 2",strokeWidth:"1.5"}),a&&S.jsxs(S.Fragment,{children:[S.jsx(Oe,{x:m/2,y:-10,textAnchor:"middle",fill:l.primary,children:"a"}),S.jsx(Oe,{x:m+m*(h-1)/2,y:-10,textAnchor:"middle",fill:l.secondary,children:"b"}),S.jsx(Oe,{x:y/2,y:m+20,textAnchor:"middle",fill:l.tertiary,children:"(a+b)/a = a/b  1.618"})]})]}),c==="direct"&&d&&S.jsx(Dt,{cx:m,cy:m,onDrag:v,cursor:"nwse-resize",svgRef:d})]})},ev=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{size:m}=n,h=1+Math.sqrt(2),y=m*h,g=y*1.1,v=(T,x)=>{const E=Math.max(20,Math.min(120,T/2));e==null||e({size:E})};return S.jsxs("svg",{ref:d,viewBox:`-10 -20 ${g} ${m*1.4}`,className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsxs("g",{style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("rect",{x:"0",y:"0",width:y,height:m,fill:l.background,stroke:l.tertiary,strokeWidth:"1"}),S.jsx("rect",{x:"0",y:"0",width:m,height:m,stroke:l.secondary,fill:l.secondary,strokeWidth:"2",fillOpacity:"0.2"}),S.jsx("rect",{x:m,y:"0",width:m,height:m,stroke:l.secondary,fill:l.secondary,strokeWidth:"2",fillOpacity:"0.2"}),S.jsx("rect",{x:2*m,y:"0",width:y-2*m,height:m,stroke:l.primary,fill:l.primary,strokeWidth:"2",fillOpacity:"0.2"}),a&&S.jsxs(S.Fragment,{children:[S.jsxs(Oe,{x:m,y:-10,textAnchor:"middle",fill:l.secondary,children:["b (",m.toFixed(0),")"]}),S.jsx(Oe,{x:2*m+(y-2*m)/2,y:-10,textAnchor:"middle",fill:l.primary,children:"a"}),S.jsx(Oe,{x:y/2,y:m+20,textAnchor:"middle",fill:l.tertiary,children:"(2b+a)/b = b/a  2.414"})]})]}),c==="direct"&&d&&S.jsx(Dt,{cx:2*m,cy:m,onDrag:v,cursor:"ew-resize",svgRef:d})]})},tv=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const h=[{d:"M 150 100 A 50 50 0 0 1 150 200",val:"1/2"},{d:"M 150 100 A 50 50 0 0 0 150 200",val:"1/4"},{d:"M 100 80 Q 150 60 200 80",val:"1/8"},{d:"M 100 200 L 50 250",val:"1/16"},{d:"M 50 250 C 70 230, 100 230, 120 250 S 150 280, 150 250",val:"1/32"},{d:"M 200 200 L 250 250",val:"1/64"}];return S.jsx("svg",{ref:d,viewBox:"-50 0 400 300",className:"w-full h-full",children:S.jsxs("g",{transform:"translate(20, -50)",strokeWidth:"8",strokeLinecap:"round",fill:"none",style:{vectorEffect:"non-scaling-stroke"},children:[h.map((y,g)=>S.jsx("path",{d:y.d,stroke:g===n.fraction?l.primary:l.secondary,strokeOpacity:g===n.fraction?1:.4,style:{transition:"stroke 0.3s, stroke-opacity 0.3s",cursor:c==="direct"?"pointer":"default",pointerEvents:c==="direct"?"auto":"none"},onClick:()=>{c==="direct"&&(e==null||e({fraction:g}))}},g)),a&&S.jsx(Oe,{x:130,y:340,textAnchor:"middle",children:`Value: ${h[n.fraction].val}`})]})})},nv=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{steps:m}=n,h=50,y=(m*2+1)*h,g=[[0,0]],v=[{cx:0,cy:0}],T=h,x=T*Math.sqrt(3)/2;for(let R=1;R<m;R++){const N=[],D=new Set(g.map(([B,L])=>`${B.toFixed(3)},${L.toFixed(3)}`));g.forEach(([B,L])=>{[[B+T,L],[B-T,L],[B+T/2,L+x],[B-T/2,L+x],[B+T/2,L-x],[B-T/2,L-x]].forEach(([$,G])=>{const Q=`${$.toFixed(3)},${G.toFixed(3)}`;D.has(Q)||(N.push([$,G]),D.add(Q))})}),N.forEach(([B,L])=>v.push({cx:B,cy:L})),g.push(...N)}const E=(R,N)=>{const D=Math.round(1+R/y*6),B=Math.max(1,Math.min(7,D));B!==n.steps&&(e==null||e({steps:B}))};return S.jsxs("svg",{ref:d,viewBox:`0 0 ${y} ${y}`,className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsxs("g",{transform:`translate(${y/2}, ${y/2})`,strokeWidth:"1.5",fill:"none",style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:[S.jsx("circle",{cx:"0",cy:"0",r:h*m,stroke:"var(--border-primary)",strokeDasharray:"8 4",strokeOpacity:"0.5"}),v.map(({cx:R,cy:N},D)=>S.jsx("circle",{cx:R,cy:N,r:h,stroke:D%3===0?l.primary:D%3===1?l.secondary:l.tertiary},D))]}),a&&S.jsxs(Oe,{x:10,y:20,children:["Circles: ",v.length]}),c==="direct"&&d&&S.jsx(Dt,{cx:(n.steps-1)/6*y,cy:y-15,onDrag:E,cursor:"ew-resize",svgRef:d})]})},iv=({data:n,onDataChange:e,colors:l,showLabels:a,interactionMode:c,svgRef:d})=>{const{a:h,rotations:y}=n,g=[],v=y*2*Math.PI;for(let E=.1;E<v;E+=.05){const R=h/Math.sqrt(E);if(!isFinite(R))continue;const N=R*Math.cos(E),D=R*Math.sin(E);g.push(`${N},${D}`)}const T=(E,R)=>{const N=Math.max(20,Math.min(150,R));e==null||e({a:N})},x=(E,R)=>{const N=Math.max(1,Math.min(10,Math.round(E/35)));e==null||e({rotations:N})};return S.jsxs("svg",{ref:d,viewBox:"0 0 350 350",className:"w-full h-full",style:{pointerEvents:c==="direct"?"auto":"none"},children:[S.jsx("g",{transform:`translate(${350/2}, ${350/2})`,strokeWidth:"2",style:{vectorEffect:"non-scaling-stroke",pointerEvents:"none"},children:S.jsx("polyline",{points:g.join(" "),stroke:l.primary,fill:"none"})}),a&&S.jsxs(Oe,{x:10,y:20,children:["r = ",h*h,"/",""]}),c==="direct"&&d&&S.jsxs(S.Fragment,{children:[S.jsx(Dt,{cx:15,cy:h,onDrag:T,cursor:"ns-resize",svgRef:d}),S.jsx(Dt,{cx:y*(350/10),cy:335,onDrag:x,cursor:"ew-resize",svgRef:d})]})]})},lv=({sonificationEngine:n,preset:e,data:l,onGeometryChange:a,sonificationRules:c,sonificationSelection:d,sourceAssignments:m,blendAssignments:h,fxAssignments:y,sourceParameters:g,samples:v,showLabels:T,isMuted:x,themeName:E,xy:R,onXYChange:N,playbackMode:D,fadeoutTime:B,interactionMode:L,rhythmSettings:z,rhythmSourceMapping:$,sourcesToSonify:G})=>{const Q=le.useRef(null),ee=le.useRef(null),[de,ie]=le.useState(!1);le.useEffect(()=>{n.setMuted(x)},[x,n]);const ue=le.useCallback(W=>{if(!de||!Q.current)return;const I=Q.current.getBoundingClientRect(),X=(W.clientX-I.left)/I.width,oe=(W.clientY-I.top)/I.height,fe=Math.max(0,Math.min(1,X)),M=Math.max(0,Math.min(1,oe));if(N(fe,M),L==="freeform")switch(e.key){case"euclid_I_47":{const P=150-M*140,j=10+fe*140;a({a:P,b:j});break}case"circle_ratios":{const P=10+fe*140;a({radius:P});break}case"euclid_I_1":{const P=250-M*200;a({size:P});break}case"euclid_II_5":{const P=250-M*200,j=1+fe*(P-2);a({ab:P,c:j});break}case"euclid_I_5":{const P=200-M*150;a({ab:P});break}case"thales_theorem":{const P=5+fe*170;a({angle:P});break}case"fibonacci_spiral":{const P=Math.round(11-M*10),j=Math.round(1+fe*19);a({count:P,size:j});break}case"fibonacci_circles":{const P=Math.round(1+fe*10);a({count:P});break}case"golden_ratio_from_square":{const P=20+fe*130;a({size:P});break}case"silver_ratio":{const P=20+fe*100;a({size:P});break}case"eye_of_horus":{const P=Math.min(5,Math.floor(fe*6));a({fraction:P});break}case"flower_of_life":{const P=Math.round(1+fe*6);a({steps:P});break}case"lituus_spiral":{const P=150-M*130,j=Math.round(1+fe*9);a({a:P,rotations:j});break}}},[de,N,L,e.key,a,l]),ce=le.useCallback(W=>{var fe;ie(!0),D==="interactive"&&!z.isEnabled&&n.start();const I=(fe=Q.current)==null?void 0:fe.getBoundingClientRect();if(!I)return;const X=(W.clientX-I.left)/I.width,oe=(W.clientY-I.top)/I.height;N(Math.max(0,Math.min(1,X)),Math.max(0,Math.min(1,oe))),W.target.setPointerCapture(W.pointerId)},[D,n,N,z.isEnabled]),J=le.useCallback(W=>{ie(!1),D==="interactive"&&!z.isEnabled&&n.stop();try{W.target.releasePointerCapture(W.pointerId)}catch{}},[D,n,z.isEnabled]);le.useEffect(()=>{if(z.isEnabled)n.stop(!0),n.updateRhythm(z,$,G,c);else{n.stopRhythm();const W=de&&(L==="touchpad"||L==="freeform");switch(n.update(G,c,v,h,W,R),D){case"continuous":n.start();break;case"fadeout":n.playWithFadeout(B);break;case"interactive":W||n.stop();break}}},[G,c,n,D,B,de,L,v,R,z,$,h]);const _e=()=>{const W={colors:e.colorPalette,showLabels:T,themeName:E,interactionMode:L,svgRef:ee,onDataChange:a};switch(e.key){case"euclid_I_47":return S.jsx(Yy,{data:l,...W});case"euclid_I_1":return S.jsx(Jy,{data:l,...W});case"euclid_II_5":return S.jsx(Ky,{data:l,...W});case"circle_ratios":return S.jsx($y,{data:l,...W});case"euclid_I_5":return S.jsx(Xy,{data:l,...W});case"thales_theorem":return S.jsx(Qy,{data:l,...W});case"fibonacci_spiral":return S.jsx(Zy,{data:l,...W});case"fibonacci_circles":return S.jsx(Wy,{data:l,...W});case"golden_ratio_from_square":return S.jsx(jy,{data:l,...W});case"silver_ratio":return S.jsx(ev,{data:l,...W});case"eye_of_horus":return S.jsx(tv,{data:l,...W});case"flower_of_life":return S.jsx(nv,{data:l,...W});case"lituus_spiral":return S.jsx(iv,{data:l,...W});default:return S.jsx("div",{children:"Select a preset"})}},xe=le.useMemo(()=>L==="touchpad"||L==="freeform"?"cursor-crosshair":"cursor-default",[L]);return S.jsx("div",{ref:Q,className:`w-full h-full flex flex-col items-center justify-center relative overflow-hidden touch-none ${xe}`,onPointerDown:L==="touchpad"||L==="freeform"?ce:void 0,onPointerMove:L==="touchpad"||L==="freeform"?ue:void 0,onPointerUp:L==="touchpad"||L==="freeform"?J:void 0,onPointerCancel:L==="touchpad"||L==="freeform"?J:void 0,children:_e()})},Em={euclid_I_47:`Also known as the Pythagorean Theorem, this fundamental proposition of Euclidean geometry states that for any right-angled triangle, the area of the square whose side is the hypotenuse (the side opposite the right angle) is equal to the sum of the areas of the squares on the other two sides. 
    
a + b = c`,euclid_I_1:`The very first proposition in Euclid's "Elements." It provides a method to construct an equilateral triangle (a triangle with all three sides of equal length) starting with only a single finite straight line segment. 
    
This simple construction is a cornerstone, demonstrating the power of using only a compass and straightedge to create perfect geometric forms.`,euclid_II_5:`This is a principle of geometric algebra. It states that if a line segment is divided into two equal parts and also into two unequal parts, the area of the rectangle formed by the two unequal segments, plus the area of the square on the line between the points of division, is equal to the area of the square on half the original line.
    
In algebraic terms: (a+b)(a-b) + b = a`,circle_ratios:`This preset explores the relationships between a circle's core properties. 
    
- Radius (r): The distance from the center to the edge.
- Circumference (C): The distance around the circle, calculated as 2r.
- Area (A): The space inside the circle, calculated as r.

Notice how both circumference and area are directly proportional to the radius, but in different ways (linearly vs. quadratically).`,euclid_I_5:`Known as "Pons Asinorum" (Latin for "bridge of asses"), this proposition states that the angles at the base of an isosceles triangle (a triangle with two sides of equal length) are themselves equal.
    
It was supposedly named the "bridge of asses" because it was the first real test for students of geometryone that fools might not be able to cross.`,thales_theorem:`Thales's Theorem states that if you take any three distinct points A, B, and C on a circle where the line AC is a diameter of the circle, then the angle formed at point B (ABC) is always a right angle (90).
    
Move the point along the circle's edge and observe how the angle at that point remains constant.`,fibonacci_spiral:`An approximation of the Golden Spiral, built from quarter-circles inscribed in squares whose side lengths follow the Fibonacci sequence (1, 1, 2, 3, 5...).
    
This iconic shape appears in nature, from nautilus shells to the arrangement of seeds in a sunflower, representing a fundamental pattern of growth.`,fibonacci_circles:`This preset visualizes the Fibonacci sequence (1, 1, 2, 3, 5, 8...) in a different way. A series of circles are drawn tangent to one another along a line, with the radius of each circle corresponding to a number in the sequence.

This construction provides a linear, additive view of the sequence's growth, contrasting with the geometric, area-based growth seen in the Fibonacci Spiral.`,golden_ratio_from_square:`The Golden Ratio (  1.618) is an irrational number found in art, architecture, and nature. This is a classic geometric construction of the ratio starting from a simple square.
    
The ratio is derived such that (a+b)/a = a/b = , a property believed to be uniquely pleasing to the human eye.`,silver_ratio:`While less famous than its golden counterpart, the Silver Ratio () is another "metallic mean" with fascinating properties. It is an irrational number approximately equal to 2.414.
    
It is mathematically connected to the octagon and can be expressed as 1 + 2. This construction demonstrates one way to derive it geometrically.`,eye_of_horus:`This is an ancient Egyptian symbol of protection, royal power, and good health. The parts of the eye were also used as a mathematical system for representing fractions.
    
Each distinct part of the eye symbol represented a fraction, with the sum of all parts being 63/64. The fractions were 1/2, 1/4, 1/8, 1/16, 1/32, and 1/64.`,flower_of_life:`A figure from sacred geometry composed of multiple evenly spaced, overlapping circles arranged to form a flower-like pattern with six-fold symmetry.
    
This powerful and ancient symbol is believed to contain the patterns of creation and the fundamental forms of space and time. By increasing the steps, you can see how the pattern grows from a single circle into a complex and beautiful form.`,lituus_spiral:`A spiral in which the angle () is inversely proportional to the square of the radius (r). Its formula is r = a/.
    
Unlike the Archimedean or logarithmic spirals, the Lituus spiral approaches the origin but never reaches it, winding infinitely around it. Its name comes from the Latin "lituus," a curved Roman war trumpet.`},ov={major:[0,2,4,5,7,9,11],minor_pentatonic:[0,3,5,7,10],chromatic:[0,1,2,3,4,5,6,7,8,9,10,11],dorian:[0,2,3,5,7,9,10],phrygian:[0,1,3,5,7,8,10],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],blues:[0,3,5,6,7,10]};class av{constructor(){this.playingSources=[],this.isMuted=!1,this.impulseReverb=null,this.noiseBuffers={},this.customWaveforms={},this.fadeoutTimeout=null,this.rhythmClock=null,this.rhythmScheduler=()=>{if(!this.rhythmClock)return;const{settings:e,patterns:l}=this.rhythmClock,a=60/e.bpm/4,c=this.audioContext.currentTime,d=.2;for(;this.rhythmClock.startTime<c+d;){const m=this.rhythmClock.step;l.kick[m%l.kick.length]&&(this.createDrumSound("kick",this.rhythmClock.startTime,e.kickVolume),e.harmonicBass&&this.createHarmonicBass(this.rhythmClock.startTime,e.kickVolume,this.rhythmClock.sonificationRules)),l.snare[m%l.snare.length]&&this.createDrumSound("snare",this.rhythmClock.startTime,e.snareVolume),l.hat[m%l.hat.length]&&this.createDrumSound("hat",this.rhythmClock.startTime,e.hatVolume),this.rhythmClock.step++,this.rhythmClock.startTime+=a}this.rhythmClock.timeoutId=window.setTimeout(this.rhythmScheduler,25)},this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.masterGain=this.audioContext.createGain(),this.compressor=this.audioContext.createDynamicsCompressor(),this.compressor.threshold.value=-12,this.compressor.knee.value=20,this.compressor.ratio.value=12,this.compressor.attack.value=.01,this.compressor.release.value=.25,this.masterGain.connect(this.compressor).connect(this.audioContext.destination),this.masterGain.gain.setValueAtTime(.8,this.audioContext.currentTime),this.sharedConstantSource=this.audioContext.createConstantSource(),this.sharedConstantSource.offset.value=1,this.sharedConstantSource.start(),this.createImpulseReverb(),this.createNoiseBuffers(),this.createCustomWaveforms(),this.resumeContext()}resumeContext(){this.audioContext.state==="suspended"&&this.audioContext.resume().catch(console.error)}setMuted(e){this.isMuted=e;const l=this.isMuted?0:.8;this.masterGain.gain.setTargetAtTime(l,this.audioContext.currentTime,.02)}createCustomWaveforms(){const l=new Float32Array(4096),a=new Float32Array(4096);for(let c=1;c<4096;c++)a[c]=2/(c*Math.PI)*(1-Math.cos(c*Math.PI/2))*Math.sin(c*Math.PI/4);this.customWaveforms.pulse=this.audioContext.createPeriodicWave(l,a,{disableNormalization:!1})}createNoiseBuffers(){const e=this.audioContext.sampleRate*2,l=this.audioContext.createBuffer(1,e,this.audioContext.sampleRate),a=l.getChannelData(0);for(let D=0;D<e;D++)a[D]=Math.random()*2-1;this.noiseBuffers.white_noise=l;const c=this.audioContext.createBuffer(1,e,this.audioContext.sampleRate),d=c.getChannelData(0);let m=0,h=0,y=0,g=0,v=0,T=0,x=0;for(let D=0;D<e;D++){const B=Math.random()*2-1;m=.99886*m+B*.0555179,h=.99332*h+B*.0750759,y=.969*y+B*.153852,g=.8665*g+B*.3104856,v=.55*v+B*.5329522,T=-.7616*T-B*.016898,d[D]=m+h+y+g+v+T+x+B*.5362,d[D]*=.11,x=B*.115926}this.noiseBuffers.pink_noise=c;const E=this.audioContext.createBuffer(1,e,this.audioContext.sampleRate),R=E.getChannelData(0);let N=0;for(let D=0;D<e;D++){const B=Math.random()*2-1;R[D]=(N+.02*B)/1.02,N=R[D],R[D]*=3.5}this.noiseBuffers.brown_noise=E}createImpulseReverb(){const e=this.audioContext.sampleRate,l=e*2,a=this.audioContext.createBuffer(2,l,e),c=a.getChannelData(0),d=a.getChannelData(1);for(let m=0;m<l;m++)c[m]=(Math.random()*2-1)*Math.pow(1-m/l,2.5),d[m]=(Math.random()*2-1)*Math.pow(1-m/l,2.5);this.impulseReverb=a}midiToFreq(e){return Math.pow(2,(e-69)/12)*440}mapValueToPitch(e,l){const a=Math.max(0,Math.min(1,e/400));if(!isFinite(a))return l.baseFrequency;const c=69+12*Math.log2(l.baseFrequency/440),d=Math.floor(a*48),m=ov[l.scale],h=m.length,y=Math.floor(d/h),g=m[d%h],v=c+y*12+g;return this.midiToFreq(v)}mapValueToParam(e,l,a,c="linear"){const d=Math.max(0,Math.min(1,e/400));if(!isFinite(d))return l;if(c==="log"){const m=Math.log(l>0?l:.001),h=Math.log(a>0?a:.001);return Math.exp(m+(h-m)*d)}return l+(a-l)*d}createFxChain(e,l){switch(e){case"distortion":const a=this.audioContext.createWaveShaper();return a.oversample="4x",[{node:a}];case"delay":const c=this.audioContext.createDelay(1),d=this.audioContext.createGain();return c.connect(d).connect(c),[{node:c},{node:d}];case"reverb":if(!this.impulseReverb)return[];const m=this.audioContext.createConvolver();m.buffer=this.impulseReverb;const h=this.audioContext.createGain(),y=this.audioContext.createGain();return h.connect(m),[{node:m,wetGain:h,dryGain:y}];default:return[]}}stopSource(e,l){if(e.gain.gain.setTargetAtTime(0,l,.05),e.granularScheduler&&clearInterval(e.granularScheduler.intervalId),e.pulseScheduler&&clearInterval(e.pulseScheduler.intervalId),e.modulator&&e.modulator.osc.stop(l+.1),e.lfo&&e.lfo.osc.stop(l+.1),"stop"in e.node)try{e.node.stop(l+.1)}catch{}e.node.disconnect()}update(e,l,a,c,d,m){var v;if(this.resumeContext(),(v=this.rhythmClock)!=null&&v.settings.isEnabled)return;this.stopRhythm();const h=this.audioContext.currentTime,y=Math.min(e.length,l.maxPolyphony);for(;this.playingSources.length>y;){const T=this.playingSources.pop();T&&this.stopSource(T,h)}for(let T=this.playingSources.length-1;T>=0;T--){const x=this.playingSources[T],E=e[T],R=E&&x.sourceType===E.type&&x.waveform===l.waveform&&x.fxType===E.fx;(T>=y||!R)&&(this.stopSource(this.playingSources[T],h),this.playingSources.splice(T,1))}for(;this.playingSources.length<y;){const T=this.playingSources.length,x=e[T];let E,R,N,D;if(x.type==="granular"&&x.buffer)E=this.audioContext.createGain();else if(x.type==="sample"&&x.buffer)E=this.audioContext.createBufferSource(),E.buffer=x.buffer,E.loop=!0;else if(x.type.endsWith("_noise"))E=this.audioContext.createBufferSource(),E.buffer=this.noiseBuffers[x.type],E.loop=!0;else{const G=this.audioContext.createOscillator();if(l.waveform==="fm"){const Q=this.audioContext.createOscillator(),ee=this.audioContext.createGain();Q.connect(ee).connect(G.frequency),R={osc:Q,gain:ee}}E=G}if(l.lfo.target!=="none"){const G=this.audioContext.createOscillator(),Q=this.audioContext.createGain();this.setOscillatorType(G,l.lfo.waveform),G.connect(Q),N={osc:G,depth:Q},l.lfo.target==="volume"&&(D=this.audioContext.createGain(),this.sharedConstantSource.connect(D.gain),N.depth.connect(D.gain))}const B=this.audioContext.createGain(),L=this.audioContext.createBiquadFilter();L.type="lowpass",L.frequency.value=2e4,L.Q.value=1;const z=this.createFxChain(x.fx,x);let $=E;if($.connect(L),$=D?L.connect(D):L,z.length>0&&z[0].wetGain&&z[0].dryGain){const{node:G,wetGain:Q,dryGain:ee}=z[0];$.connect(ee),$.connect(Q),Q.connect(G),ee.connect(B),G.connect(B)}else z.forEach(G=>{$.connect(G.node),$=G.node}),$.connect(B);if(B.connect(this.masterGain),B.gain.setValueAtTime(0,h),"start"in E)try{E.start()}catch{}if(R)try{R.osc.start()}catch{}if(N)try{N.osc.start()}catch{}this.playingSources.push({node:E,gain:B,fxChain:z,fxType:x.fx,sourceType:x.type,filterNode:L,targetGain:0,modulator:R,waveform:l.waveform,lfo:N,tremoloGain:D})}const g=y>0?.7/y:0;e.slice(0,y).forEach((T,x)=>{var B,L,z,$,G,Q,ee,de,ie,ue,ce;const E=this.playingSources[x];if(!E||!isFinite(T.value))return;if(T.type==="rhythmic_pulse"){E.targetGain=0,E.pulseScheduler&&clearInterval(E.pulseScheduler.intervalId);const J=this.mapValueToParam(T.value,.5,20),_e=1e3/Math.max(.1,J),xe=window.setInterval(()=>{this.createPulseSound(l.baseFrequency*2,.6)},_e);E.pulseScheduler={intervalId:xe},E.gain.gain.setTargetAtTime(0,h,.01);return}else E.pulseScheduler&&(clearInterval(E.pulseScheduler.intervalId),E.pulseScheduler=void 0);const R=T.value,N=c[T.key]||"100";let D=1;switch(N){case"75":D=.75;break;case"50":D=.5;break;case"25":D=.25;break;case"dynamic":D=this.mapValueToParam(R,.1,1);break}if(d&&m){E.targetGain=g*D;const J=this.mapValueToPitch(R,l),_e=this.mapValueToParam(m.x*400,200,18e3,"log"),xe=this.mapValueToParam(m.y*400,1,20);E.filterNode&&(E.filterNode.frequency.setTargetAtTime(_e,h,.02),E.filterNode.Q.setTargetAtTime(xe,h,.02)),E.node instanceof OscillatorNode&&(this.setOscillatorType(E.node,"sawtooth"),E.node.frequency.setTargetAtTime(J,h,.02)),E.lfo&&E.lfo.depth.gain.setTargetAtTime(0,h,.01),E.modulator&&E.modulator.gain.gain.setTargetAtTime(0,h,.01);return}if(E.filterNode&&E.filterNode.Q.setTargetAtTime(1,h,.02),E.sourceType==="granular"&&T.buffer&&T.granular){switch(E.granularScheduler||this.startGranular(E,T.buffer,T.granular),l.granularModulationTarget){case"pitch":E.granularScheduler.grainProps.playbackRate=this.mapValueToParam(R,.2,2.5);break;case"rate":E.granularScheduler&&(clearInterval(E.granularScheduler.intervalId),this.startGranular(E,T.buffer,{...T.granular,grainRate:this.mapValueToParam(R,5,100)}));break;case"duration":E.granularScheduler.grainProps.grainDuration=this.mapValueToParam(R,.01,.2);break}E.targetGain=g*D;return}switch(E.granularScheduler&&(clearInterval(E.granularScheduler.intervalId),E.granularScheduler=void 0),l.mode){case"pitch":if(E.targetGain=g*D,E.node instanceof AudioBufferSourceNode)E.node.playbackRate.setTargetAtTime(this.mapValueToParam(R,.5,2),h,.02);else if(E.node instanceof OscillatorNode){const _e=this.mapValueToPitch(R,l);this.setOscillatorType(E.node,l.waveform),E.node.frequency.setTargetAtTime(_e,h,.02),E.modulator&&T.fm&&(E.modulator.osc.frequency.setTargetAtTime(_e*T.fm.harmonicity,h,.02),E.modulator.gain.gain.setTargetAtTime(_e*T.fm.modIndex,h,.02))}(B=E.filterNode)==null||B.frequency.setTargetAtTime(2e4,h,.02);break;case"volume":E.targetGain=this.mapValueToParam(R,0,g*1.5)*D,E.node instanceof AudioBufferSourceNode?E.node.playbackRate.setTargetAtTime(1,h,.02):E.node instanceof OscillatorNode&&(this.setOscillatorType(E.node,l.waveform),E.node.frequency.setTargetAtTime(l.baseFrequency,h,.02)),(L=E.filterNode)==null||L.frequency.setTargetAtTime(2e4,h,.02);break;case"filter":E.targetGain=g*D;const J=this.mapValueToParam(R,200,12e3,"log");(z=E.filterNode)==null||z.frequency.setTargetAtTime(J,h,.02),E.node instanceof OscillatorNode&&(this.setOscillatorType(E.node,"sawtooth"),E.node.frequency.setTargetAtTime(l.baseFrequency,h,.02));break}if(E.lfo){const{lfo:J,node:_e,filterNode:xe}=E,{target:W,rate:I,depth:X}=l.lfo,oe=l.lfoModulationTarget==="rate"?this.mapValueToParam(R,.1,20):I,fe=l.lfoModulationTarget==="depth"?this.mapValueToParam(R,0,1):X;if(J.osc.frequency.setTargetAtTime(oe,h,.02),W==="pitch"&&(_e instanceof OscillatorNode||_e instanceof AudioBufferSourceNode)?J.depth.gain.setTargetAtTime(fe*1200,h,.02):W==="filter"&&xe?J.depth.gain.setTargetAtTime(fe*(xe.frequency.value/2),h,.02):W==="volume"?J.depth.gain.setTargetAtTime(fe,h,.02):J.depth.gain.setTargetAtTime(0,h,.02),J.depth.gain.value>0){if(W==="pitch"&&(_e instanceof OscillatorNode||_e instanceof AudioBufferSourceNode))J.depth.connect(_e.detune);else if(_e instanceof OscillatorNode||_e instanceof AudioBufferSourceNode)try{J.depth.disconnect(_e.detune)}catch{}if(W==="filter"&&xe)J.depth.connect(xe.frequency);else if(xe)try{J.depth.disconnect(xe.frequency)}catch{}}}if(E.fxType==="distortion"&&(($=E.fxChain[0])==null?void 0:$.node)instanceof WaveShaperNode){const J=((G=T.distortion)==null?void 0:G.amount)??.5,_e=Math.max(.01,J*100),xe=new Float32Array(256);for(let W=0;W<256;W++){const I=W*2/256-1;xe[W]=(Math.PI+_e)*I/(Math.PI+_e*Math.abs(I))}E.fxChain[0].node.curve=xe}else if(E.fxType==="delay"&&((Q=E.fxChain[0])==null?void 0:Q.node)instanceof DelayNode)E.fxChain[0].node.delayTime.setTargetAtTime(((ee=T.delay)==null?void 0:ee.time)??.3,h,.02),E.fxChain[1].node.gain.setTargetAtTime(((de=T.delay)==null?void 0:de.feedback)??.5,h,.02);else if(E.fxType==="reverb"&&((ie=E.fxChain[0])!=null&&ie.wetGain)&&((ue=E.fxChain[0])!=null&&ue.dryGain)){const J=((ce=T.reverb)==null?void 0:ce.mix)??.5;E.fxChain[0].wetGain.gain.setTargetAtTime(J,h,.02),E.fxChain[0].dryGain.gain.setTargetAtTime(1-J,h,.02)}})}setOscillatorType(e,l){l==="pulse"&&this.customWaveforms.pulse?e.setPeriodicWave(this.customWaveforms.pulse):l==="fm"||l==="pulse"?e.type="sine":e.type=l}startGranular(e,l,a){const c={buffer:l,playbackRate:1,grainDuration:a.grainDuration},d=1e3/a.grainRate,m=window.setInterval(()=>{if(this.audioContext.state==="suspended"||e.gain.gain.value<.01)return;const h=this.audioContext.currentTime,y=c.grainDuration,g=a.jitter*(c.buffer.duration-y),v=Math.random()*g,T=this.audioContext.createGain();T.connect(e.node),T.gain.setValueAtTime(0,h),T.gain.linearRampToValueAtTime(1,h+y*.4),T.gain.linearRampToValueAtTime(0,h+y);const x=this.audioContext.createBufferSource();x.buffer=c.buffer,x.playbackRate.value=c.playbackRate+(Math.random()-.5)*.1,x.connect(T),x.start(h,v,y*2),x.stop(h+y*2)},d);e.granularScheduler={intervalId:m,grainProps:c}}start(){this.resumeContext(),this.fadeoutTimeout&&(clearTimeout(this.fadeoutTimeout),this.fadeoutTimeout=null);const e=this.audioContext.currentTime;this.playingSources.forEach(l=>{l.sourceType!=="rhythmic_pulse"&&l.gain.gain.setTargetAtTime(l.targetGain,e,.02)})}stop(e=!1){this.stopRhythm(),this.fadeoutTimeout&&(clearTimeout(this.fadeoutTimeout),this.fadeoutTimeout=null);const l=this.audioContext.currentTime,a=e?.05:.2;this.playingSources.forEach(c=>{c.gain.gain.setTargetAtTime(0,l,a),e&&this.stopSource(c,l)}),e&&(this.playingSources=[])}playWithFadeout(e){this.start(),this.fadeoutTimeout&&clearTimeout(this.fadeoutTimeout),this.fadeoutTimeout=window.setTimeout(()=>{this.stop(),this.fadeoutTimeout=null},e*1e3)}createPulseSound(e,l){if(this.isMuted||l<=0)return;const a=this.audioContext.currentTime,c=this.audioContext.createOscillator(),d=this.audioContext.createGain();c.type="sine",c.frequency.value=e,d.gain.setValueAtTime(l*this.masterGain.gain.value,a),d.gain.exponentialRampToValueAtTime(.001,a+.1),c.connect(d).connect(this.compressor),c.start(a),c.stop(a+.1)}generateEuclideanPattern(e,l){if(e<=0||l<=0||e>l)return new Array(l).fill(0);let a=[];for(let d=0;d<l;d++)a.push(d<e?[1]:[0]);let c=a.length;for(;c>1;){let d=c-1,m=a[0],h=a[d];if(m.length>=h.length)break;let y=d;for(;y>0&&a[y].length===h.length;)a[y-1]=a[y-1].concat(a[y]),a.splice(y,1),y--;c=a.length}return[].concat.apply([],a)}createDrumSound(e,l,a){if(this.isMuted||a<=0)return;const c=this.masterGain.gain.value,d=a*c;switch(e){case"kick":{const m=this.audioContext.createOscillator(),h=this.audioContext.createGain();m.type="sine",m.frequency.setValueAtTime(150,l),m.frequency.exponentialRampToValueAtTime(.01,l+.15),h.gain.setValueAtTime(d,l),h.gain.exponentialRampToValueAtTime(.001*d,l+.2),m.connect(h).connect(this.compressor),m.start(l),m.stop(l+.25);break}case"snare":{const m=this.audioContext.createBufferSource();m.buffer=this.noiseBuffers.white_noise;const h=this.audioContext.createBiquadFilter();h.type="highpass",h.frequency.value=1500;const y=this.audioContext.createGain();m.connect(h).connect(y).connect(this.compressor),y.gain.setValueAtTime(.8*d,l),y.gain.exponentialRampToValueAtTime(.01*d,l+.2),m.start(l),m.stop(l+.2);const g=this.audioContext.createOscillator();g.type="triangle",g.frequency.value=180;const v=this.audioContext.createGain();g.connect(v).connect(this.compressor),v.gain.setValueAtTime(.7*d,l),v.gain.exponentialRampToValueAtTime(.01*d,l+.1),g.start(l),g.stop(l+.1);break}case"hat":{const m=this.audioContext.createBufferSource();m.buffer=this.noiseBuffers.white_noise;const h=this.audioContext.createBiquadFilter();h.type="bandpass",h.frequency.value=1e4,h.Q.value=1.5;const y=this.audioContext.createGain();m.connect(h).connect(y).connect(this.compressor),y.gain.setValueAtTime(.7*d,l),y.gain.exponentialRampToValueAtTime(.01*d,l+.08),m.start(l),m.stop(l+.1);break}}}createHarmonicBass(e,l,a){if(this.isMuted||l<=0)return;const c=this.masterGain.gain.value,d=this.audioContext.createOscillator(),m=this.audioContext.createGain(),h=this.audioContext.createBiquadFilter();d.type="sawtooth",d.frequency.value=a.baseFrequency/4,h.type="lowpass",h.frequency.setValueAtTime(800,e),h.frequency.exponentialRampToValueAtTime(200,e+.15),m.gain.setValueAtTime(0,e),m.gain.linearRampToValueAtTime(l*c*.5,e+.02),m.gain.exponentialRampToValueAtTime(.001,e+.25),d.connect(h).connect(m).connect(this.compressor),d.start(e),d.stop(e+.3)}stopRhythm(){var e;(e=this.rhythmClock)!=null&&e.timeoutId&&clearTimeout(this.rhythmClock.timeoutId),this.rhythmClock=null}updateRhythm(e,l,a,c){if(this.resumeContext(),!e.isEnabled){this.stopRhythm();return}const d=new Map(a.map(y=>[y.key,y.value])),m=(y,g,v,T=!0)=>{if(!y||y==="none")return T?Math.round((g+v)/2):(g+v)/2;const x=d.get(y)||0,E=Math.max(0,Math.min(1,x/200)),R=g+E*(v-g);return T?Math.round(R):R},h={kick:[0],snare:[0],hat:[0]};["kick","snare","hat"].forEach(y=>{var E,R,N;const g=m((E=l[y])==null?void 0:E.pulses,1,16),v=m((R=l[y])==null?void 0:R.steps,g,32);let T=this.generateEuclideanPattern(g,v);const x=(N=l[y])==null?void 0:N.offset;if(x&&x!=="none"&&T.length>0){const D=m(x,0,T.length-1);T=[...T.slice(-D),...T.slice(0,-D)]}h[y]=T}),this.rhythmClock?(this.rhythmClock.patterns=h,this.rhythmClock.settings=e,this.rhythmClock.sonificationRules=c):(this.rhythmClock={timeoutId:null,startTime:this.audioContext.currentTime,step:0,patterns:h,settings:e,sonificationRules:c},this.rhythmScheduler())}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let sv,rv;function uv(){return{geminiUrl:sv,vertexUrl:rv}}function cv(n,e,l,a){var c,d;if(!(n!=null&&n.baseUrl)){const m=uv();return e?(c=m.vertexUrl)!==null&&c!==void 0?c:l:(d=m.geminiUrl)!==null&&d!==void 0?d:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bi{}function me(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(a,c)=>{if(Object.prototype.hasOwnProperty.call(e,c)){const d=e[c];return d!=null?String(d):""}else throw new Error(`Key '${c}' not found in valueMap.`)})}function r(n,e,l){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in n))if(Array.isArray(l))n[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(l))for(let g=0;g<y.length;g++){const v=y[g];r(v,e.slice(d+1),l[g])}else for(const g of y)r(g,e.slice(d+1),l)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];r(y[0],e.slice(d+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const a=e[e.length-1],c=n[a];if(c!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===c)return;if(typeof c=="object"&&typeof l=="object"&&c!==null&&l!==null)Object.assign(c,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else n[a]=l}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const a=e[l];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(m=>s(m,e.slice(l+1))):void 0}else return}else n=n[a]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Am;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Am||(Am={}));var Mm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Mm||(Mm={}));var Ue;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ue||(Ue={}));var Rm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Rm||(Rm={}));var bm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(bm||(bm={}));var Nm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Nm||(Nm={}));var Dm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Dm||(Dm={}));var wm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(wm||(wm={}));var Im;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Im||(Im={}));var Um;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Um||(Um={}));var Vm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Vm||(Vm={}));var qm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(qm||(qm={}));var Lm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Lm||(Lm={}));var km;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(km||(km={}));var Bm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Bm||(Bm={}));var Pm;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Pm||(Pm={}));var Ja;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Ja||(Ja={}));var Gm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gm||(Gm={}));var hu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hu||(hu={}));var zm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zm||(zm={}));var Fm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Fm||(Fm={}));var Hm;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Hm||(Hm={}));var Om;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Om||(Om={}));var Ym;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(Ym||(Ym={}));var Jm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Jm||(Jm={}));var Km;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Km||(Km={}));var $m;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})($m||($m={}));var Xm;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Xm||(Xm={}));var Qm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Qm||(Qm={}));var Zm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zm||(Zm={}));var Wm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wm||(Wm={}));var jm;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(jm||(jm={}));var eh;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(eh||(eh={}));var th;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(th||(th={}));var nh;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(nh||(nh={}));var ih;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ih||(ih={}));var lh;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(lh||(lh={}));var oh;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(oh||(oh={}));var ah;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ah||(ah={}));var sh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(sh||(sh={}));var rh;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rh||(rh={}));var gl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(gl||(gl={}));class pu{constructor(e){const l={};for(const a of e.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class Mo{get text(){var e,l,a,c,d,m,h,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const T=[];for(const x of(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,R]of Object.entries(x))E!=="text"&&E!=="thought"&&(R!==null||R!==void 0)&&T.push(E);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,g+=x.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,l,a,c,d,m,h,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const T of(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,E]of Object.entries(T))x!=="inlineData"&&(E!==null||E!==void 0)&&v.push(x);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,l,a,c,d,m,h,y;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,l,a,c,d,m,h,y,g;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,l,a,c,d,m,h,y,g;if(((c=(a=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||c===void 0?void 0:c.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class uh{}class ch{}class fv{}class dv{}class fh{}class dh{}class mh{}class mv{}class hh{}class ph{}class gh{}class yh{}class hv{}class pv{}class gv{}class vh{}class yv{get text(){var e,l,a;let c="",d=!1;const m=[];for(const h of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,c+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,l,a;let c="";const d=[];for(const m of(a=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(c+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}}class Ka{_fromAPIResponse({apiResponse:e,isVertexAI:l}){const a=new Ka;if(a.name=e.name,a.metadata=e.metadata,a.done=e.done,a.error=e.error,l){const c=e.response;if(c){const d=new hh,m=c.videos;d.generatedVideos=m==null?void 0:m.map(h=>({video:{uri:h.gcsUri,videoBytes:h.bytesBase64Encoded?mu(h.bytesBase64Encoded):void 0,mimeType:h.mimeType}})),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}else{const c=e.response;if(c){const d=new hh,m=c.generateVideoResponse,h=m==null?void 0:m.generatedSamples;d.generatedVideos=h==null?void 0:h.map(y=>{const g=y.video;return{video:{uri:g==null?void 0:g.uri,videoBytes:g!=null&&g.encodedVideo?mu(g==null?void 0:g.encodedVideo):void 0,mimeType:y.encoding}}}),d.raiMediaFilteredCount=c.raiMediaFilteredCount,d.raiMediaFilteredReasons=c.raiMediaFilteredReasons,a.response=d}}return a}}class vv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Oh(n,e){const l=Pe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function Yh(n){return Array.isArray(n)?n.map(e=>$a(e)):[$a(n)]}function $a(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Jh(n){const e=$a(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Kh(n){const e=$a(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Th(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function $h(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Th(e)):[Th(n)]}function gu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ch(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Sh(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Rt(n){if(n==null)throw new Error("ContentUnion is required");return gu(n)?n:{role:"user",parts:$h(n)}}function Xh(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const a=Rt(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const l=Rt(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>Rt(l)):[Rt(e)]}function ln(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ch(n)||Sh(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rt(n)]}const e=[],l=[],a=gu(n[0]);for(const c of n){const d=gu(c);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(c);else{if(Ch(c)||Sh(c))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(c)}}return a||e.push({role:"user",parts:$h(l)}),e}function Tv(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(a=>a!=="null");if(l.length===1)e.type=Object.values(Ue).includes(l[0].toUpperCase())?l[0].toUpperCase():Ue.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of l)e.anyOf.push({type:Object.values(Ue).includes(a.toUpperCase())?a.toUpperCase():Ue.TYPE_UNSPECIFIED})}}function vl(n){const e={},l=["items"],a=["anyOf"],c=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&Tv(n.type,e);for(const[m,h]of Object.entries(n))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Ue).includes(h.toUpperCase())?h.toUpperCase():Ue.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=vl(h);else if(a.includes(m)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(vl(g))}e[m]=y}else if(c.includes(m)){const y={};for(const[g,v]of Object.entries(h))y[g]=vl(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=h}return e}function Ru(n){return vl(n)}function bu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Nu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Sl(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=vl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=vl(e.response));return n}function xl(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function Cv(n,e,l,a=1){const c=!e.startsWith(`${l}/`)&&e.split("/").length===a;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:c?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:c?`${l}/${e}`:e}function Vn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Cv(n,e,"cachedContents")}function Qh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ni(n){return mu(n)}function Sv(n){return n!=null&&typeof n=="object"&&"name"in n}function xv(n){return n!=null&&typeof n=="object"&&"video"in n}function _v(n){return n!=null&&typeof n=="object"&&"uri"in n}function Zh(n){var e;let l;if(Sv(n)&&(l=n.name),!(_v(n)&&(l=n.uri,l===void 0))&&!(xv(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const c=l.split("files/")[1].match(/[a-z0-9]+/);if(c===null)throw new Error(`Could not extract file name from URI ${l}`);l=c[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Wh(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function jh(n){for(const e of["models","tunedModels","publisherModels"])if(Ev(n,e))return n[e];return[]}function Ev(n,e){return n!==null&&typeof n=="object"&&e in n}function Av(n,e={}){const l=n,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function Mv(n,e={}){const l=[],a=new Set;for(const c of n){const d=c.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const m=Av(c,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function ep(n,e){if(typeof e!="string"&&!Array.isArray(e)){if(n&&n.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Rv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _l(n,e){const l=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function tp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bv(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Nv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function Dv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function wv(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],bv(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Nv(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Dv(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function np(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wv(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Iv(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const g=s(n,["maxItems"]);g!=null&&r(e,["maxItems"],g);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const T=s(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const x=s(n,["maximum"]);x!=null&&r(e,["maximum"],x);const E=s(n,["minItems"]);E!=null&&r(e,["minItems"],E);const R=s(n,["minLength"]);R!=null&&r(e,["minLength"],R);const N=s(n,["minProperties"]);N!=null&&r(e,["minProperties"],N);const D=s(n,["minimum"]);D!=null&&r(e,["minimum"],D);const B=s(n,["nullable"]);B!=null&&r(e,["nullable"],B);const L=s(n,["pattern"]);L!=null&&r(e,["pattern"],L);const z=s(n,["properties"]);z!=null&&r(e,["properties"],z);const $=s(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const G=s(n,["required"]);G!=null&&r(e,["required"],G);const Q=s(n,["title"]);Q!=null&&r(e,["title"],Q);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function Uv(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&r(e,["category"],l);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function Vv(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function qv(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function Lv(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],qv(l)),e}function kv(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Bv(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],kv(l)),e}function Pv(){return{}}function Gv(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>Vv(g))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],Lv(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],Bv(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],Pv());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function zv(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Fv(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function Hv(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],Fv(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Ov(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],zv(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],Hv(a)),e}function Yv(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function ip(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],Yv(l)),e}function Jv(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],ip(a)),e}function Kv(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Jv(c))),r(e,["speakerVoiceConfigs"],a)}return e}function $v(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],ip(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],Kv(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function Xv(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Qv(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],np(Rt(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(a,["topP"],m);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const g=s(e,["maxOutputTokens"]);g!=null&&r(a,["maxOutputTokens"],g);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const T=s(e,["responseLogprobs"]);T!=null&&r(a,["responseLogprobs"],T);const x=s(e,["logprobs"]);x!=null&&r(a,["logprobs"],x);const E=s(e,["presencePenalty"]);E!=null&&r(a,["presencePenalty"],E);const R=s(e,["frequencyPenalty"]);R!=null&&r(a,["frequencyPenalty"],R);const N=s(e,["seed"]);N!=null&&r(a,["seed"],N);const D=s(e,["responseMimeType"]);D!=null&&r(a,["responseMimeType"],D);const B=s(e,["responseSchema"]);B!=null&&r(a,["responseSchema"],Iv(Ru(B)));const L=s(e,["responseJsonSchema"]);if(L!=null&&r(a,["responseJsonSchema"],L),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=s(e,["safetySettings"]);if(l!==void 0&&z!=null){let ce=z;Array.isArray(ce)&&(ce=ce.map(J=>Uv(J))),r(l,["safetySettings"],ce)}const $=s(e,["tools"]);if(l!==void 0&&$!=null){let ce=xl($);Array.isArray(ce)&&(ce=ce.map(J=>Gv(Sl(J)))),r(l,["tools"],ce)}const G=s(e,["toolConfig"]);if(l!==void 0&&G!=null&&r(l,["toolConfig"],Ov(G)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=s(e,["cachedContent"]);l!==void 0&&Q!=null&&r(l,["cachedContent"],Vn(n,Q));const ee=s(e,["responseModalities"]);ee!=null&&r(a,["responseModalities"],ee);const de=s(e,["mediaResolution"]);de!=null&&r(a,["mediaResolution"],de);const ie=s(e,["speechConfig"]);if(ie!=null&&r(a,["speechConfig"],$v(bu(ie))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=s(e,["thinkingConfig"]);return ue!=null&&r(a,["thinkingConfig"],Xv(ue)),a}function Zv(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["request","model"],Pe(n,a));const c=s(e,["contents"]);if(c!=null){let m=ln(c);Array.isArray(m)&&(m=m.map(h=>np(h))),r(l,["request","contents"],m)}const d=s(e,["config"]);return d!=null&&r(l,["request","generationConfig"],Qv(n,d,l)),l}function Wv(n,e){const l={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=s(e,["fileName"]);a!=null&&r(l,["fileName"],a);const c=s(e,["inlinedRequests"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Zv(n,m))),r(l,["requests","requests"],d)}return l}function jv(n,e){const l={},a=s(n,["displayName"]);if(e!==void 0&&a!=null&&r(e,["batch","displayName"],a),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function e0(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["src"]);c!=null&&r(l,["batch","inputConfig"],Wv(n,ep(n,c)));const d=s(e,["config"]);return d!=null&&r(l,["config"],jv(d,l)),l}function t0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],_l(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function n0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],_l(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function i0(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);if(e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function l0(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],i0(l,e)),e}function o0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],_l(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function a0(n){const e={},l=s(n,["format"]);l!=null&&r(e,["instancesFormat"],l);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsSource","uris"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigquerySource","inputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function s0(n){const e={},l=s(n,["format"]);l!=null&&r(e,["predictionsFormat"],l);const a=s(n,["gcsUri"]);a!=null&&r(e,["gcsDestination","outputUriPrefix"],a);const c=s(n,["bigqueryUri"]);if(c!=null&&r(e,["bigqueryDestination","outputUri"],c),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function r0(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["dest"]);return e!==void 0&&c!=null&&r(e,["outputConfig"],s0(Rv(c))),l}function u0(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Pe(n,a));const c=s(e,["src"]);c!=null&&r(l,["inputConfig"],a0(ep(n,c)));const d=s(e,["config"]);return d!=null&&r(l,["config"],r0(d,l)),l}function c0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],_l(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function f0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],_l(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function d0(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function m0(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],d0(l,e)),e}function h0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],_l(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function p0(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function g0(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function y0(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function v0(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],p0(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],g0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],y0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function T0(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>v0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function C0(n){const e={},l=s(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function S0(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function x0(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>S0(c))),r(e,["urlMetadata"],a)}return e}function _0(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],T0(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],C0(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],x0(m));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const g=s(n,["index"]);g!=null&&r(e,["index"],g);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const T=s(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function E0(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>_0(y))),r(e,["candidates"],h)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["usageMetadata"]);return m!=null&&r(e,["usageMetadata"],m),e}function lp(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function A0(n){const e={},l=s(n,["response"]);l!=null&&r(e,["response"],E0(l));const a=s(n,["error"]);return a!=null&&r(e,["error"],lp(a)),e}function M0(n){const e={},l=s(n,["responsesFile"]);l!=null&&r(e,["fileName"],l);const a=s(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>A0(d))),r(e,["inlinedResponses"],c)}return e}function yu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata","displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["metadata","state"]);c!=null&&r(e,["state"],tp(c));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const h=s(n,["metadata","updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const g=s(n,["metadata","output"]);return g!=null&&r(e,["dest"],M0(g)),e}function R0(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["operations"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>yu(m))),r(e,["batchJobs"],d)}return e}function b0(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],lp(c)),e}function op(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["code"]);a!=null&&r(e,["code"],a);const c=s(n,["message"]);return c!=null&&r(e,["message"],c),e}function N0(n){const e={},l=s(n,["instancesFormat"]);l!=null&&r(e,["format"],l);const a=s(n,["gcsSource","uris"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigquerySource","inputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function D0(n){const e={},l=s(n,["predictionsFormat"]);l!=null&&r(e,["format"],l);const a=s(n,["gcsDestination","outputUriPrefix"]);a!=null&&r(e,["gcsUri"],a);const c=s(n,["bigqueryDestination","outputUri"]);return c!=null&&r(e,["bigqueryUri"],c),e}function vu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["state"]);c!=null&&r(e,["state"],tp(c));const d=s(n,["error"]);d!=null&&r(e,["error"],op(d));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const h=s(n,["startTime"]);h!=null&&r(e,["startTime"],h);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const g=s(n,["updateTime"]);g!=null&&r(e,["updateTime"],g);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const T=s(n,["inputConfig"]);T!=null&&r(e,["src"],N0(T));const x=s(n,["outputConfig"]);return x!=null&&r(e,["dest"],D0(x)),e}function w0(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["batchPredictionJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>vu(m))),r(e,["batchJobs"],d)}return e}function I0(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["done"]);a!=null&&r(e,["done"],a);const c=s(n,["error"]);return c!=null&&r(e,["error"],op(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ri;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ri||(Ri={}));class bo{constructor(e,l,a,c){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,a,c)}init(e,l,a){var c,d;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(c=m.config)===null||c===void 0?void 0:c.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U0 extends bi{constructor(e){super(),this.apiClient=e,this.create=async l=>{if(this.apiClient.isVertexAI()){const c=Date.now().toString();if(Array.isArray(l.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(l.config=l.config||{},l.config.displayName===void 0&&(l.config.displayName="genaiBatchJob_${timestampStr}"),l.config.dest===void 0&&typeof l.src=="string")if(l.src.startsWith("gs://")&&l.src.endsWith(".jsonl"))l.config.dest=`${l.src.slice(0,-6)}/dest`;else if(l.src.startsWith("bq://"))l.config.dest=`${l.src}_dest_${c}`;else throw new Error("Unsupported source:"+l.src)}return await this.createInternal(l)},this.list=async(l={})=>new bo(Ri.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l)}async createInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=u0(this.apiClient,e);return h=me("batchPredictionJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>vu(v))}else{const g=e0(this.apiClient,e);return h=me("{model}:batchGenerateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>yu(v))}}async get(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=c0(this.apiClient,e);return h=me("batchPredictionJobs/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>vu(v))}else{const g=t0(this.apiClient,e);return h=me("batches/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>yu(v))}}async cancel(e){var l,a,c,d;let m="",h={};if(this.apiClient.isVertexAI()){const y=f0(this.apiClient,e);m=me("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=n0(this.apiClient,e);m=me("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=m0(e);return h=me("batchPredictionJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=w0(v),x=new vh;return Object.assign(x,T),x})}else{const g=l0(e);return h=me("batches",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=R0(v),x=new vh;return Object.assign(x,T),x})}}async delete(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=h0(this.apiClient,e);return h=me("batchPredictionJobs/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>I0(v))}else{const g=o0(this.apiClient,e);return h=me("batches/{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>b0(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V0(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function q0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function L0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function k0(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],V0(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],q0(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],L0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function xh(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>k0(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function B0(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function P0(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function G0(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],P0(l)),e}function z0(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function F0(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],z0(l)),e}function H0(){return{}}function O0(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>B0(g))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],G0(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],F0(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],H0());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function Y0(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function J0(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function K0(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],J0(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function $0(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],Y0(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],K0(a)),e}function X0(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=ln(m);Array.isArray(v)&&(v=v.map(T=>xh(T))),r(e,["contents"],v)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],xh(Rt(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>O0(T))),r(e,["tools"],v)}const g=s(n,["toolConfig"]);if(e!==void 0&&g!=null&&r(e,["toolConfig"],$0(g)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function Q0(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Oh(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],X0(c,l)),l}function Z0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Vn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function W0(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Vn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function j0(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function eT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Vn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],j0(c,l)),l}function tT(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function nT(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],tT(l,e)),e}function iT(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function lT(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function oT(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function aT(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],iT(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],lT(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],oT(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function _h(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>aT(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function sT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function rT(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function uT(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],rT(l)),e}function cT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function fT(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],cT(l)),e}function dT(){return{}}function mT(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function hT(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],mT(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function pT(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],hT(l)),e}function gT(){return{}}function yT(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(x=>sT(x))),r(e,["functionDeclarations"],T)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],uT(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],fT(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],dT());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],pT(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],gT());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function vT(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function TT(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function CT(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],TT(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function ST(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],vT(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],CT(a)),e}function xT(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);e!==void 0&&c!=null&&r(e,["expireTime"],c);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let T=ln(m);Array.isArray(T)&&(T=T.map(x=>_h(x))),r(e,["contents"],T)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],_h(Rt(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>yT(x))),r(e,["tools"],T)}const g=s(n,["toolConfig"]);e!==void 0&&g!=null&&r(e,["toolConfig"],ST(g));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),l}function _T(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["model"],Oh(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],xT(c,l)),l}function ET(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Vn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function AT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Vn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function MT(n,e){const l={},a=s(n,["ttl"]);e!==void 0&&a!=null&&r(e,["ttl"],a);const c=s(n,["expireTime"]);return e!==void 0&&c!=null&&r(e,["expireTime"],c),l}function RT(n,e){const l={},a=s(e,["name"]);a!=null&&r(l,["_url","name"],Vn(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],MT(c,l)),l}function bT(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function NT(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],bT(l,e)),e}function Oa(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function DT(){return{}}function wT(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Oa(m))),r(e,["cachedContents"],d)}return e}function Ya(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["model"]);c!=null&&r(e,["model"],c);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function IT(){return{}}function UT(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["cachedContents"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Ya(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VT extends bi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new bo(Ri.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=_T(this.apiClient,e);return h=me("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ya(v))}else{const g=Q0(this.apiClient,e);return h=me("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Oa(v))}}async get(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=ET(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ya(v))}else{const g=Z0(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Oa(v))}}async delete(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=AT(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(()=>{const v=IT(),T=new gh;return Object.assign(T,v),T})}else{const g=W0(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(()=>{const v=DT(),T=new gh;return Object.assign(T,v),T})}}async update(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=RT(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Ya(v))}else{const g=eT(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Oa(v))}}async listInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=NT(e);return h=me("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=UT(v),x=new yh;return Object.assign(x,T),x})}else{const g=nT(e);return h=me("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=wT(v),x=new yh;return Object.assign(x,T),x})}}}function Eh(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],a=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $e(n){return this instanceof $e?(this.v=n,this):new $e(n)}function Tl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(n,e||[]),c,d=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),c[Symbol.asyncIterator]=function(){return this},c;function m(E){return function(R){return Promise.resolve(R).then(E,T)}}function h(E,R){a[E]&&(c[E]=function(N){return new Promise(function(D,B){d.push([E,N,D,B])>1||y(E,N)})},R&&(c[E]=R(c[E])))}function y(E,R){try{g(a[E](R))}catch(N){x(d[0][3],N)}}function g(E){E.value instanceof $e?Promise.resolve(E.value.v).then(v,T):x(d[0][2],E)}function v(E){y("next",E)}function T(E){y("throw",E)}function x(E,R){E(R),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Ro(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Eh=="function"?Eh(n):n[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(d){l[d]=n[d]&&function(m){return new Promise(function(h,y){m=n[d](m),c(h,y,m.done,m.value)})}}function c(d,m,h,y){Promise.resolve(y).then(function(g){d({value:g,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:ap(l)}function ap(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function LT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ah(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let a=0;for(;a<l;)if(n[a].role==="user")e.push(n[a]),a++;else{const c=[];let d=!0;for(;a<l&&n[a].role==="model";)c.push(n[a]),d&&!ap(n[a])&&(d=!1),a++;d?e.push(...c):e.pop()}return e}class kT{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new BT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class BT{constructor(e,l,a,c={},d=[]){this.apiClient=e,this.modelsModule=l,this.model=a,this.config=c,this.history=d,this.sendPromise=Promise.resolve(),LT(d)}async sendMessage(e){var l;await this.sendPromise;const a=Rt(e.message),c=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var d,m,h;const y=await c,g=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let x=[];v!=null&&(x=(h=v.slice(T))!==null&&h!==void 0?h:[]);const E=g?[g]:[];this.recordHistory(a,E,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),c}async sendMessageStream(e){var l;await this.sendPromise;const a=Rt(e.message),c=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=c.then(()=>{}).catch(()=>{});const d=await c;return this.processStreamResponse(d,a)}getHistory(e=!1){const l=e?Ah(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var a,c;return Tl(this,arguments,function*(){var m,h,y,g;const v=[];try{for(var T=!0,x=Ro(e),E;E=yield $e(x.next()),m=E.done,!m;T=!0){g=E.value,T=!1;const R=g;if(qT(R)){const N=(c=(a=R.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content;N!==void 0&&v.push(N)}yield yield $e(R)}}catch(R){h={error:R}}finally{try{!T&&!m&&(y=x.return)&&(yield $e(y.call(x)))}finally{if(h)throw h.error}}this.recordHistory(l,v)})}recordHistory(e,l,a){let c=[];l.length>0&&l.every(d=>d.role!==void 0)?c=l:c.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Ah(a)):this.history.push(e),this.history.push(...c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xa extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PT(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);return e!==void 0&&c!=null&&r(e,["_query","pageToken"],c),l}function GT(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],PT(l,e)),e}function zT(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function FT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const g=s(n,["sha256Hash"]);g!=null&&r(e,["sha256Hash"],g);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const T=s(n,["downloadUri"]);T!=null&&r(e,["downloadUri"],T);const x=s(n,["state"]);x!=null&&r(e,["state"],x);const E=s(n,["source"]);E!=null&&r(e,["source"],E);const R=s(n,["videoMetadata"]);R!=null&&r(e,["videoMetadata"],R);const N=s(n,["error"]);return N!=null&&r(e,["error"],zT(N)),e}function HT(n){const e={},l=s(n,["file"]);l!=null&&r(e,["file"],FT(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function OT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","file"],Zh(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function YT(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","file"],Zh(l));const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function JT(n){const e={},l=s(n,["details"]);l!=null&&r(e,["details"],l);const a=s(n,["message"]);a!=null&&r(e,["message"],a);const c=s(n,["code"]);return c!=null&&r(e,["code"],c),e}function Tu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["mimeType"]);c!=null&&r(e,["mimeType"],c);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const g=s(n,["sha256Hash"]);g!=null&&r(e,["sha256Hash"],g);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const T=s(n,["downloadUri"]);T!=null&&r(e,["downloadUri"],T);const x=s(n,["state"]);x!=null&&r(e,["state"],x);const E=s(n,["source"]);E!=null&&r(e,["source"],E);const R=s(n,["videoMetadata"]);R!=null&&r(e,["videoMetadata"],R);const N=s(n,["error"]);return N!=null&&r(e,["error"],JT(N)),e}function KT(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["files"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Tu(m))),r(e,["files"],d)}return e}function $T(n){const e={},l=s(n,["sdkHttpResponse"]);return l!=null&&r(e,["sdkHttpResponse"],l),e}function XT(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QT extends bi{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new bo(Ri.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>Tu(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=GT(e);return d=me("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),c.then(y=>{const g=KT(y),v=new hv;return Object.assign(v,g),v})}}async createInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=HT(e);return d=me("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const g=$T(y),v=new pv;return Object.assign(v,g),v})}}async get(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=OT(e);return d=me("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Tu(y))}}async delete(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YT(e);return d=me("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(()=>{const y=XT(),g=new gv;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZT(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function sp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],ZT(l)),e}function WT(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],sp(a)),e}function jT(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>WT(c))),r(e,["speakerVoiceConfigs"],a)}return e}function eC(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],sp(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],jT(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function tC(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function nC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function iC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function lC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],tC(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],nC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],iC(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function oC(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>lC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function aC(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function sC(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function rC(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],sC(l)),e}function uC(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function cC(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],uC(l)),e}function fC(){return{}}function dC(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>aC(g))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],rC(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],cC(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],fC());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function mC(n){const e={},l=s(n,["handle"]);if(l!=null&&r(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Mh(){return{}}function hC(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function pC(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],hC(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function gC(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function yC(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],gC(a)),e}function vC(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function TC(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const g=s(n,["mediaResolution"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","mediaResolution"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],eC(Nu(T)));const x=s(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&r(e,["setup","systemInstruction"],oC(Rt(E)));const R=s(n,["tools"]);if(e!==void 0&&R!=null){let G=xl(R);Array.isArray(G)&&(G=G.map(Q=>dC(Sl(Q)))),r(e,["setup","tools"],G)}const N=s(n,["sessionResumption"]);e!==void 0&&N!=null&&r(e,["setup","sessionResumption"],mC(N));const D=s(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&r(e,["setup","inputAudioTranscription"],Mh());const B=s(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&r(e,["setup","outputAudioTranscription"],Mh());const L=s(n,["realtimeInputConfig"]);e!==void 0&&L!=null&&r(e,["setup","realtimeInputConfig"],pC(L));const z=s(n,["contextWindowCompression"]);e!==void 0&&z!=null&&r(e,["setup","contextWindowCompression"],yC(z));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],vC($)),l}function CC(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],TC(c,l)),l}function SC(){return{}}function xC(){return{}}function _C(n){const e={},l=s(n,["media"]);l!=null&&r(e,["mediaChunks"],Yh(l));const a=s(n,["audio"]);a!=null&&r(e,["audio"],Kh(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Jh(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],SC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],xC()),e}function rp(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function EC(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>rp(c))),r(e,["weightedPrompts"],a)}return e}function up(n){const e={},l=s(n,["temperature"]);l!=null&&r(e,["temperature"],l);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const g=s(n,["scale"]);g!=null&&r(e,["scale"],g);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const T=s(n,["muteDrums"]);T!=null&&r(e,["muteDrums"],T);const x=s(n,["onlyBassAndDrums"]);return x!=null&&r(e,["onlyBassAndDrums"],x),e}function AC(n){const e={},l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],up(l)),e}function cp(n){const e={},l=s(n,["model"]);return l!=null&&r(e,["model"],l),e}function fp(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>rp(c))),r(e,["weightedPrompts"],a)}return e}function Cu(n){const e={},l=s(n,["setup"]);l!=null&&r(e,["setup"],cp(l));const a=s(n,["clientContent"]);a!=null&&r(e,["clientContent"],fp(a));const c=s(n,["musicGenerationConfig"]);c!=null&&r(e,["musicGenerationConfig"],up(c));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function MC(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function RC(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],MC(l)),e}function bC(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],RC(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function NC(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function DC(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function wC(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function IC(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],NC(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],DC(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],wC(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function UC(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>IC(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function VC(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function qC(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function LC(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],qC(l)),e}function kC(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function BC(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],kC(l)),e}function PC(){return{}}function GC(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function zC(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],GC(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function FC(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],zC(l)),e}function HC(){return{}}function OC(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(x=>VC(x))),r(e,["functionDeclarations"],T)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],LC(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],BC(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],PC());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],FC(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],HC());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function YC(n){const e={},l=s(n,["handle"]);l!=null&&r(e,["handle"],l);const a=s(n,["transparent"]);return a!=null&&r(e,["transparent"],a),e}function Rh(){return{}}function JC(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function KC(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],JC(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function $C(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function XC(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],$C(a)),e}function QC(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function ZC(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const g=s(n,["mediaResolution"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","mediaResolution"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],bC(Nu(T)));const x=s(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&r(e,["setup","systemInstruction"],UC(Rt(E)));const R=s(n,["tools"]);if(e!==void 0&&R!=null){let G=xl(R);Array.isArray(G)&&(G=G.map(Q=>OC(Sl(Q)))),r(e,["setup","tools"],G)}const N=s(n,["sessionResumption"]);e!==void 0&&N!=null&&r(e,["setup","sessionResumption"],YC(N));const D=s(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&r(e,["setup","inputAudioTranscription"],Rh());const B=s(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&r(e,["setup","outputAudioTranscription"],Rh());const L=s(n,["realtimeInputConfig"]);e!==void 0&&L!=null&&r(e,["setup","realtimeInputConfig"],KC(L));const z=s(n,["contextWindowCompression"]);e!==void 0&&z!=null&&r(e,["setup","contextWindowCompression"],XC(z));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],QC($)),l}function WC(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],ZC(c,l)),l}function jC(){return{}}function eS(){return{}}function tS(n){const e={},l=s(n,["media"]);l!=null&&r(e,["mediaChunks"],Yh(l));const a=s(n,["audio"]);a!=null&&r(e,["audio"],Kh(a));const c=s(n,["audioStreamEnd"]);c!=null&&r(e,["audioStreamEnd"],c);const d=s(n,["video"]);d!=null&&r(e,["video"],Jh(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],jC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],eS()),e}function nS(){return{}}function iS(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function lS(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function oS(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function aS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],iS(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],lS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],oS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function sS(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>aS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function bh(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function rS(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function uS(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>rS(c))),r(e,["urlMetadata"],a)}return e}function cS(n){const e={},l=s(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],sS(l));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],bh(h));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],bh(y));const g=s(n,["urlContextMetadata"]);return g!=null&&r(e,["urlContextMetadata"],uS(g)),e}function fS(n){const e={},l=s(n,["id"]);l!=null&&r(e,["id"],l);const a=s(n,["args"]);a!=null&&r(e,["args"],a);const c=s(n,["name"]);return c!=null&&r(e,["name"],c),e}function dS(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>fS(c))),r(e,["functionCalls"],a)}return e}function mS(n){const e={},l=s(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function Fa(n){const e={},l=s(n,["modality"]);l!=null&&r(e,["modality"],l);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function hS(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["responseTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(E=>Fa(E))),r(e,["promptTokensDetails"],x)}const g=s(n,["cacheTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(E=>Fa(E))),r(e,["cacheTokensDetails"],x)}const v=s(n,["responseTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(E=>Fa(E))),r(e,["responseTokensDetails"],x)}const T=s(n,["toolUsePromptTokensDetails"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(E=>Fa(E))),r(e,["toolUsePromptTokensDetails"],x)}return e}function pS(n){const e={},l=s(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function gS(n){const e={},l=s(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function yS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],nS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],cS(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],dS(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],mS(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],hS(m));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],pS(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],gS(y)),e}function vS(){return{}}function TS(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["weight"]);return a!=null&&r(e,["weight"],a),e}function CS(n){const e={},l=s(n,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>TS(c))),r(e,["weightedPrompts"],a)}return e}function SS(n){const e={},l=s(n,["temperature"]);l!=null&&r(e,["temperature"],l);const a=s(n,["topK"]);a!=null&&r(e,["topK"],a);const c=s(n,["seed"]);c!=null&&r(e,["seed"],c);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const g=s(n,["scale"]);g!=null&&r(e,["scale"],g);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const T=s(n,["muteDrums"]);T!=null&&r(e,["muteDrums"],T);const x=s(n,["onlyBassAndDrums"]);return x!=null&&r(e,["onlyBassAndDrums"],x),e}function xS(n){const e={},l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],CS(l));const a=s(n,["musicGenerationConfig"]);return a!=null&&r(e,["musicGenerationConfig"],SS(a)),e}function _S(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);a!=null&&r(e,["mimeType"],a);const c=s(n,["sourceMetadata"]);return c!=null&&r(e,["sourceMetadata"],xS(c)),e}function ES(n){const e={},l=s(n,["audioChunks"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>_S(c))),r(e,["audioChunks"],a)}return e}function AS(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["filteredReason"]);return a!=null&&r(e,["filteredReason"],a),e}function MS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],vS());const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],ES(a));const c=s(n,["filteredPrompt"]);return c!=null&&r(e,["filteredPrompt"],AS(c)),e}function RS(n){const e={},l=s(n,["sessionId"]);return l!=null&&r(e,["sessionId"],l),e}function bS(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function NS(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function DS(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function wS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],bS(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],NS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],DS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function IS(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>wS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Nh(n){const e={},l=s(n,["text"]);l!=null&&r(e,["text"],l);const a=s(n,["finished"]);return a!=null&&r(e,["finished"],a),e}function US(n){const e={},l=s(n,["modelTurn"]);l!=null&&r(e,["modelTurn"],IS(l));const a=s(n,["turnComplete"]);a!=null&&r(e,["turnComplete"],a);const c=s(n,["interrupted"]);c!=null&&r(e,["interrupted"],c);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],Nh(h));const y=s(n,["outputTranscription"]);return y!=null&&r(e,["outputTranscription"],Nh(y)),e}function VS(n){const e={},l=s(n,["args"]);l!=null&&r(e,["args"],l);const a=s(n,["name"]);return a!=null&&r(e,["name"],a),e}function qS(n){const e={},l=s(n,["functionCalls"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>VS(c))),r(e,["functionCalls"],a)}return e}function LS(n){const e={},l=s(n,["ids"]);return l!=null&&r(e,["ids"],l),e}function Ha(n){const e={},l=s(n,["modality"]);l!=null&&r(e,["modality"],l);const a=s(n,["tokenCount"]);return a!=null&&r(e,["tokenCount"],a),e}function kS(n){const e={},l=s(n,["promptTokenCount"]);l!=null&&r(e,["promptTokenCount"],l);const a=s(n,["cachedContentTokenCount"]);a!=null&&r(e,["cachedContentTokenCount"],a);const c=s(n,["candidatesTokenCount"]);c!=null&&r(e,["responseTokenCount"],c);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(R=>Ha(R))),r(e,["promptTokensDetails"],E)}const g=s(n,["cacheTokensDetails"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(R=>Ha(R))),r(e,["cacheTokensDetails"],E)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(R=>Ha(R))),r(e,["responseTokensDetails"],E)}const T=s(n,["toolUsePromptTokensDetails"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(R=>Ha(R))),r(e,["toolUsePromptTokensDetails"],E)}const x=s(n,["trafficType"]);return x!=null&&r(e,["trafficType"],x),e}function BS(n){const e={},l=s(n,["timeLeft"]);return l!=null&&r(e,["timeLeft"],l),e}function PS(n){const e={},l=s(n,["newHandle"]);l!=null&&r(e,["newHandle"],l);const a=s(n,["resumable"]);a!=null&&r(e,["resumable"],a);const c=s(n,["lastConsumedClientMessageIndex"]);return c!=null&&r(e,["lastConsumedClientMessageIndex"],c),e}function GS(n){const e={},l=s(n,["setupComplete"]);l!=null&&r(e,["setupComplete"],RS(l));const a=s(n,["serverContent"]);a!=null&&r(e,["serverContent"],US(a));const c=s(n,["toolCall"]);c!=null&&r(e,["toolCall"],qS(c));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],LS(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],kS(m));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],BS(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],PS(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zS(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function FS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function HS(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function OS(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],zS(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],FS(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],HS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function Qa(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>OS(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function YS(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const g=s(n,["maxItems"]);g!=null&&r(e,["maxItems"],g);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const T=s(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const x=s(n,["maximum"]);x!=null&&r(e,["maximum"],x);const E=s(n,["minItems"]);E!=null&&r(e,["minItems"],E);const R=s(n,["minLength"]);R!=null&&r(e,["minLength"],R);const N=s(n,["minProperties"]);N!=null&&r(e,["minProperties"],N);const D=s(n,["minimum"]);D!=null&&r(e,["minimum"],D);const B=s(n,["nullable"]);B!=null&&r(e,["nullable"],B);const L=s(n,["pattern"]);L!=null&&r(e,["pattern"],L);const z=s(n,["properties"]);z!=null&&r(e,["properties"],z);const $=s(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const G=s(n,["required"]);G!=null&&r(e,["required"],G);const Q=s(n,["title"]);Q!=null&&r(e,["title"],Q);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function JS(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=s(n,["category"]);l!=null&&r(e,["category"],l);const a=s(n,["threshold"]);return a!=null&&r(e,["threshold"],a),e}function KS(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function $S(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function XS(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],$S(l)),e}function QS(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function ZS(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],QS(l)),e}function WS(){return{}}function jS(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>KS(g))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],XS(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],ZS(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],WS());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function ex(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function tx(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function nx(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],tx(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function ix(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],ex(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],nx(a)),e}function lx(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function dp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],lx(l)),e}function ox(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],dp(a)),e}function ax(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>ox(c))),r(e,["speakerVoiceConfigs"],a)}return e}function sx(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],dp(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],ax(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function rx(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function ux(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],Qa(Rt(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(a,["topP"],m);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const g=s(e,["maxOutputTokens"]);g!=null&&r(a,["maxOutputTokens"],g);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const T=s(e,["responseLogprobs"]);T!=null&&r(a,["responseLogprobs"],T);const x=s(e,["logprobs"]);x!=null&&r(a,["logprobs"],x);const E=s(e,["presencePenalty"]);E!=null&&r(a,["presencePenalty"],E);const R=s(e,["frequencyPenalty"]);R!=null&&r(a,["frequencyPenalty"],R);const N=s(e,["seed"]);N!=null&&r(a,["seed"],N);const D=s(e,["responseMimeType"]);D!=null&&r(a,["responseMimeType"],D);const B=s(e,["responseSchema"]);B!=null&&r(a,["responseSchema"],YS(Ru(B)));const L=s(e,["responseJsonSchema"]);if(L!=null&&r(a,["responseJsonSchema"],L),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=s(e,["safetySettings"]);if(l!==void 0&&z!=null){let ce=z;Array.isArray(ce)&&(ce=ce.map(J=>JS(J))),r(l,["safetySettings"],ce)}const $=s(e,["tools"]);if(l!==void 0&&$!=null){let ce=xl($);Array.isArray(ce)&&(ce=ce.map(J=>jS(Sl(J)))),r(l,["tools"],ce)}const G=s(e,["toolConfig"]);if(l!==void 0&&G!=null&&r(l,["toolConfig"],ix(G)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=s(e,["cachedContent"]);l!==void 0&&Q!=null&&r(l,["cachedContent"],Vn(n,Q));const ee=s(e,["responseModalities"]);ee!=null&&r(a,["responseModalities"],ee);const de=s(e,["mediaResolution"]);de!=null&&r(a,["mediaResolution"],de);const ie=s(e,["speechConfig"]);if(ie!=null&&r(a,["speechConfig"],sx(bu(ie))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=s(e,["thinkingConfig"]);return ue!=null&&r(a,["thinkingConfig"],rx(ue)),a}function Dh(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);if(c!=null){let m=ln(c);Array.isArray(m)&&(m=m.map(h=>Qa(h))),r(l,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(l,["generationConfig"],ux(n,d,l)),l}function cx(n,e){const l={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["requests[]","taskType"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["requests[]","title"],c);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function fx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);c!=null&&r(l,["requests[]","content"],Xh(n,c));const d=s(e,["config"]);d!=null&&r(l,["config"],cx(d,l));const m=s(e,["model"]);return m!==void 0&&r(l,["requests[]","model"],Pe(n,m)),l}function dx(n,e){const l={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=s(n,["numberOfImages"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&r(e,["parameters","aspectRatio"],c);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const h=s(n,["personGeneration"]);e!==void 0&&h!=null&&r(e,["parameters","personGeneration"],h);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const g=s(n,["includeRaiReason"]);e!==void 0&&g!=null&&r(e,["parameters","includeRaiReason"],g);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","mimeType"],T);const x=s(n,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&r(e,["parameters","outputOptions","compressionQuality"],x),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["imageSize"])!==void 0)throw new Error("imageSize parameter is not supported in Gemini API.");if(s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function mx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(l,["config"],dx(d,l)),l}function hx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function px(n,e,l){const a={},c=s(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=s(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const m=s(e,["filter"]);l!==void 0&&m!=null&&r(l,["_query","filter"],m);const h=s(e,["queryBase"]);return l!==void 0&&h!=null&&r(l,["_url","models_url"],Wh(n,h)),a}function gx(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],px(n,a,l)),l}function yx(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function vx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],yx(c,l)),l}function Tx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function Cx(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Sx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);if(c!=null){let m=ln(c);Array.isArray(m)&&(m=m.map(h=>Qa(h))),r(l,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(l,["config"],Cx(d)),l}function xx(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Ni(l));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function _x(n,e){const l={},a=s(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=s(n,["durationSeconds"]);if(e!==void 0&&c!=null&&r(e,["parameters","durationSeconds"],c),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);if(e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d),s(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=s(n,["personGeneration"]);if(e!==void 0&&m!=null&&r(e,["parameters","personGeneration"],m),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=s(n,["negativePrompt"]);e!==void 0&&h!=null&&r(e,["parameters","negativePrompt"],h);const y=s(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&r(e,["parameters","enhancePrompt"],y),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return l}function Ex(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["image"]);if(d!=null&&r(l,["instances[0]","image"],xx(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["config"]);return m!=null&&r(l,["config"],_x(m,l)),l}function Ax(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function Mx(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function Rx(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function bx(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Ax(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],Mx(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Rx(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function El(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>bx(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Nx(n){const e={},l=s(n,["anyOf"]);l!=null&&r(e,["anyOf"],l);const a=s(n,["default"]);a!=null&&r(e,["default"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const g=s(n,["maxItems"]);g!=null&&r(e,["maxItems"],g);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const T=s(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const x=s(n,["maximum"]);x!=null&&r(e,["maximum"],x);const E=s(n,["minItems"]);E!=null&&r(e,["minItems"],E);const R=s(n,["minLength"]);R!=null&&r(e,["minLength"],R);const N=s(n,["minProperties"]);N!=null&&r(e,["minProperties"],N);const D=s(n,["minimum"]);D!=null&&r(e,["minimum"],D);const B=s(n,["nullable"]);B!=null&&r(e,["nullable"],B);const L=s(n,["pattern"]);L!=null&&r(e,["pattern"],L);const z=s(n,["properties"]);z!=null&&r(e,["properties"],z);const $=s(n,["propertyOrdering"]);$!=null&&r(e,["propertyOrdering"],$);const G=s(n,["required"]);G!=null&&r(e,["required"],G);const Q=s(n,["title"]);Q!=null&&r(e,["title"],Q);const ee=s(n,["type"]);return ee!=null&&r(e,["type"],ee),e}function Dx(n){const e={},l=s(n,["featureSelectionPreference"]);return l!=null&&r(e,["featureSelectionPreference"],l),e}function wx(n){const e={},l=s(n,["method"]);l!=null&&r(e,["method"],l);const a=s(n,["category"]);a!=null&&r(e,["category"],a);const c=s(n,["threshold"]);return c!=null&&r(e,["threshold"],c),e}function Ix(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=s(n,["description"]);l!=null&&r(e,["description"],l);const a=s(n,["name"]);a!=null&&r(e,["name"],a);const c=s(n,["parameters"]);c!=null&&r(e,["parameters"],c);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function Ux(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function Vx(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],Ux(l)),e}function qx(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function Lx(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],qx(l)),e}function kx(){return{}}function Bx(n){const e={},l=s(n,["apiKeyString"]);return l!=null&&r(e,["apiKeyString"],l),e}function Px(n){const e={},l=s(n,["apiKeyConfig"]);l!=null&&r(e,["apiKeyConfig"],Bx(l));const a=s(n,["authType"]);a!=null&&r(e,["authType"],a);const c=s(n,["googleServiceAccountConfig"]);c!=null&&r(e,["googleServiceAccountConfig"],c);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function Gx(n){const e={},l=s(n,["authConfig"]);return l!=null&&r(e,["authConfig"],Px(l)),e}function zx(){return{}}function mp(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let T=l;Array.isArray(T)&&(T=T.map(x=>Ix(x))),r(e,["functionDeclarations"],T)}const a=s(n,["retrieval"]);a!=null&&r(e,["retrieval"],a);const c=s(n,["googleSearch"]);c!=null&&r(e,["googleSearch"],Vx(c));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],Lx(d)),s(n,["enterpriseWebSearch"])!=null&&r(e,["enterpriseWebSearch"],kx());const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],Gx(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],zx());const g=s(n,["codeExecution"]);g!=null&&r(e,["codeExecution"],g);const v=s(n,["computerUse"]);return v!=null&&r(e,["computerUse"],v),e}function Fx(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["allowedFunctionNames"]);return a!=null&&r(e,["allowedFunctionNames"],a),e}function Hx(n){const e={},l=s(n,["latitude"]);l!=null&&r(e,["latitude"],l);const a=s(n,["longitude"]);return a!=null&&r(e,["longitude"],a),e}function Ox(n){const e={},l=s(n,["latLng"]);l!=null&&r(e,["latLng"],Hx(l));const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Yx(n){const e={},l=s(n,["functionCallingConfig"]);l!=null&&r(e,["functionCallingConfig"],Fx(l));const a=s(n,["retrievalConfig"]);return a!=null&&r(e,["retrievalConfig"],Ox(a)),e}function Jx(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function Kx(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],Jx(l)),e}function $x(n){const e={},l=s(n,["voiceConfig"]);if(l!=null&&r(e,["voiceConfig"],Kx(l)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=s(n,["languageCode"]);return a!=null&&r(e,["languageCode"],a),e}function Xx(n){const e={},l=s(n,["includeThoughts"]);l!=null&&r(e,["includeThoughts"],l);const a=s(n,["thinkingBudget"]);return a!=null&&r(e,["thinkingBudget"],a),e}function Qx(n,e,l){const a={},c=s(e,["systemInstruction"]);l!==void 0&&c!=null&&r(l,["systemInstruction"],El(Rt(c)));const d=s(e,["temperature"]);d!=null&&r(a,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(a,["topP"],m);const h=s(e,["topK"]);h!=null&&r(a,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(a,["candidateCount"],y);const g=s(e,["maxOutputTokens"]);g!=null&&r(a,["maxOutputTokens"],g);const v=s(e,["stopSequences"]);v!=null&&r(a,["stopSequences"],v);const T=s(e,["responseLogprobs"]);T!=null&&r(a,["responseLogprobs"],T);const x=s(e,["logprobs"]);x!=null&&r(a,["logprobs"],x);const E=s(e,["presencePenalty"]);E!=null&&r(a,["presencePenalty"],E);const R=s(e,["frequencyPenalty"]);R!=null&&r(a,["frequencyPenalty"],R);const N=s(e,["seed"]);N!=null&&r(a,["seed"],N);const D=s(e,["responseMimeType"]);D!=null&&r(a,["responseMimeType"],D);const B=s(e,["responseSchema"]);B!=null&&r(a,["responseSchema"],Nx(Ru(B)));const L=s(e,["responseJsonSchema"]);L!=null&&r(a,["responseJsonSchema"],L);const z=s(e,["routingConfig"]);z!=null&&r(a,["routingConfig"],z);const $=s(e,["modelSelectionConfig"]);$!=null&&r(a,["modelConfig"],Dx($));const G=s(e,["safetySettings"]);if(l!==void 0&&G!=null){let W=G;Array.isArray(W)&&(W=W.map(I=>wx(I))),r(l,["safetySettings"],W)}const Q=s(e,["tools"]);if(l!==void 0&&Q!=null){let W=xl(Q);Array.isArray(W)&&(W=W.map(I=>mp(Sl(I)))),r(l,["tools"],W)}const ee=s(e,["toolConfig"]);l!==void 0&&ee!=null&&r(l,["toolConfig"],Yx(ee));const de=s(e,["labels"]);l!==void 0&&de!=null&&r(l,["labels"],de);const ie=s(e,["cachedContent"]);l!==void 0&&ie!=null&&r(l,["cachedContent"],Vn(n,ie));const ue=s(e,["responseModalities"]);ue!=null&&r(a,["responseModalities"],ue);const ce=s(e,["mediaResolution"]);ce!=null&&r(a,["mediaResolution"],ce);const J=s(e,["speechConfig"]);J!=null&&r(a,["speechConfig"],$x(bu(J)));const _e=s(e,["audioTimestamp"]);_e!=null&&r(a,["audioTimestamp"],_e);const xe=s(e,["thinkingConfig"]);return xe!=null&&r(a,["thinkingConfig"],Xx(xe)),a}function wh(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);if(c!=null){let m=ln(c);Array.isArray(m)&&(m=m.map(h=>El(h))),r(l,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(l,["generationConfig"],Qx(n,d,l)),l}function Zx(n,e){const l={},a=s(n,["taskType"]);e!==void 0&&a!=null&&r(e,["instances[]","task_type"],a);const c=s(n,["title"]);e!==void 0&&c!=null&&r(e,["instances[]","title"],c);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const h=s(n,["autoTruncate"]);return e!==void 0&&h!=null&&r(e,["parameters","autoTruncate"],h),l}function Wx(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);c!=null&&r(l,["instances[]","content"],Xh(n,c));const d=s(e,["config"]);return d!=null&&r(l,["config"],Zx(d,l)),l}function jx(n,e){const l={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const T=s(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&r(e,["parameters","includeSafetyAttributes"],T);const x=s(n,["includeRaiReason"]);e!==void 0&&x!=null&&r(e,["parameters","includeRaiReason"],x);const E=s(n,["language"]);e!==void 0&&E!=null&&r(e,["parameters","language"],E);const R=s(n,["outputMimeType"]);e!==void 0&&R!=null&&r(e,["parameters","outputOptions","mimeType"],R);const N=s(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","compressionQuality"],N);const D=s(n,["addWatermark"]);e!==void 0&&D!=null&&r(e,["parameters","addWatermark"],D);const B=s(n,["imageSize"]);e!==void 0&&B!=null&&r(e,["parameters","sampleImageSize"],B);const L=s(n,["enhancePrompt"]);return e!==void 0&&L!=null&&r(e,["parameters","enhancePrompt"],L),l}function e_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["config"]);return d!=null&&r(l,["config"],jx(d,l)),l}function Za(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["imageBytes"]);a!=null&&r(e,["bytesBase64Encoded"],Ni(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function t_(n){const e={},l=s(n,["maskMode"]);l!=null&&r(e,["maskMode"],l);const a=s(n,["segmentationClasses"]);a!=null&&r(e,["maskClasses"],a);const c=s(n,["maskDilation"]);return c!=null&&r(e,["dilation"],c),e}function n_(n){const e={},l=s(n,["controlType"]);l!=null&&r(e,["controlType"],l);const a=s(n,["enableControlImageComputation"]);return a!=null&&r(e,["computeControl"],a),e}function i_(n){const e={},l=s(n,["styleDescription"]);return l!=null&&r(e,["styleDescription"],l),e}function l_(n){const e={},l=s(n,["subjectType"]);l!=null&&r(e,["subjectType"],l);const a=s(n,["subjectDescription"]);return a!=null&&r(e,["subjectDescription"],a),e}function o_(n){const e={},l=s(n,["referenceImage"]);l!=null&&r(e,["referenceImage"],Za(l));const a=s(n,["referenceId"]);a!=null&&r(e,["referenceId"],a);const c=s(n,["referenceType"]);c!=null&&r(e,["referenceType"],c);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],t_(d));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],n_(m));const h=s(n,["styleImageConfig"]);h!=null&&r(e,["styleImageConfig"],i_(h));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],l_(y)),e}function a_(n,e){const l={},a=s(n,["outputGcsUri"]);e!==void 0&&a!=null&&r(e,["parameters","storageUri"],a);const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&r(e,["parameters","negativePrompt"],c);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const g=s(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&r(e,["parameters","safetySetting"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const T=s(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&r(e,["parameters","includeSafetyAttributes"],T);const x=s(n,["includeRaiReason"]);e!==void 0&&x!=null&&r(e,["parameters","includeRaiReason"],x);const E=s(n,["language"]);e!==void 0&&E!=null&&r(e,["parameters","language"],E);const R=s(n,["outputMimeType"]);e!==void 0&&R!=null&&r(e,["parameters","outputOptions","mimeType"],R);const N=s(n,["outputCompressionQuality"]);e!==void 0&&N!=null&&r(e,["parameters","outputOptions","compressionQuality"],N);const D=s(n,["addWatermark"]);e!==void 0&&D!=null&&r(e,["parameters","addWatermark"],D);const B=s(n,["editMode"]);e!==void 0&&B!=null&&r(e,["parameters","editMode"],B);const L=s(n,["baseSteps"]);return e!==void 0&&L!=null&&r(e,["parameters","editConfig","baseSteps"],L),l}function s_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>o_(y))),r(l,["instances[0]","referenceImages"],h)}const m=s(e,["config"]);return m!=null&&r(l,["config"],a_(m,l)),l}function r_(n,e){const l={},a=s(n,["includeRaiReason"]);e!==void 0&&a!=null&&r(e,["parameters","includeRaiReason"],a);const c=s(n,["outputMimeType"]);e!==void 0&&c!=null&&r(e,["parameters","outputOptions","mimeType"],c);const d=s(n,["outputCompressionQuality"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","compressionQuality"],d);const m=s(n,["enhanceInputImage"]);e!==void 0&&m!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],m);const h=s(n,["imagePreservationFactor"]);e!==void 0&&h!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const y=s(n,["numberOfImages"]);e!==void 0&&y!=null&&r(e,["parameters","sampleCount"],y);const g=s(n,["mode"]);return e!==void 0&&g!=null&&r(e,["parameters","mode"],g),l}function u_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["image"]);c!=null&&r(l,["instances[0]","image"],Za(c));const d=s(e,["upscaleFactor"]);d!=null&&r(l,["parameters","upscaleConfig","upscaleFactor"],d);const m=s(e,["config"]);return m!=null&&r(l,["config"],r_(m,l)),l}function c_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function f_(n,e,l){const a={},c=s(e,["pageSize"]);l!==void 0&&c!=null&&r(l,["_query","pageSize"],c);const d=s(e,["pageToken"]);l!==void 0&&d!=null&&r(l,["_query","pageToken"],d);const m=s(e,["filter"]);l!==void 0&&m!=null&&r(l,["_query","filter"],m);const h=s(e,["queryBase"]);return l!==void 0&&h!=null&&r(l,["_url","models_url"],Wh(n,h)),a}function d_(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],f_(n,a,l)),l}function m_(n,e){const l={},a=s(n,["displayName"]);e!==void 0&&a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);e!==void 0&&c!=null&&r(e,["description"],c);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),l}function h_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],m_(c,l)),l}function p_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","name"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],c),l}function g_(n,e){const l={},a=s(n,["systemInstruction"]);e!==void 0&&a!=null&&r(e,["systemInstruction"],El(Rt(a)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>mp(h))),r(e,["tools"],m)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),l}function y_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);if(c!=null){let m=ln(c);Array.isArray(m)&&(m=m.map(h=>El(h))),r(l,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(l,["config"],g_(d,l)),l}function v_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["contents"]);if(c!=null){let m=ln(c);Array.isArray(m)&&(m=m.map(h=>El(h))),r(l,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(l,["config"],d),l}function T_(n){const e={},l=s(n,["uri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["videoBytes"]);a!=null&&r(e,["bytesBase64Encoded"],Ni(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function C_(n,e){const l={},a=s(n,["numberOfVideos"]);e!==void 0&&a!=null&&r(e,["parameters","sampleCount"],a);const c=s(n,["outputGcsUri"]);e!==void 0&&c!=null&&r(e,["parameters","storageUri"],c);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const h=s(n,["seed"]);e!==void 0&&h!=null&&r(e,["parameters","seed"],h);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const g=s(n,["resolution"]);e!==void 0&&g!=null&&r(e,["parameters","resolution"],g);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const T=s(n,["pubsubTopic"]);e!==void 0&&T!=null&&r(e,["parameters","pubsubTopic"],T);const x=s(n,["negativePrompt"]);e!==void 0&&x!=null&&r(e,["parameters","negativePrompt"],x);const E=s(n,["enhancePrompt"]);e!==void 0&&E!=null&&r(e,["parameters","enhancePrompt"],E);const R=s(n,["generateAudio"]);e!==void 0&&R!=null&&r(e,["parameters","generateAudio"],R);const N=s(n,["lastFrame"]);e!==void 0&&N!=null&&r(e,["instances[0]","lastFrame"],Za(N));const D=s(n,["compressionQuality"]);return e!==void 0&&D!=null&&r(e,["parameters","compressionQuality"],D),l}function S_(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["_url","model"],Pe(n,a));const c=s(e,["prompt"]);c!=null&&r(l,["instances[0]","prompt"],c);const d=s(e,["image"]);d!=null&&r(l,["instances[0]","image"],Za(d));const m=s(e,["video"]);m!=null&&r(l,["instances[0]","video"],T_(m));const h=s(e,["config"]);return h!=null&&r(l,["config"],C_(h,l)),l}function x_(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function __(n){const e={},l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function E_(n){const e={},l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function A_(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],x_(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],__(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],E_(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function M_(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>A_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function R_(n){const e={},l=s(n,["citationSources"]);return l!=null&&r(e,["citations"],l),e}function b_(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function N_(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>b_(c))),r(e,["urlMetadata"],a)}return e}function D_(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],M_(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],R_(a));const c=s(n,["tokenCount"]);c!=null&&r(e,["tokenCount"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],N_(m));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const g=s(n,["index"]);g!=null&&r(e,["index"],g);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const T=s(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Ih(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>D_(y))),r(e,["candidates"],h)}const c=s(n,["modelVersion"]);c!=null&&r(e,["modelVersion"],c);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["usageMetadata"]);return m!=null&&r(e,["usageMetadata"],m),e}function w_(n){const e={},l=s(n,["values"]);return l!=null&&r(e,["values"],l),e}function I_(){return{}}function U_(n){const e={},l=s(n,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>w_(d))),r(e,["embeddings"],c)}return s(n,["metadata"])!=null&&r(e,["metadata"],I_()),e}function V_(n){const e={},l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Ni(l));const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function hp(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function q_(n){const e={},l=s(n,["_self"]);l!=null&&r(e,["image"],V_(l));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);return c!=null&&r(e,["safetyAttributes"],hp(c)),e}function L_(n){const e={},l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>q_(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],hp(a)),e}function k_(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function Su(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],k_(m));const h=s(n,["inputTokenLimit"]);h!=null&&r(e,["inputTokenLimit"],h);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const g=s(n,["supportedGenerationMethods"]);return g!=null&&r(e,["supportedActions"],g),e}function B_(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=jh(c);Array.isArray(d)&&(d=d.map(m=>Su(m))),r(e,["models"],d)}return e}function P_(){return{}}function G_(n){const e={},l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const a=s(n,["cachedContentTokenCount"]);return a!=null&&r(e,["cachedContentTokenCount"],a),e}function z_(n){const e={},l=s(n,["video","uri"]);l!=null&&r(e,["uri"],l);const a=s(n,["video","encodedVideo"]);a!=null&&r(e,["videoBytes"],Ni(a));const c=s(n,["encoding"]);return c!=null&&r(e,["mimeType"],c),e}function F_(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],z_(l)),e}function H_(n){const e={},l=s(n,["generatedSamples"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>F_(m))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function O_(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],H_(m)),e}function Y_(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function J_(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["data"]);a!=null&&r(e,["data"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function K_(n){const e={},l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const a=s(n,["fileUri"]);a!=null&&r(e,["fileUri"],a);const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function $_(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],Y_(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],J_(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],K_(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function X_(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>$_(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function Q_(n){const e={},l=s(n,["citations"]);return l!=null&&r(e,["citations"],l),e}function Z_(n){const e={},l=s(n,["retrievedUrl"]);l!=null&&r(e,["retrievedUrl"],l);const a=s(n,["urlRetrievalStatus"]);return a!=null&&r(e,["urlRetrievalStatus"],a),e}function W_(n){const e={},l=s(n,["urlMetadata"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Z_(c))),r(e,["urlMetadata"],a)}return e}function j_(n){const e={},l=s(n,["content"]);l!=null&&r(e,["content"],X_(l));const a=s(n,["citationMetadata"]);a!=null&&r(e,["citationMetadata"],Q_(a));const c=s(n,["finishMessage"]);c!=null&&r(e,["finishMessage"],c);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],W_(m));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const g=s(n,["index"]);g!=null&&r(e,["index"],g);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const T=s(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Uh(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>j_(v))),r(e,["candidates"],g)}const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["responseId"]);d!=null&&r(e,["responseId"],d);const m=s(n,["modelVersion"]);m!=null&&r(e,["modelVersion"],m);const h=s(n,["promptFeedback"]);h!=null&&r(e,["promptFeedback"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function eE(n){const e={},l=s(n,["truncated"]);l!=null&&r(e,["truncated"],l);const a=s(n,["token_count"]);return a!=null&&r(e,["tokenCount"],a),e}function tE(n){const e={},l=s(n,["values"]);l!=null&&r(e,["values"],l);const a=s(n,["statistics"]);return a!=null&&r(e,["statistics"],eE(a)),e}function nE(n){const e={},l=s(n,["billableCharacterCount"]);return l!=null&&r(e,["billableCharacterCount"],l),e}function iE(n){const e={},l=s(n,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>tE(d))),r(e,["embeddings"],c)}const a=s(n,["metadata"]);return a!=null&&r(e,["metadata"],nE(a)),e}function lE(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["gcsUri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["imageBytes"],Ni(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function pp(n){const e={},l=s(n,["safetyAttributes","categories"]);l!=null&&r(e,["categories"],l);const a=s(n,["safetyAttributes","scores"]);a!=null&&r(e,["scores"],a);const c=s(n,["contentType"]);return c!=null&&r(e,["contentType"],c),e}function Du(n){const e={},l=s(n,["_self"]);l!=null&&r(e,["image"],lE(l));const a=s(n,["raiFilteredReason"]);a!=null&&r(e,["raiFilteredReason"],a);const c=s(n,["_self"]);c!=null&&r(e,["safetyAttributes"],pp(c));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function oE(n){const e={},l=s(n,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Du(d))),r(e,["generatedImages"],c)}const a=s(n,["positivePromptSafetyAttributes"]);return a!=null&&r(e,["positivePromptSafetyAttributes"],pp(a)),e}function aE(n){const e={},l=s(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Du(c))),r(e,["generatedImages"],a)}return e}function sE(n){const e={},l=s(n,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>Du(c))),r(e,["generatedImages"],a)}return e}function rE(n){const e={},l=s(n,["endpoint"]);l!=null&&r(e,["name"],l);const a=s(n,["deployedModelId"]);return a!=null&&r(e,["deployedModelId"],a),e}function uE(n){const e={},l=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["createTime"]);a!=null&&r(e,["createTime"],a);const c=s(n,["updateTime"]);return c!=null&&r(e,["updateTime"],c),e}function cE(n){const e={},l=s(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);return c!=null&&r(e,["step"],c),e}function xu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["displayName"]);a!=null&&r(e,["displayName"],a);const c=s(n,["description"]);c!=null&&r(e,["description"],c);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const m=s(n,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(x=>rE(x))),r(e,["endpoints"],T)}const h=s(n,["labels"]);h!=null&&r(e,["labels"],h);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],uE(y));const g=s(n,["defaultCheckpointId"]);g!=null&&r(e,["defaultCheckpointId"],g);const v=s(n,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>cE(x))),r(e,["checkpoints"],T)}return e}function fE(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["_self"]);if(c!=null){let d=jh(c);Array.isArray(d)&&(d=d.map(m=>xu(m))),r(e,["models"],d)}return e}function dE(){return{}}function mE(n){const e={},l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function hE(n){const e={},l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function pE(n){const e={},l=s(n,["gcsUri"]);l!=null&&r(e,["uri"],l);const a=s(n,["bytesBase64Encoded"]);a!=null&&r(e,["videoBytes"],Ni(a));const c=s(n,["mimeType"]);return c!=null&&r(e,["mimeType"],c),e}function gE(n){const e={},l=s(n,["_self"]);return l!=null&&r(e,["video"],pE(l)),e}function yE(n){const e={},l=s(n,["videos"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>gE(m))),r(e,["generatedVideos"],d)}const a=s(n,["raiMediaFilteredCount"]);a!=null&&r(e,["raiMediaFilteredCount"],a);const c=s(n,["raiMediaFilteredReasons"]);return c!=null&&r(e,["raiMediaFilteredReasons"],c),e}function vE(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response"]);return m!=null&&r(e,["response"],yE(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TE="Content-Type",CE="X-Server-Timeout",SE="User-Agent",_u="x-goog-api-client",xE="1.11.0",_E=`google-genai-sdk/${xE}`,EE="v1beta1",AE="v1beta",Vh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ME{constructor(e){var l,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const c={};this.clientOptions.vertexai?(c.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:EE,c.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:AE,c.baseUrl="https://generativelanguage.googleapis.com/"),c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,a){const c=[this.getRequestUrlInternal(l)];return a&&c.push(this.getBaseResourcePath()),e!==""&&c.push(e),new URL(`${c.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,a);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))c.searchParams.append(m,String(h));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.unaryApiCall(c,d,e.httpMethod)}patchHttpOptions(e,l){const a=JSON.parse(JSON.stringify(e));for(const[c,d]of Object.entries(l))typeof d=="object"?a[c]=Object.assign(Object.assign({},a[c]),d):d!==void 0&&(a[c]=d);return a}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),c=this.constructUrl(e.path,l,a);(!c.searchParams.has("alt")||c.searchParams.get("alt")!=="sse")&&c.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,l,e.abortSignal),this.streamApiCall(c,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,a){if(l&&l.timeout||a){const c=new AbortController,d=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const m=setTimeout(()=>c.abort(),l.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=d}return l&&l.extraBody!==null&&RE(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async c=>(await qh(c),new pu(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}async streamApiCall(e,l,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:a})).then(async c=>(await qh(c),this.processStreamResponse(c))).catch(c=>{throw c instanceof Error?c:new Error(JSON.stringify(c))})}processStreamResponse(e){var l;return Tl(this,arguments,function*(){const c=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),d=new TextDecoder("utf-8");if(!c)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield $e(c.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=d.decode(y,{stream:!0});try{const T=JSON.parse(g);if("error"in T){const x=JSON.parse(JSON.stringify(T.error)),E=x.status,R=x.code,N=`got status: ${E}. ${JSON.stringify(T)}`;if(R>=400&&R<600)throw new Xa({message:N,status:R})}}catch(T){if(T.name==="ApiError")throw T}m+=g;let v=m.match(Vh);for(;v;){const T=v[1];try{const x=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield $e(new pu(x)),m=m.slice(v[0].length),v=m.match(Vh)}catch(x){throw new Error(`exception parsing stream chunk ${T}. ${x}`)}}}}finally{c.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},l=_E+" "+this.clientOptions.userAgentExtra;return e[SE]=l,e[_u]=l,e[TE]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))l.append(a,c);e.timeout&&e.timeout>0&&l.append(CE,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var a;const c={};l!=null&&(c.mimeType=l.mimeType,c.name=l.name,c.displayName=l.displayName),c.name&&!c.name.startsWith("files/")&&(c.name=`files/${c.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);c.sizeBytes=String(m.size);const h=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");c.mimeType=h;const y=await this.fetchUploadUrl(c,l);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var a;let c={};l!=null&&l.httpOptions?c=l.httpOptions:c={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:me("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:c});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function qh(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let a;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const c=JSON.stringify(a);throw l>=400&&l<600?new Xa({message:c,status:l}):new Error(c)}}function RE(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))l=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,m){const h=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const g=m[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const c=a(l,e);n.body=JSON.stringify(c)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bE="mcp_used/unknown";let NE=!1;function gp(n){for(const e of n)if(DE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return NE}function yp(n){var e;const l=(e=n[_u])!==null&&e!==void 0?e:"";n[_u]=(l+` ${bE}`).trimStart()}function DE(n){return n!==null&&typeof n=="object"&&n instanceof wu}function wE(n,e=100){return Tl(this,arguments,function*(){let a,c=0;for(;c<e;){const d=yield $e(n.listTools({cursor:a}));for(const m of d.tools)yield yield $e(m),c++;if(!d.nextCursor)break;a=d.nextCursor}})}class wu{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new wu(e,l)}async initialize(){var e,l,a,c;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var h=!0,y=(l=void 0,Ro(wE(v))),g;g=await y.next(),e=g.done,!e;h=!0){c=g.value,h=!1;const T=c;m.push(T);const x=T.name;if(d[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);d[x]=v}}catch(T){l={error:T}}finally{try{!h&&!e&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Mv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const c=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await c.callTool({name:a.name,arguments:a.args},void 0,d);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IE(n,e,l){const a=new vv;let c;l.data instanceof Blob?c=JSON.parse(await l.data.text()):c=JSON.parse(l.data);const d=MS(c);Object.assign(a,d),e(a)}class UE{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a}async connect(e){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=LE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(z=>{g=z}),T=e.callbacks,x=function(){g({})},E=this.apiClient,R={onopen:x,onmessage:z=>{IE(E,T.onmessage,z)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(z){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(z){}},N=this.webSocketFactory.create(y,qE(m),R);N.connect(),await v;const D=Pe(this.apiClient,e.model),B=cp({model:D}),L=Cu({setup:B});return N.send(JSON.stringify(L)),new VE(N,this.apiClient)}}class VE{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=EC(e),a=fp(l);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=AC(e),a=Cu(l);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const l=Cu({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(gl.PLAY)}pause(){this.sendPlaybackControl(gl.PAUSE)}stop(){this.sendPlaybackControl(gl.STOP)}resetContext(){this.sendPlaybackControl(gl.RESET_CONTEXT)}close(){this.conn.close()}}function qE(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function LE(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function BE(n,e,l){const a=new yv;let c;l.data instanceof Blob?c=await l.data.text():l.data instanceof ArrayBuffer?c=new TextDecoder().decode(l.data):c=l.data;const d=JSON.parse(c);if(n.isVertexAI()){const m=GS(d);Object.assign(a,m)}else{const m=yS(d);Object.assign(a,m)}e(a)}class PE{constructor(e,l,a){this.apiClient=e,this.auth=l,this.webSocketFactory=a,this.music=new UE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,a,c,d,m,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const T=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&gp(e.config.tools)&&yp(T);const x=HE(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const ie=this.apiClient.getApiKey();let ue="BidiGenerateContent",ce="key";ie!=null&&ie.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ue}?${ce}=${ie}`}let E=()=>{};const R=new Promise(ie=>{E=ie}),N=e.callbacks,D=function(){var ie;(ie=N==null?void 0:N.onopen)===null||ie===void 0||ie.call(N),E({})},B=this.apiClient,L={onopen:D,onmessage:ie=>{BE(B,N.onmessage,ie)},onerror:(l=N==null?void 0:N.onerror)!==null&&l!==void 0?l:function(ie){},onclose:(a=N==null?void 0:N.onclose)!==null&&a!==void 0?a:function(ie){}},z=this.webSocketFactory.create(v,FE(x),L);z.connect(),await R;let $=Pe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const ie=this.apiClient.getProject(),ue=this.apiClient.getLocation();$=`projects/${ie}/locations/${ue}/`+$}let G={};this.apiClient.isVertexAI()&&((c=e.config)===null||c===void 0?void 0:c.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ja.AUDIO]}:e.config.responseModalities=[Ja.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Q=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],ee=[];for(const ie of Q)if(this.isCallableTool(ie)){const ue=ie;ee.push(await ue.tool())}else ee.push(ie);ee.length>0&&(e.config.tools=ee);const de={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?G=WC(this.apiClient,de):G=CC(this.apiClient,de),delete G.config,z.send(JSON.stringify(G)),new zE(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const GE={turnComplete:!0};class zE{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=ln(l.turns),e.isVertexAI()?a=a.map(c=>El(c)):a=a.map(c=>Qa(c))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(kE)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},GE),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:tS(e)}:l={realtimeInput:_C(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function FE(n){const e={};return n.forEach((l,a)=>{e[a]=l}),e}function HE(n){const e=new Headers;for(const[l,a]of Object.entries(n))e.append(l,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lh=10;function kh(n){var e,l,a;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let c=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(Cl(m)){c=!0;break}if(!c)return!0;const d=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Cl(n){return"callTool"in n&&typeof n.callTool=="function"}function OE(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>Cl(c)))!==null&&a!==void 0?a:!1}function YE(n){var e,l,a;return(a=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(c=>!Cl(c)))!==null&&a!==void 0?a:!1}function Bh(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JE extends bi{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var a,c,d,m,h;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!OE(l)||kh(l.config))return await this.generateContentInternal(y);if(YE(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const T=ln(y.contents),x=(d=(c=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||c===void 0?void 0:c.maximumRemoteCalls)!==null&&d!==void 0?d:Lh;let E=0;for(;E<x&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const R=g.candidates[0].content,N=[];for(const D of(h=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(Cl(D)){const L=await D.callTool(g.functionCalls);N.push(...L)}E++,v={role:"user",parts:N},y.contents=ln(y.contents),y.contents.push(R),y.contents.push(v),Bh(y.config)&&(T.push(R),T.push(v))}return Bh(y.config)&&(g.automaticFunctionCallingHistory=T),g},this.generateContentStream=async l=>{if(this.maybeMoveToResponseJsonSchem(l),kh(l.config)){const a=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var c;let d;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((c=y==null?void 0:y.safetyAttributes)===null||c===void 0?void 0:c.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let h;return d?h={generatedImages:m,positivePromptSafetyAttributes:d}:h={generatedImages:m},h}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new bo(Ri.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(c=>c.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const c={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(c)},this.generateVideos=async l=>await this.generateVideosInternal(l)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var l,a,c;const d=(l=e.config)===null||l===void 0?void 0:l.tools;if(!d)return e;const m=await Promise.all(d.map(async y=>Cl(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&gp(e.config.tools)){const y=(c=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&c!==void 0?c:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),yp(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var l,a,c;const d=new Map;for(const m of(a=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Cl(m)){const h=m,y=await h.tool();for(const g of(c=y.functionDeclarations)!==null&&c!==void 0?c:[]){if(!g.name)throw new Error("Function declaration name is required.");if(d.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);d.set(g.name,h)}}return d}async processAfcStream(e){var l,a,c;const d=(c=(a=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:Lh;let m=!1,h=0;const y=await this.initAfcToolsMap(e);return function(g,v,T){var x,E;return Tl(this,arguments,function*(){for(var R,N,D,B;h<d;){m&&(h++,m=!1);const G=yield $e(g.processParamsMaybeAddMcpUsage(T)),Q=yield $e(g.generateContentStreamInternal(G)),ee=[],de=[];try{for(var L=!0,z=(N=void 0,Ro(Q)),$;$=yield $e(z.next()),R=$.done,!R;L=!0){B=$.value,L=!1;const ie=B;if(yield yield $e(ie),ie.candidates&&(!((x=ie.candidates[0])===null||x===void 0)&&x.content)){de.push(ie.candidates[0].content);for(const ue of(E=ie.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(h<d&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const ce=yield $e(v.get(ue.functionCall.name).callTool([ue.functionCall]));ee.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(ie){N={error:ie}}finally{try{!L&&!R&&(D=z.return)&&(yield $e(D.call(z)))}finally{if(N)throw N.error}}if(ee.length>0){m=!0;const ie=new Mo;ie.candidates=[{content:{role:"user",parts:ee}}],yield yield $e(ie);const ue=[];ue.push(...de),ue.push({role:"user",parts:ee});const ce=ln(T.contents).concat(ue);T.contents=ce}else break}})}(this,y,e)}async generateContentInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=wh(this.apiClient,e);return h=me("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=Uh(v),x=new Mo;return Object.assign(x,T),x})}else{const g=Dh(this.apiClient,e);return h=me("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=Ih(v),x=new Mo;return Object.assign(x,T),x})}}async generateContentStreamInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=wh(this.apiClient,e);return h=me("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(T){return Tl(this,arguments,function*(){var x,E,R,N;try{for(var D=!0,B=Ro(T),L;L=yield $e(B.next()),x=L.done,!x;D=!0){N=L.value,D=!1;const z=N,$=Uh(yield $e(z.json()));$.sdkHttpResponse={headers:z.headers};const G=new Mo;Object.assign(G,$),yield yield $e(G)}}catch(z){E={error:z}}finally{try{!D&&!x&&(R=B.return)&&(yield $e(R.call(B)))}finally{if(E)throw E.error}}})})}else{const g=Dh(this.apiClient,e);return h=me("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(T){return Tl(this,arguments,function*(){var x,E,R,N;try{for(var D=!0,B=Ro(T),L;L=yield $e(B.next()),x=L.done,!x;D=!0){N=L.value,D=!1;const z=N,$=Ih(yield $e(z.json()));$.sdkHttpResponse={headers:z.headers};const G=new Mo;Object.assign(G,$),yield yield $e(G)}}catch(z){E={error:z}}finally{try{!D&&!x&&(R=B.return)&&(yield $e(R.call(B)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=Wx(this.apiClient,e);return h=me("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const T=iE(v),x=new uh;return Object.assign(x,T),x})}else{const g=fx(this.apiClient,e);return h=me("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const T=U_(v),x=new uh;return Object.assign(x,T),x})}}async generateImagesInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=e_(this.apiClient,e);return h=me("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const T=oE(v),x=new ch;return Object.assign(x,T),x})}else{const g=mx(this.apiClient,e);return h=me("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const T=L_(v),x=new ch;return Object.assign(x,T),x})}}async editImageInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=s_(this.apiClient,e);return d=me("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const g=aE(y),v=new fv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=u_(this.apiClient,e);return d=me("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const g=sE(y),v=new dv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=c_(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>xu(v))}else{const g=hx(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Su(v))}}async listInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=d_(this.apiClient,e);return h=me("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=fE(v),x=new fh;return Object.assign(x,T),x})}else{const g=gx(this.apiClient,e);return h=me("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=B_(v),x=new fh;return Object.assign(x,T),x})}}async update(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=h_(this.apiClient,e);return h=me("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>xu(v))}else{const g=vx(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Su(v))}}async delete(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=p_(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(()=>{const v=dE(),T=new dh;return Object.assign(T,v),T})}else{const g=Tx(this.apiClient,e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(()=>{const v=P_(),T=new dh;return Object.assign(T,v),T})}}async countTokens(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=y_(this.apiClient,e);return h=me("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const T=mE(v),x=new mh;return Object.assign(x,T),x})}else{const g=Sx(this.apiClient,e);return h=me("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const T=G_(v),x=new mh;return Object.assign(x,T),x})}}async computeTokens(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=v_(this.apiClient,e);return d=me("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>{const g=hE(y),v=new mv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=S_(this.apiClient,e);return h=me("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const T=vE(v),x=new Ka;return Object.assign(x,T),x})}else{const g=Ex(this.apiClient,e);return h=me("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const T=O_(v),x=new Ka;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KE(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function $E(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["_url","operationName"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function XE(n){const e={},l=s(n,["operationName"]);l!=null&&r(e,["operationName"],l);const a=s(n,["resourceName"]);a!=null&&r(e,["_url","resourceName"],a);const c=s(n,["config"]);return c!=null&&r(e,["config"],c),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QE extends bi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async get(e){const l=e.operation,a=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const c=l.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:c,config:{httpOptions:d}});return l._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const c=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:c,isVertexAI:!1})}}async getVideosOperationInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=$E(e);return h=me("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m}else{const g=KE(e);return h=me("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=XE(e);return d=me("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZE(n){const e={},l=s(n,["voiceName"]);return l!=null&&r(e,["voiceName"],l),e}function vp(n){const e={},l=s(n,["prebuiltVoiceConfig"]);return l!=null&&r(e,["prebuiltVoiceConfig"],ZE(l)),e}function WE(n){const e={},l=s(n,["speaker"]);l!=null&&r(e,["speaker"],l);const a=s(n,["voiceConfig"]);return a!=null&&r(e,["voiceConfig"],vp(a)),e}function jE(n){const e={},l=s(n,["speakerVoiceConfigs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>WE(c))),r(e,["speakerVoiceConfigs"],a)}return e}function eA(n){const e={},l=s(n,["voiceConfig"]);l!=null&&r(e,["voiceConfig"],vp(l));const a=s(n,["multiSpeakerVoiceConfig"]);a!=null&&r(e,["multiSpeakerVoiceConfig"],jE(a));const c=s(n,["languageCode"]);return c!=null&&r(e,["languageCode"],c),e}function tA(n){const e={},l=s(n,["fps"]);l!=null&&r(e,["fps"],l);const a=s(n,["endOffset"]);a!=null&&r(e,["endOffset"],a);const c=s(n,["startOffset"]);return c!=null&&r(e,["startOffset"],c),e}function nA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["data"]);l!=null&&r(e,["data"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function iA(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const a=s(n,["mimeType"]);return a!=null&&r(e,["mimeType"],a),e}function lA(n){const e={},l=s(n,["videoMetadata"]);l!=null&&r(e,["videoMetadata"],tA(l));const a=s(n,["thought"]);a!=null&&r(e,["thought"],a);const c=s(n,["inlineData"]);c!=null&&r(e,["inlineData"],nA(c));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],iA(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["codeExecutionResult"]);h!=null&&r(e,["codeExecutionResult"],h);const y=s(n,["executableCode"]);y!=null&&r(e,["executableCode"],y);const g=s(n,["functionCall"]);g!=null&&r(e,["functionCall"],g);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function oA(n){const e={},l=s(n,["parts"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>lA(d))),r(e,["parts"],c)}const a=s(n,["role"]);return a!=null&&r(e,["role"],a),e}function aA(n){const e={},l=s(n,["behavior"]);l!=null&&r(e,["behavior"],l);const a=s(n,["description"]);a!=null&&r(e,["description"],a);const c=s(n,["name"]);c!=null&&r(e,["name"],c);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function sA(n){const e={},l=s(n,["startTime"]);l!=null&&r(e,["startTime"],l);const a=s(n,["endTime"]);return a!=null&&r(e,["endTime"],a),e}function rA(n){const e={},l=s(n,["timeRangeFilter"]);return l!=null&&r(e,["timeRangeFilter"],sA(l)),e}function uA(n){const e={},l=s(n,["mode"]);l!=null&&r(e,["mode"],l);const a=s(n,["dynamicThreshold"]);return a!=null&&r(e,["dynamicThreshold"],a),e}function cA(n){const e={},l=s(n,["dynamicRetrievalConfig"]);return l!=null&&r(e,["dynamicRetrievalConfig"],uA(l)),e}function fA(){return{}}function dA(n){const e={},l=s(n,["functionDeclarations"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(g=>aA(g))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=s(n,["googleSearch"]);a!=null&&r(e,["googleSearch"],rA(a));const c=s(n,["googleSearchRetrieval"]);if(c!=null&&r(e,["googleSearchRetrieval"],cA(c)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],fA());const m=s(n,["codeExecution"]);m!=null&&r(e,["codeExecution"],m);const h=s(n,["computerUse"]);return h!=null&&r(e,["computerUse"],h),e}function mA(n){const e={},l=s(n,["handle"]);if(l!=null&&r(e,["handle"],l),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Ph(){return{}}function hA(n){const e={},l=s(n,["disabled"]);l!=null&&r(e,["disabled"],l);const a=s(n,["startOfSpeechSensitivity"]);a!=null&&r(e,["startOfSpeechSensitivity"],a);const c=s(n,["endOfSpeechSensitivity"]);c!=null&&r(e,["endOfSpeechSensitivity"],c);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function pA(n){const e={},l=s(n,["automaticActivityDetection"]);l!=null&&r(e,["automaticActivityDetection"],hA(l));const a=s(n,["activityHandling"]);a!=null&&r(e,["activityHandling"],a);const c=s(n,["turnCoverage"]);return c!=null&&r(e,["turnCoverage"],c),e}function gA(n){const e={},l=s(n,["targetTokens"]);return l!=null&&r(e,["targetTokens"],l),e}function yA(n){const e={},l=s(n,["triggerTokens"]);l!=null&&r(e,["triggerTokens"],l);const a=s(n,["slidingWindow"]);return a!=null&&r(e,["slidingWindow"],gA(a)),e}function vA(n){const e={},l=s(n,["proactiveAudio"]);return l!=null&&r(e,["proactiveAudio"],l),e}function TA(n,e){const l={},a=s(n,["generationConfig"]);e!==void 0&&a!=null&&r(e,["setup","generationConfig"],a);const c=s(n,["responseModalities"]);e!==void 0&&c!=null&&r(e,["setup","generationConfig","responseModalities"],c);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const g=s(n,["mediaResolution"]);e!==void 0&&g!=null&&r(e,["setup","generationConfig","mediaResolution"],g);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],eA(Nu(T)));const x=s(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const E=s(n,["systemInstruction"]);e!==void 0&&E!=null&&r(e,["setup","systemInstruction"],oA(Rt(E)));const R=s(n,["tools"]);if(e!==void 0&&R!=null){let G=xl(R);Array.isArray(G)&&(G=G.map(Q=>dA(Sl(Q)))),r(e,["setup","tools"],G)}const N=s(n,["sessionResumption"]);e!==void 0&&N!=null&&r(e,["setup","sessionResumption"],mA(N));const D=s(n,["inputAudioTranscription"]);e!==void 0&&D!=null&&r(e,["setup","inputAudioTranscription"],Ph());const B=s(n,["outputAudioTranscription"]);e!==void 0&&B!=null&&r(e,["setup","outputAudioTranscription"],Ph());const L=s(n,["realtimeInputConfig"]);e!==void 0&&L!=null&&r(e,["setup","realtimeInputConfig"],pA(L));const z=s(n,["contextWindowCompression"]);e!==void 0&&z!=null&&r(e,["setup","contextWindowCompression"],yA(z));const $=s(n,["proactivity"]);return e!==void 0&&$!=null&&r(e,["setup","proactivity"],vA($)),l}function CA(n,e){const l={},a=s(e,["model"]);a!=null&&r(l,["setup","model"],Pe(n,a));const c=s(e,["config"]);return c!=null&&r(l,["config"],TA(c,l)),l}function SA(n,e,l){const a={},c=s(e,["expireTime"]);l!==void 0&&c!=null&&r(l,["expireTime"],c);const d=s(e,["newSessionExpireTime"]);l!==void 0&&d!=null&&r(l,["newSessionExpireTime"],d);const m=s(e,["uses"]);l!==void 0&&m!=null&&r(l,["uses"],m);const h=s(e,["liveConnectConstraints"]);l!==void 0&&h!=null&&r(l,["bidiGenerateContentSetup"],CA(n,h));const y=s(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&r(l,["fieldMask"],y),a}function xA(n,e){const l={},a=s(e,["config"]);return a!=null&&r(l,["config"],SA(n,a,l)),l}function _A(n){const e={},l=s(n,["name"]);return l!=null&&r(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EA(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const a=n[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const c=Object.keys(a).map(d=>`${l}.${d}`);e.push(...c)}else e.push(l)}return e.join(",")}function AA(n,e){let l=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,l=d):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const c=n.fieldMask;if(l){const d=EA(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&c!==null&&Array.isArray(c)&&c.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];c.length>0&&(h=c.map(g=>m.includes(g)?`generationConfig.${g}`:g));const y=[];d&&y.push(d),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else c!==null&&Array.isArray(c)&&c.length>0?n.fieldMask=c.join(","):delete n.fieldMask;return n}class MA extends bi{constructor(e){super(),this.apiClient=e}async create(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=xA(this.apiClient,e);d=me("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=AA(h,e.config);return c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),c.then(g=>_A(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","name"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function bA(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function NA(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],bA(l,e)),e}function DA(n){const e={},l=s(n,["textInput"]);l!=null&&r(e,["textInput"],l);const a=s(n,["output"]);return a!=null&&r(e,["output"],a),e}function wA(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=s(n,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(c=>DA(c))),r(e,["examples","examples"],a)}return e}function IA(n,e){const l={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=s(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&r(e,["displayName"],a),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=s(n,["epochCount"]);e!==void 0&&c!=null&&r(e,["tuningTask","hyperparameters","epochCount"],c);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(l,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const h=s(n,["learningRate"]);return e!==void 0&&h!=null&&r(e,["tuningTask","hyperparameters","learningRate"],h),l}function UA(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["trainingDataset"]);a!=null&&r(e,["tuningTask","trainingData"],wA(a));const c=s(n,["config"]);return c!=null&&r(e,["config"],IA(c,e)),e}function VA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["_url","name"],l);const a=s(n,["config"]);return a!=null&&r(e,["config"],a),e}function qA(n,e){const l={},a=s(n,["pageSize"]);e!==void 0&&a!=null&&r(e,["_query","pageSize"],a);const c=s(n,["pageToken"]);e!==void 0&&c!=null&&r(e,["_query","pageToken"],c);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),l}function LA(n){const e={},l=s(n,["config"]);return l!=null&&r(e,["config"],qA(l,e)),e}function kA(n,e){const l={},a=s(n,["gcsUri"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);if(e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function BA(n,e){const l={},a=s(n,["gcsUri"]);a!=null&&r(l,["validationDatasetUri"],a);const c=s(n,["vertexDatasetResource"]);return e!==void 0&&c!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],c),l}function PA(n,e){const l={},a=s(n,["validationDataset"]);e!==void 0&&a!=null&&r(e,["supervisedTuningSpec"],BA(a,l));const c=s(n,["tunedModelDisplayName"]);e!==void 0&&c!=null&&r(e,["tunedModelDisplayName"],c);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const g=s(n,["adapterSize"]);if(e!==void 0&&g!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function GA(n){const e={},l=s(n,["baseModel"]);l!=null&&r(e,["baseModel"],l);const a=s(n,["trainingDataset"]);a!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],kA(a,e));const c=s(n,["config"]);return c!=null&&r(e,["config"],PA(c,e)),e}function zA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["model"],l);const a=s(n,["name"]);return a!=null&&r(e,["endpoint"],a),e}function Tp(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["state"]);a!=null&&r(e,["state"],Qh(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["tuningTask","startTime"]);d!=null&&r(e,["startTime"],d);const m=s(n,["tuningTask","completeTime"]);m!=null&&r(e,["endTime"],m);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["description"]);y!=null&&r(e,["description"],y);const g=s(n,["baseModel"]);g!=null&&r(e,["baseModel"],g);const v=s(n,["_self"]);v!=null&&r(e,["tunedModel"],zA(v));const T=s(n,["distillationSpec"]);T!=null&&r(e,["distillationSpec"],T);const x=s(n,["experiment"]);x!=null&&r(e,["experiment"],x);const E=s(n,["labels"]);E!=null&&r(e,["labels"],E);const R=s(n,["pipelineJob"]);R!=null&&r(e,["pipelineJob"],R);const N=s(n,["satisfiesPzi"]);N!=null&&r(e,["satisfiesPzi"],N);const D=s(n,["satisfiesPzs"]);D!=null&&r(e,["satisfiesPzs"],D);const B=s(n,["serviceAccount"]);B!=null&&r(e,["serviceAccount"],B);const L=s(n,["tunedModelDisplayName"]);return L!=null&&r(e,["tunedModelDisplayName"],L),e}function FA(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Tp(m))),r(e,["tuningJobs"],d)}return e}function HA(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["metadata"]);a!=null&&r(e,["metadata"],a);const c=s(n,["done"]);c!=null&&r(e,["done"],c);const d=s(n,["error"]);return d!=null&&r(e,["error"],d),e}function OA(n){const e={},l=s(n,["checkpointId"]);l!=null&&r(e,["checkpointId"],l);const a=s(n,["epoch"]);a!=null&&r(e,["epoch"],a);const c=s(n,["step"]);c!=null&&r(e,["step"],c);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function YA(n){const e={},l=s(n,["model"]);l!=null&&r(e,["model"],l);const a=s(n,["endpoint"]);a!=null&&r(e,["endpoint"],a);const c=s(n,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>OA(m))),r(e,["checkpoints"],d)}return e}function Eu(n){const e={},l=s(n,["name"]);l!=null&&r(e,["name"],l);const a=s(n,["state"]);a!=null&&r(e,["state"],Qh(a));const c=s(n,["createTime"]);c!=null&&r(e,["createTime"],c);const d=s(n,["startTime"]);d!=null&&r(e,["startTime"],d);const m=s(n,["endTime"]);m!=null&&r(e,["endTime"],m);const h=s(n,["updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["error"]);y!=null&&r(e,["error"],y);const g=s(n,["description"]);g!=null&&r(e,["description"],g);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const T=s(n,["tunedModel"]);T!=null&&r(e,["tunedModel"],YA(T));const x=s(n,["supervisedTuningSpec"]);x!=null&&r(e,["supervisedTuningSpec"],x);const E=s(n,["tuningDataStats"]);E!=null&&r(e,["tuningDataStats"],E);const R=s(n,["encryptionSpec"]);R!=null&&r(e,["encryptionSpec"],R);const N=s(n,["partnerModelTuningSpec"]);N!=null&&r(e,["partnerModelTuningSpec"],N);const D=s(n,["distillationSpec"]);D!=null&&r(e,["distillationSpec"],D);const B=s(n,["experiment"]);B!=null&&r(e,["experiment"],B);const L=s(n,["labels"]);L!=null&&r(e,["labels"],L);const z=s(n,["pipelineJob"]);z!=null&&r(e,["pipelineJob"],z);const $=s(n,["satisfiesPzi"]);$!=null&&r(e,["satisfiesPzi"],$);const G=s(n,["satisfiesPzs"]);G!=null&&r(e,["satisfiesPzs"],G);const Q=s(n,["serviceAccount"]);Q!=null&&r(e,["serviceAccount"],Q);const ee=s(n,["tunedModelDisplayName"]);return ee!=null&&r(e,["tunedModelDisplayName"],ee),e}function JA(n){const e={},l=s(n,["sdkHttpResponse"]);l!=null&&r(e,["sdkHttpResponse"],l);const a=s(n,["nextPageToken"]);a!=null&&r(e,["nextPageToken"],a);const c=s(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>Eu(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KA extends bi{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new bo(Ri.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const a=await this.tuneMldevInternal(l);let c="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?c=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(c=a.name.split("/operations/")[0]),{name:c,state:hu.JOB_STATE_QUEUED}}}}async getInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=VA(e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>Eu(v))}else{const g=RA(e);return h=me("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Tp(v))}}async listInternal(e){var l,a,c,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const g=LA(e);return h=me("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=JA(v),x=new ph;return Object.assign(x,T),x})}else{const g=NA(e);return h=me("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(c=e.config)===null||c===void 0?void 0:c.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=FA(v),x=new ph;return Object.assign(x,T),x})}}async tuneInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI()){const h=GA(e);return d=me("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>Eu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,a;let c,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=UA(e);return d=me("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,c=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),c.then(y=>HA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $A{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XA=1024*1024*8,QA=3,ZA=1e3,WA=2,du="x-goog-upload-status";async function jA(n,e,l){var a,c,d;let m=0,h=0,y=new pu(new Response),g="upload";for(m=n.size;h<m;){const T=Math.min(XA,m-h),x=n.slice(h,h+T);h+T>=m&&(g+=", finalize");let E=0,R=ZA;for(;E<QA&&(y=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((a=y==null?void 0:y.headers)===null||a===void 0)&&a[du]));)E++,await t1(R),R=R*WA;if(h+=T,((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[du])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[du])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function e1(n){return{size:n.size,type:n.type}}function t1(n){return new Promise(e=>setTimeout(e,n))}class n1{async upload(e,l,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await jA(e,l,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await e1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class i1{create(e,l,a){return new l1(e,l,a)}}class l1{constructor(e,l,a){this.url=e,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gh="x-goog-api-key";class o1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Gh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Gh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a1="gl-node/";class s1{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const a=cv(e.httpOptions,e.vertexai,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const c=new o1(this.apiKey);this.apiClient=new ME({auth:c,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:a1+"web",uploader:new n1,downloader:new $A}),this.models=new JE(this.apiClient),this.live=new PE(this.apiClient,c,new i1),this.batches=new U0(this.apiClient),this.chats=new kT(this.models,this.apiClient),this.caches=new VT(this.apiClient),this.files=new QT(this.apiClient),this.operations=new QE(this.apiClient),this.authTokens=new MA(this.apiClient),this.tunings=new KA(this.apiClient)}}const r1=()=>"PLACEHOLDER_API_KEY";let Au=null;const zh=r1();if(zh)try{Au=new s1({apiKey:zh})}catch(n){console.error("Failed to initialize GoogleGenAI:",n)}const u1=n=>{switch(n){case"euclid_I_47":return["a","b","c"];case"euclid_I_1":return["side","height"];case"euclid_II_5":return["g","h","a"];case"circle_ratios":return["radius","circumference","area"];case"euclid_I_5":return["side","base"];case"thales_theorem":return["a","b","diameter"];case"fibonacci_spiral":return["length",...Array.from({length:11},(e,l)=>`step${l+1}`)];case"fibonacci_circles":return Array.from({length:11},(e,l)=>`radius${l+1}`);case"golden_ratio_from_square":return["size","segment_b","total"];case"silver_ratio":return["a","b","total"];case"eye_of_horus":return["fraction"];case"flower_of_life":return["circles","vesicaPiscis"];case"lituus_spiral":return["radius","angle"];default:return[]}},c1=n=>{switch(n){case"euclid_I_47":return["a","b"];case"euclid_I_1":return["size"];case"euclid_II_5":return["ab","c"];case"circle_ratios":return["radius"];case"euclid_I_5":return["ab"];case"thales_theorem":return["angle"];case"fibonacci_spiral":return["count","size"];case"fibonacci_circles":return["count"];case"golden_ratio_from_square":return["size"];case"silver_ratio":return["size"];case"eye_of_horus":return["fraction"];case"flower_of_life":return["steps"];case"lituus_spiral":return["a","rotations"];default:return[]}},f1=async(n,e,l,a,c)=>{if(!Au)throw new Error("Gemini AI service is not available. Please ensure the API_KEY is configured correctly.");const d=u1(n),m=c1(n),h={presetKey:{type:Ue.STRING},sonificationRules:{type:Ue.OBJECT,properties:{baseFrequency:{type:Ue.NUMBER},waveform:{type:Ue.STRING,enum:["sine","square","sawtooth","triangle","pulse","fm"]},scale:{type:Ue.STRING,enum:["chromatic","major","minor_pentatonic","dorian","phrygian","lydian","mixolydian","blues"]},mode:{type:Ue.STRING,enum:["pitch","volume","filter"]},normalization:{type:Ue.STRING,enum:["none","global"]},maxPolyphony:{type:Ue.NUMBER},granularModulationTarget:{type:Ue.STRING,enum:["pitch","rate","duration"]},lfo:{type:Ue.OBJECT,properties:{target:{type:Ue.STRING,enum:["none","pitch","volume","filter"]},waveform:{type:Ue.STRING,enum:["sine","square","sawtooth","triangle"]},rate:{type:Ue.NUMBER},depth:{type:Ue.NUMBER}},required:["target","waveform","rate","depth"]},lfoModulationTarget:{type:Ue.STRING,enum:["rate","depth"]}},required:["baseFrequency","waveform","scale","mode","normalization","granularModulationTarget","lfo","lfoModulationTarget","maxPolyphony"]},explanation:{type:Ue.STRING,description:"Your creative rationale for the patch."}},y=m.reduce((N,D)=>(N[D]={type:Ue.NUMBER},N),{});Object.keys(y).length>0&&(h.geometryData={type:Ue.OBJECT,properties:y,required:m});const g=d.reduce((N,D)=>(N[D]={type:Ue.BOOLEAN},N),{});Object.keys(g).length>0&&(h.sonificationSelection={type:Ue.OBJECT,properties:g});const v=d.reduce((N,D)=>(N[D]={type:Ue.STRING,enum:["oscillator","white_noise","pink_noise","brown_noise","granular"]},N),{});Object.keys(v).length>0&&(h.sourceAssignments={type:Ue.OBJECT,properties:v});const T=d.reduce((N,D)=>(N[D]={type:Ue.STRING,enum:["none","distortion","delay","reverb"]},N),{});Object.keys(T).length>0&&(h.fxAssignments={type:Ue.OBJECT,properties:T});const x=["presetKey","sonificationRules","explanation"];Object.keys(y).length>0&&x.push("geometryData"),Object.keys(g).length>0&&x.push("sonificationSelection","sourceAssignments","fxAssignments");const E={type:Ue.OBJECT,properties:h,required:x},R=`
        You are an expert sound designer creating a sonification patch for an interactive web app.
        Your task is to creatively interpret a mathematical concept as a complete sound design patch.

        1.  **Analyze the Concept:**
            - Name: "${e}"
            - Description: "${l}"
            - Sonifiable Values (keys for selection/assignment): [${d.join(", ")}]
            - Controllable Parameters (keys for geometryData): [${m.join(", ")}]

        2.  **Follow Creative Direction:**
            - Style: ${a}
            - User Notes: ${c||"None"}

        3.  **Your Task & Rules:**
            - Generate a complete JSON patch strictly conforming to the provided schema.
            - Be creative. Map mathematical properties to sound parameters meaningfully. Use stable bass drones for fundamental values and dynamic, higher-pitched sounds for dependent values.
            - Set initial slider values in \`geometryData\` (typically between 10-150).
            - All keys in \`sonificationSelection\`, \`sourceAssignments\`, and \`fxAssignments\` MUST be from the 'Sonifiable Values' list.
            - \`sourceAssignments\` can be 'oscillator', 'white_noise', 'pink_noise', 'brown_noise', or 'granular'.
            - \`fxAssignments\` can be 'none', 'distortion', 'delay', 'reverb'.
            - **IMPORTANT: DO NOT include the "sourceParameters" key in your response. It is optional and handled by the app.**
            - Write a brief, 2-4 sentence \`explanation\` describing your creative choices and how they relate to the math.

        Generate the JSON patch now.
    `;try{const D=(await Au.models.generateContent({model:"gemini-2.5-flash",contents:R,config:{responseMimeType:"application/json",responseSchema:E}})).text.trim();try{const B=JSON.parse(D);return B.presetKey=n,B}catch(B){throw console.error("Failed to parse JSON response from Gemini:",B),console.error("Received text:",D),new Error("The AI returned a response that was not valid JSON.")}}catch(N){console.error("Error fetching or parsing patch from Gemini:",N);let D="Sorry, I couldn't generate a patch. The API returned an unexpected response.";throw N instanceof Error&&(N.message.includes("API_KEY")?D="The Gemini API key is invalid or missing. Please check your configuration.":N.message.includes("not valid JSON")?D=N.message:N.message.toLowerCase().includes("invalid")&&(D="The request to the AI was invalid, possibly due to a content safety policy or a schema mismatch. Please try a different prompt.")),new Error(D)}},d1={dark:{"--bg-primary":"#111827","--bg-secondary":"#1F2937","--bg-tertiary":"#374151","--text-primary":"#F9FAFB","--text-secondary":"#9CA3AF","--border-primary":"#374151","--accent-primary":"#3B82F6","--accent-secondary":"#EF4444","--accent-tertiary":"#10B981","--font-family":"'Inter', sans-serif"},byrne:{"--bg-primary":"#F0EAD6","--bg-secondary":"#F8F5EC","--bg-tertiary":"#DCD5C6","--text-primary":"#2A2A2A","--text-secondary":"#5A5A5A","--border-primary":"#C9C1B2","--accent-primary":"#3B82F6","--accent-secondary":"#E23636","--accent-tertiary":"#B58B00","--font-family":"'Inter', sans-serif"}},m1=()=>{const[n,e]=le.useState("dark"),[l,a]=le.useState("euclid_I_47"),c=yl[l],d=le.useMemo(()=>new av,[]),[m,h]=le.useState(!1),[y,g]=le.useState(window.innerWidth<1024);le.useEffect(()=>{const Y=document.documentElement,ne=d1[n];for(const[Z,ht]of Object.entries(ne))Y.style.setProperty(Z,ht)},[n]),le.useEffect(()=>{const Y=()=>g(window.innerWidth<1024);return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),le.useEffect(()=>()=>d.stop(!0),[d]);const[v,T]=le.useState({a:60,b:80}),[x,E]=le.useState({radius:75}),[R,N]=le.useState({ab:120}),[D,B]=le.useState({size:100}),[L,z]=le.useState({angle:45}),[$,G]=le.useState({count:8,size:5}),[Q,ee]=le.useState({count:8}),[de,ie]=le.useState({size:80}),[ue,ce]=le.useState({fraction:0}),[J,_e]=le.useState({steps:2}),[xe,W]=le.useState({a:90,rotations:4}),[I,X]=le.useState({size:150}),[oe,fe]=le.useState({ab:200,c:120}),M={euclid_I_47:T,circle_ratios:E,euclid_I_5:N,golden_ratio_from_square:B,thales_theorem:z,fibonacci_spiral:G,fibonacci_circles:ee,silver_ratio:ie,eye_of_horus:ce,flower_of_life:_e,lituus_spiral:W,euclid_I_1:X,euclid_II_5:fe},P=le.useCallback(Y=>{const ne=M[l];ne&&ne(Z=>({...Z,...Y}))},[l,M]),[j,te]=le.useState("continuous"),[pe,Ne]=le.useState(3),[ye,ft]=le.useState({baseFrequency:220,mapping:"length_to_freq",waveform:"sine",scale:"major",mode:"pitch",normalization:"none",granularModulationTarget:"pitch",lfo:{target:"none",waveform:"sine",rate:2,depth:.25},lfoModulationTarget:"rate",maxPolyphony:10}),[Ce,at]=le.useState({euclid_I_47:{a:!0,b:!0,c:!1},euclid_I_1:{side:!0,height:!1},euclid_II_5:{g:!0,h:!1,a:!1},circle_ratios:{radius:!0,circumference:!1,area:!1},euclid_I_5:{side:!0,base:!1},thales_theorem:{a:!0,b:!1,diameter:!1},fibonacci_spiral:{length:!0},fibonacci_circles:{radius1:!0},golden_ratio_from_square:{size:!0,segment_b:!1,total:!1},silver_ratio:{a:!0,b:!1,total:!1},eye_of_horus:{fraction:!0},flower_of_life:{circles:!0,vesicaPiscis:!1},lituus_spiral:{radius:!0,angle:!1}}),[bt,un]=le.useState({}),[Ot,yn]=le.useState({}),[st,qn]=le.useState({}),[cn,Ct]=le.useState({}),[fn,Di]=le.useState([]),[ai,Le]=le.useState(!0),[Ln,wi]=le.useState(!1),[vn,Al]=le.useState({x:0,y:0}),[Yt,dt]=le.useState("direct"),[Jt,mt]=le.useState(!1),[Ml,si]=le.useState(null),[ri,K]=le.useState(null),[Ge,ge]=le.useState("ambient"),[we,Xe]=le.useState(""),[Ii,Rl]=le.useState({isEnabled:!1,bpm:120,kickVolume:.8,snareVolume:.7,hatVolume:.5,harmonicBass:!1}),[ui,Ui]=le.useState({}),kn=le.useCallback(Y=>{if(yl[Y.presetKey]){a(Y.presetKey);const ne=M[Y.presetKey];ne&&Y.geometryData&&ne(Z=>({...Z,...Y.geometryData})),ft(Y.sonificationRules),at(Z=>({...Z,[Y.presetKey]:Y.sonificationSelection})),un(Z=>({...Z,[Y.presetKey]:Y.sourceAssignments})),yn(Z=>({...Z,[Y.presetKey]:Y.blendAssignments||{}})),qn(Z=>({...Z,[Y.presetKey]:Y.fxAssignments})),Ct(Z=>({...Z,[Y.presetKey]:Y.sourceParameters||{}})),K(Y.explanation)}else console.error("Attempted to apply patch for an unknown preset:",Y.presetKey)},[M]),Wa=le.useCallback(async()=>{mt(!0),si(null),K(null);try{const Y=await f1(l,c.name,Em[l],Ge,we);kn(Y)}catch(Y){console.error("Error generating patch:",Y),si(Y instanceof Error?Y.message:"An unknown error occurred during generation.")}finally{mt(!1)}},[l,c.name,Ge,we,kn]),bl=le.useCallback(Y=>{if(yl[Y.presetKey]){a(Y.presetKey);const ne=M[Y.presetKey];ne&&Y.geometryData&&ne(Z=>({...Z,...Y.geometryData})),ft(Y.sonificationRules),at(Z=>({...Z,[Y.presetKey]:Y.sonificationSelection})),un(Z=>({...Z,[Y.presetKey]:Y.sourceAssignments})),yn(Z=>({...Z,[Y.presetKey]:Y.blendAssignments||{}})),qn(Z=>({...Z,[Y.presetKey]:Y.fxAssignments})),Ct(Z=>({...Z,[Y.presetKey]:Y.sourceParameters||{}})),Rl(Y.rhythmSettings),Ui(Z=>({...Z,[Y.presetKey]:Y.rhythmSourceMapping})),K(Y.explanation||null),e(Y.theme||"dark"),dt(Y.interactionMode||"direct")}else console.error("Attempted to apply patch for an unknown preset:",Y.presetKey)},[M]),No=le.useCallback(()=>{const Y={euclid_I_47:v,circle_ratios:x,euclid_I_5:R,golden_ratio_from_square:D,thales_theorem:L,fibonacci_spiral:$,fibonacci_circles:Q,silver_ratio:de,eye_of_horus:ue,flower_of_life:J,lituus_spiral:xe,euclid_I_1:I,euclid_II_5:oe}[l],ne={presetKey:l,geometryData:Y,sonificationRules:ye,sonificationSelection:Ce[l]||{},sourceAssignments:bt[l]||{},blendAssignments:Ot[l]||{},fxAssignments:st[l]||{},sourceParameters:cn[l]||{},rhythmSettings:Ii,rhythmSourceMapping:ui[l]||{},explanation:ri||null,theme:n,interactionMode:Yt},Z=new Blob([JSON.stringify(ne,null,2)],{type:"application/json"}),ht=URL.createObjectURL(Z),se=document.createElement("a");se.href=ht,se.download=`${c.name.replace(/ /g,"_").toLowerCase()}_preset.json`,document.body.appendChild(se),se.click(),document.body.removeChild(se),URL.revokeObjectURL(ht)},[l,c.name,ye,Ce,bt,Ot,st,cn,Ii,ui,ri,n,Yt,v,x,R,D,L,$,Q,de,ue,J,xe,I,oe]),Nl=le.useCallback(Y=>{var ht;const ne=(ht=Y.target.files)==null?void 0:ht[0];if(!ne)return;const Z=new FileReader;Z.onload=se=>{var re;try{const De=(re=se.target)==null?void 0:re.result;if(typeof De!="string")throw new Error("File could not be read.");const Qe=JSON.parse(De);if(Qe.presetKey&&Qe.sonificationRules&&Qe.rhythmSettings)bl(Qe);else throw new Error("Invalid master preset file format.")}catch(De){si(De instanceof Error?De.message:"Failed to import preset.")}},Z.readAsText(ne),Y.target.value=""},[bl]),Dl=le.useCallback(()=>{document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(Y=>{alert(`Error attempting to enable full-screen mode: ${Y.message} (${Y.name})`)})},[]);le.useEffect(()=>{const Y=()=>{h(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",Y),()=>{document.removeEventListener("fullscreenchange",Y)}},[]);const Vi={euclid_I_47:v,circle_ratios:x,euclid_I_5:R,golden_ratio_from_square:D,thales_theorem:L,fibonacci_spiral:$,fibonacci_circles:Q,silver_ratio:de,eye_of_horus:ue,flower_of_life:J,lituus_spiral:xe,euclid_I_1:I,euclid_II_5:oe},Do=le.useMemo(()=>{let Y=[];const ne=(se,re)=>{var De;(De=Ce[l])!=null&&De[se]&&isFinite(re)&&Y.push({key:se,value:re})},Z=Vi[l];if(c.key==="euclid_I_47"&&"a"in Z&&"b"in Z){const{a:se,b:re}=Z;ne("a",se),ne("b",re),ne("c",Math.sqrt(se*se+re*re))}else if(c.key==="euclid_I_1"&&"size"in Z){const{size:se}=Z;ne("side",se),ne("height",Math.sqrt(3)/2*se)}else if(c.key==="euclid_II_5"&&"ab"in Z){const{ab:se,c:re}=Z,De=se/2,Qe=Math.abs(De-re);ne("g",Math.log1p(re*(se-re))*10),ne("h",Math.log1p(Qe*Qe)*10),ne("a",Math.log1p(re*(se-re))*10)}else if(c.key==="circle_ratios"&&"radius"in Z){const{radius:se}=Z;ne("radius",se),ne("circumference",2*Math.PI*se),ne("area",Math.PI*se*se/10)}else if(c.key==="euclid_I_5"&&"ab"in Z){const{ab:se}=Z,re=se,De=Math.min(re*1.6,re*2-1);ne("side",re),ne("base",De)}else if(c.key==="thales_theorem"&&"angle"in Z){const{angle:se}=Z,re=140,De=se*Math.PI/180,Qe={x:-re,y:0},pt={x:re,y:0},gt={x:re*Math.cos(De),y:-re*Math.sin(De)},Je=Math.hypot(gt.x-pt.x,gt.y-pt.y),St=Math.hypot(gt.x-Qe.x,gt.y-Qe.y);ne("a",Je),ne("b",St),ne("diameter",2*re)}else if(c.key==="fibonacci_spiral"&&"count"in Z){const{count:se,size:re}=Z,De=[0,1,1,2,3,5,8,13,21,34,55,89];let Qe=0;for(let pt=0;pt<se;pt++){const gt=De[pt+1]*re;ne(`step${pt+1}`,gt),Qe+=Math.PI*(De[pt+1]*re)/2}ne("length",Math.log2(Qe+1)*25)}else if(c.key==="fibonacci_circles"&&"count"in Z){const{count:se}=Z,re=[0,1,1,2,3,5,8,13,21,34,55,89];for(let De=0;De<se;De++)ne(`radius${De+1}`,Math.log2(re[De+1]+1)*50)}else if(c.key==="golden_ratio_from_square"&&"size"in Z){const{size:se}=Z,re=(1+Math.sqrt(5))/2;ne("size",se),ne("segment_b",se*(re-1)),ne("total",se*re)}else if(c.key==="silver_ratio"&&"size"in Z){const{size:se}=Z,re=1+Math.sqrt(2);ne("b",se),ne("a",se*(re-2)),ne("total",se*re)}else if(c.key==="eye_of_horus"&&"fraction"in Z){const{fraction:se}=Z,re=1/(1<<se+1);ne("fraction",re*1e3)}else if(c.key==="flower_of_life"&&"steps"in Z){const{steps:se}=Z,re=50,De=[[0,0]];for(let Qe=1;Qe<se;Qe++){const pt=[],gt=new Set(De.map(Je=>`${Je[0].toFixed(1)},${Je[1].toFixed(1)}`));De.forEach(([Je,St])=>{[[Je+re,St],[Je-re,St],[Je+re*.5,St+re*Math.sqrt(3)/2],[Je-re*.5,St+re*Math.sqrt(3)/2],[Je+re*.5,St-re*Math.sqrt(3)/2],[Je-re*.5,St-re*Math.sqrt(3)/2]].forEach(Lt=>{const Ze=`${Lt[0].toFixed(1)},${Lt[1].toFixed(1)}`;gt.has(Ze)||(pt.push(Lt),gt.add(Ze))})}),De.push(...pt)}ne("circles",Math.log2(De.length+1)*40),ne("vesicaPiscis",se>1?Math.log2((se-1)*6+1)*40:0)}else if(c.key==="lituus_spiral"&&"a"in Z){const{a:se,rotations:re}=Z;ne("radius",se),ne("angle",re*50)}let ht=Y;if(ye.normalization==="global"&&Y.length>0){const se=Math.max(...Y.map(re=>re.value),0);se>0&&(ht=Y.map(re=>({...re,value:re.value/se*200})))}return ht.map(({key:se,value:re})=>{var St,Lt,Ze;const De=((St=bt[l])==null?void 0:St[se])||"oscillator",Qe=((Lt=st[l])==null?void 0:Lt[se])||"none",pt=((Ze=cn[l])==null?void 0:Ze[se])||{},gt=!["oscillator","white_noise","pink_noise","brown_noise","granular","rhythmic_pulse"].includes(De);let Je={key:se,value:Math.max(.001,re),fx:Qe,fm:pt.fm,granular:pt.granular};if(gt){const Kt=fn.find(wo=>wo.id===De);Je={...Je,type:Kt?"sample":"oscillator",buffer:Kt==null?void 0:Kt.buffer}}else if(De==="granular"){const Kt=fn[0];Je={...Je,type:Kt?"granular":"oscillator",buffer:Kt==null?void 0:Kt.buffer}}else Je={...Je,type:De};return Je})},[l,Vi,Ce,bt,st,cn,fn,ye.normalization,c.key]),on=S.jsx(lv,{sonificationEngine:d,themeName:n,preset:c,data:Vi[l],onGeometryChange:P,sonificationRules:ye,sonificationSelection:Ce[l]||{},sourceAssignments:bt[l]||{},blendAssignments:Ot[l]||{},fxAssignments:st[l]||{},sourceParameters:cn[l]||{},samples:fn,showLabels:ai,isMuted:Ln,xy:vn,onXYChange:(Y,ne)=>Al({x:Y,y:ne}),playbackMode:j,fadeoutTime:pe,interactionMode:Yt,rhythmSettings:Ii,rhythmSourceMapping:ui[l]||{},sourcesToSonify:Do});return S.jsxs("div",{className:"flex flex-col lg:flex-row h-screen bg-bg-primary text-text-primary overflow-hidden",children:[S.jsx("div",{className:"w-full lg:w-5/12 xl:w-[30rem] h-full border-r border-border-primary",children:S.jsx(Oy,{isMobileView:y,visualizerComponent:on,sonificationEngine:d,theme:n,onThemeChange:e,activePresetKey:l,onPresetChange:Y=>{a(Y),K(null)},description:Em[l],euclidI47Data:v,onEuclidI47Change:T,euclidI1Data:I,onEuclidI1Change:X,euclidII5Data:oe,onEuclidII5Change:fe,circleData:x,onCircleChange:E,euclidIData:R,onEuclidIChange:N,goldenRatioSquareData:D,onGoldenRatioSquareChange:B,thalesData:L,onThalesChange:z,fibonacciData:$,onFibonacciChange:G,fibonacciCirclesData:Q,onFibonacciCirclesChange:ee,silverRatioData:de,onSilverRatioChange:ie,eyeOfHorusData:ue,onEyeOfHorusChange:ce,flowerOfLifeData:J,onFlowerOfLifeChange:_e,lituusSpiralData:xe,onLituusSpiralChange:W,playbackMode:j,onPlaybackModeChange:te,fadeoutTime:pe,onFadeoutTimeChange:Ne,sonificationRules:ye,onSonificationRulesChange:ft,sonificationSelection:Ce[l]||{},onSonificationSelectionChange:(Y,ne)=>at(Z=>({...Z,[l]:{...Z[l],[Y]:ne}})),samples:fn,onSamplesChange:Di,sourceAssignments:bt[l]||{},onSourceAssignmentChange:(Y,ne)=>un(Z=>({...Z,[l]:{...Z[l],[Y]:ne}})),blendAssignments:Ot[l]||{},onBlendAssignmentChange:(Y,ne)=>yn(Z=>({...Z,[l]:{...Z[l],[Y]:ne}})),fxAssignments:st[l]||{},onFxAssignmentChange:(Y,ne)=>qn(Z=>({...Z,[l]:{...Z[l],[Y]:ne}})),sourceParameters:cn[l]||{},onSourceParameterChange:(Y,ne,Z)=>Ct(ht=>{var se;return{...ht,[l]:{...ht[l],[Y]:{...((se=ht[l])==null?void 0:se[Y])||{},[ne]:Z}}}}),showLabels:ai,onShowLabelsChange:Le,isMuted:Ln,onIsMutedChange:wi,activePreset:c,interactionMode:Yt,onInteractionModeChange:dt,isFullScreen:m,onToggleFullScreen:Dl,aiStyle:Ge,onAiStyleChange:ge,aiNotes:we,onAiNotesChange:Xe,isGenerating:Jt,generationError:Ml,generatedExplanation:ri,onGenerate:Wa,onExport:No,onImport:Nl,rhythmSettings:Ii,onRhythmSettingsChange:Rl,rhythmSourceMapping:ui[l]||{},onRhythmSourceMappingChange:Y=>Ui(ne=>({...ne,[l]:Y})),sonifiableValues:Do.map(Y=>Y.key)})}),S.jsx("main",{className:"hidden lg:flex w-full lg:w-7/12 xl:w-[calc(100%-30rem)] h-full bg-bg-secondary items-center justify-center p-4",children:on})]})},Cp=document.getElementById("root");if(!Cp)throw new Error("Could not find root element to mount to");const h1=Py.createRoot(Cp);h1.render(S.jsx(Hh.StrictMode,{children:S.jsx(m1,{})}));
